import{j as e,r as h,a as G,J as b,c as y}from"./app-DbtvrzCH.js";import{I as d,D as N}from"./Button-CgCKgwRd.js";import"./moment-C5S46NFB.js";import"./id-DNGKkZzB.js";import{D as J,C as U,P as $}from"./react-beautiful-dnd.esm-D38ohTwd.js";import{y as p}from"./index-BnDXrXRt.js";import{L as Q}from"./Layout-nP23ILEi.js";import{c as i,u as q,B as t,P as w,T as a,a as f}from"./Button-B_2tu0cn.js";import{u as k}from"./index-BJHsQb-H.js";import{C as K}from"./Container-CHMV_DAY.js";import{D as _}from"./DragIndicator-DIhAE6IG.js";import{C as X}from"./Card-DBrS13VS.js";import{C as Z}from"./CardMedia-BfmN9CJc.js";import{C as ee}from"./CardContent-BDcyNa-E.js";import{S as re}from"./Star-C0Yn4_6R.js";import{S as oe}from"./StarBorder-D-XRe2Gf.js";import{C as z}from"./Slide-DsAvN5qg.js";import{C as te}from"./CardActions-l8qA0pjd.js";import{E as se}from"./Edit-LT1RMSQh.js";import{D as ae}from"./Delete-DKhiqqSP.js";import{T as v,W as ne}from"./Work-bK6ZZ-Qp.js";import{G as H}from"./GitHub-p5ZSMJb8.js";import{O as ie}from"./OpenInNew-D8-FU0dq.js";import{A as P}from"./Add-DoOXNSNv.js";import{D as le,a as ce,b as de}from"./DialogContent-CpDcnQgJ.js";import{D as pe}from"./DialogTitle-CnVKeRzh.js";import{D as xe}from"./DialogContentText-BbIC-bWf.js";import{A as me}from"./Article-duC-trlL.js";import{S as he}from"./School-CAFs7YU4.js";import{C as fe,L as ue}from"./Link-DQY4lxu3.js";import{P as je}from"./Public-D3jrHek-.js";import{D as ge}from"./Description-Z4oGvRZp.js";import"./tiny-invariant-BaFNuDhB.js";import"./Sidebar-sw6YawgY.js";import"./CheckCircle-nvk-SVVX.js";import"./ChevronRight-Bjx9uoMx.js";import"./Person-C1OGobf6.js";import"./Info-j9m1PK-Q.js";import"./People-KxvvNdCJ.js";import"./Event-JhFTkm8A.js";import"./Footer-BBk2Lp_N.js";const be=i(e.jsx("path",{d:"M20 2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h4v5l4-2 4 2v-5h4c1.11 0 2-.89 2-2V4c0-1.11-.89-2-2-2m0 13H4v-2h16zm0-5H4V4h16z"})),ye=i(e.jsx("path",{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H7v2h10v-2h-4v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2M5 8V7h2v3.82C5.84 10.4 5 9.3 5 8m14 0c0 1.3-.84 2.4-2 2.82V7h2z"})),ze=i(e.jsx("path",{d:"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12z"})),ve=i(e.jsx("path",{d:"m18 4 2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4z"})),Ce=i(e.jsx("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10c1.38 0 2.5-1.12 2.5-2.5 0-.61-.23-1.2-.64-1.67-.08-.1-.13-.21-.13-.33 0-.28.22-.5.5-.5H16c3.31 0 6-2.69 6-6 0-4.96-4.49-9-10-9m5.5 11c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m-3-4c-.83 0-1.5-.67-1.5-1.5S13.67 6 14.5 6s1.5.67 1.5 1.5S15.33 9 14.5 9M5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S7.33 13 6.5 13 5 12.33 5 11.5m6-4c0 .83-.67 1.5-1.5 1.5S8 8.33 8 7.5 8.67 6 9.5 6s1.5.67 1.5 1.5"})),Ie=i(e.jsx("path",{d:"M19.8 18.4 14 10.67V6.5l1.35-1.69c.26-.33.03-.81-.39-.81H9.04c-.42 0-.65.48-.39.81L10 6.5v4.17L4.2 18.4c-.49.66-.02 1.6.8 1.6h14c.82 0 1.29-.94.8-1.6"})),Se=i(e.jsx("path",{d:"M10 8v8l5-4zm9-5H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V5h14z"})),De=i(e.jsx("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}));function fr({auth:W,portfolioItems:M,types:R}){const[x,u]=h.useState(M),[V,j]=h.useState(!1),[c,g]=h.useState(null),[we,C]=h.useState(!1),I=q();k(I.breakpoints.down("sm")),k(I.breakpoints.down("md"));const T=o=>{g(o),j(!0)},L=()=>{c&&y.delete(route("candidate.portfolio.destroy",c.id)).then(o=>{u(x.filter(r=>r.id!==c.id)),p.success("Portfolio item deleted successfully"),j(!1),g(null)}).catch(o=>{console.error("Error deleting item:",o),p.error("Failed to delete portfolio item")})},S=()=>{j(!1),g(null)},A=o=>{y.patch(route("candidate.portfolio.toggle-featured",o.id)).then(r=>{const m=x.map(s=>s.id===o.id?{...s,is_featured:!s.is_featured}:s);u(m),p.success("Featured status updated")}).catch(r=>{console.error("Error toggling featured status:",r),p.error("Failed to update featured status")})},E=o=>{if(C(!1),!o.destination)return;const r=Array.from(x),[m]=r.splice(o.source.index,1);r.splice(o.destination.index,0,m);const s=r.map((n,l)=>({...n,display_order:l}));u(s),y.post(route("candidate.portfolio.update-order"),{items:s.map((n,l)=>({id:n.id,display_order:l}))}).then(n=>{p.success("Portfolio order updated")}).catch(n=>{console.error("Error updating order:",n),p.error("Failed to update portfolio order")})},D=o=>o?new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short"}):"Present",B=o=>R[o]||"Unknown Type",F=o=>{switch(o){case"project":return e.jsx(fe,{fontSize:"small"});case"work_experience":return e.jsx(ne,{fontSize:"small"});case"education":return e.jsx(he,{fontSize:"small"});case"certification":return e.jsx(be,{fontSize:"small"});case"publication":return e.jsx(me,{fontSize:"small"});case"award":return e.jsx(ye,{fontSize:"small"});case"presentation":return e.jsx(Se,{fontSize:"small"});case"creative_work":return e.jsx(Ce,{fontSize:"small"});case"research":return e.jsx(Ie,{fontSize:"small"});case"open_source":return e.jsx(H,{fontSize:"small"});case"other":default:return e.jsx(ze,{fontSize:"small"})}},O=o=>{switch(o){case"video":return e.jsx(ve,{fontSize:"small"});case"document":return e.jsx(ge,{fontSize:"small"});case"website":return e.jsx(je,{fontSize:"small"});case"social_media":return e.jsx(ue,{fontSize:"small"});case"repository":return e.jsx(De,{fontSize:"small"});case"image":default:return null}};return e.jsxs(Q,{user:W.user,header:e.jsxs(t,{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},gap:2,children:[e.jsx(a,{variant:"h5",component:"h1",fontWeight:600,children:"My Portfolio"}),e.jsx(f,{variant:"contained",color:"primary",startIcon:e.jsx(P,{}),component:b,href:route("candidate.portfolio.create"),sx:{borderRadius:"0.75rem",textTransform:"none",px:2,py:1,fontWeight:"medium"},children:"Add New Item"})]}),children:[e.jsx(G,{title:"My Portfolio"}),e.jsxs(K,{maxWidth:"xl",children:[x.length>0?e.jsxs(t,{sx:{mt:3},children:[e.jsxs(w,{elevation:0,sx:{p:3,mb:4,bgcolor:"background.paper",border:"1px solid",borderColor:"divider",borderRadius:2,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.05)"},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(_,{fontSize:"small",color:"action",sx:{mr:1,opacity:.7}}),e.jsx(a,{variant:"body1",fontWeight:"medium",color:"text.primary",children:"Manage Your Portfolio"})]}),e.jsx(a,{variant:"body2",color:"text.secondary",children:"Drag and drop items to reorder your portfolio. Star important items to feature them at the top."})]}),e.jsx(J,{onDragEnd:E,onDragStart:()=>C(!0),children:e.jsx(U,{droppableId:"portfolio-items",children:o=>e.jsxs(t,{sx:{display:"flex",flexWrap:"wrap",mx:-1.5},ref:o.innerRef,...o.droppableProps,children:[x.map((r,m)=>e.jsx($,{draggableId:r.id.toString(),index:m,children:(s,n)=>e.jsx(t,{ref:s.innerRef,...s.draggableProps,sx:{width:{xs:"100%",sm:"50%",md:"33.333%",lg:"25%"},p:1.5},style:{...s.draggableProps.style,zIndex:n.isDragging?1e3:"auto"},children:e.jsxs(X,{sx:{height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:4},position:"relative",backgroundColor:r.is_featured?"rgba(255, 244, 229, 0.7)":"background.paper",borderRadius:"1rem",overflow:"hidden"},children:[e.jsx(t,{...s.dragHandleProps,sx:{position:"absolute",top:8,left:8,cursor:"grab",zIndex:1,bgcolor:"rgba(255, 255, 255, 0.8)",borderRadius:"50%",p:.5,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:e.jsx(_,{color:"action"})}),e.jsx(Z,{component:"img",height:"160",image:r.thumbnail||"/default-project.jpg",alt:r.title,sx:{objectFit:"cover"},onError:l=>{l.target.src="/default-project.jpg"}}),e.jsxs(ee,{sx:{flexGrow:1,p:2.5},children:[e.jsxs(t,{sx:{mb:1,display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsx(a,{variant:"subtitle1",component:"h2",fontWeight:600,gutterBottom:!0,noWrap:!0,sx:{fontSize:"1.1rem",lineHeight:1.3},children:r.title}),e.jsx(d,{size:"small",color:r.is_featured?"warning":"default",onClick:()=>A(r),sx:{ml:1},children:r.is_featured?e.jsx(re,{}):e.jsx(oe,{})})]}),e.jsx(t,{sx:{display:"flex",alignItems:"center",mb:2},children:e.jsx(z,{icon:F(r.type),label:B(r.type),size:"small",color:"primary",variant:"outlined",sx:{borderRadius:"1rem","& .MuiChip-label":{px:1.5,fontWeight:"medium"}}})}),(r.role||r.organization)&&e.jsxs(a,{variant:"body2",color:"text.secondary",sx:{mb:1,fontWeight:r.role?500:400},children:[r.role&&r.role,r.role&&r.organization&&" at ",r.organization&&r.organization]}),e.jsx(a,{variant:"body2",color:"text.secondary",paragraph:!0,sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",minHeight:"3.6em",lineHeight:1.5},children:r.description||"No description provided."}),r.skills&&r.skills.length>0&&e.jsxs(t,{sx:{mb:2},children:[e.jsx(a,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.5,fontWeight:"medium"},children:"Skills:"}),e.jsxs(t,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:[r.skills.slice(0,3).map((l,Y)=>e.jsx(z,{label:l,size:"small",variant:"outlined",sx:{fontSize:"0.7rem",borderRadius:"0.75rem",height:"24px"}},Y)),r.skills.length>3&&e.jsx(z,{label:`+${r.skills.length-3}`,size:"small",variant:"outlined",sx:{fontSize:"0.7rem",borderRadius:"0.75rem",height:"24px"}})]})]}),(r.start_date||r.end_date)&&e.jsxs(a,{variant:"caption",display:"block",color:"text.secondary",sx:{mt:1},children:[D(r.start_date)," - ",D(r.end_date)]})]}),e.jsx(N,{}),e.jsxs(te,{sx:{justifyContent:"space-between",px:2,py:1},children:[e.jsxs(t,{children:[e.jsx(d,{size:"small",component:b,href:route("candidate.portfolio.edit",r.id),color:"primary",children:e.jsx(se,{fontSize:"small"})}),e.jsx(d,{size:"small",color:"error",onClick:()=>T(r),children:e.jsx(ae,{fontSize:"small"})})]}),e.jsxs(t,{children:[r.media_url&&e.jsx(v,{title:`View ${r.media_type||"Media"}`,children:e.jsx(d,{size:"small",href:r.media_url,target:"_blank",rel:"noopener noreferrer",color:"primary",children:O(r.media_type)})}),r.repository_url&&e.jsx(v,{title:"View Repository",children:e.jsx(d,{size:"small",href:r.repository_url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(H,{fontSize:"small"})})}),r.project_url&&e.jsx(v,{title:"View Project",children:e.jsx(d,{size:"small",href:r.project_url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(ie,{fontSize:"small"})})})]})]})]})})},r.id)),o.placeholder]})})})]}):e.jsx(t,{sx:{mt:4,textAlign:"center"},children:e.jsxs(w,{elevation:0,sx:{p:{xs:3,md:5},borderRadius:3,backgroundColor:"background.paper",border:"1px dashed",borderColor:"divider",maxWidth:700,mx:"auto",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.03)"},children:[e.jsx(a,{variant:"h6",gutterBottom:!0,color:"text.secondary",fontWeight:500,children:"You haven't added any portfolio items yet"}),e.jsx(a,{variant:"body2",color:"text.secondary",paragraph:!0,sx:{mb:3,maxWidth:500,mx:"auto"},children:"Create your professional portfolio to showcase your skills, projects, education, certifications, and achievements to potential employers."}),e.jsx(f,{variant:"contained",color:"primary",startIcon:e.jsx(P,{}),component:b,href:route("candidate.portfolio.create"),sx:{borderRadius:"0.75rem",py:1,px:2.5,textTransform:"none",fontWeight:"medium"},children:"Add Your First Item"})]})}),e.jsxs(le,{open:V,onClose:S,PaperProps:{sx:{borderRadius:2,overflow:"hidden"}},children:[e.jsx(pe,{sx:{pb:1},children:"Confirm Delete"}),e.jsx(ce,{children:e.jsxs(xe,{children:['Are you sure you want to delete "',c==null?void 0:c.title,'"? This action cannot be undone.']})}),e.jsxs(de,{sx:{px:3,pb:2},children:[e.jsx(f,{onClick:S,variant:"outlined",sx:{borderRadius:"0.75rem",textTransform:"none"},children:"Cancel"}),e.jsx(f,{onClick:L,color:"error",variant:"contained",sx:{borderRadius:"0.75rem",textTransform:"none"},children:"Delete"})]})]})]})]})}export{fr as default};

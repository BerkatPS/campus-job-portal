import{S as W,r as A,j as a,a as K,m as P,b as c}from"./app-BUVb_nAj.js";import{L as T}from"./Layout-DnkF-NCm.js";import{B as j,D as g}from"./Button-DzGhUBn7.js";import{u as k,B as n,T as i,P as D}from"./Button-DFxjcZ8p.js";import{u as z}from"./index-Dtg-WGcE.js";import{C as M}from"./Container-DEvTfuj0.js";import{A as F}from"./ArrowBack-Cgi6G0-j.js";import{C as L}from"./Card-D_rkxkaC.js";import{L as O}from"./LightbulbOutlined-4LJs1Rik.js";import{C as U}from"./CardContent-DTmJK9ga.js";import{A as $}from"./Slide-DYtCGdXj.js";import{B as E}from"./Work-CLEsMByH.js";import{W as Y}from"./WorkOutline-BRpprJQq.js";import{R as y}from"./Rating-CC-9-bPR.js";import{S as v}from"./StarBorder-BS1uSk71.js";import{S as w}from"./Star-Bgm7RHOV.js";import{a as H}from"./InputLabel-DpN5m5Yk.js";import{T as N}from"./TextField-DdsD0Afg.js";import{F as G}from"./FormControlLabel-DTCfN-Gd.js";import{C as Q}from"./Checkbox-DZaxlRGh.js";import{A as q}from"./Alert-j9c9aQEr.js";import{S as J,N as V}from"./SentimentSatisfiedAlt-goXhCwUM.js";import{S as X}from"./SentimentDissatisfied-4zTQ4XvH.js";import{S as Z}from"./Stack-DUsTNRwi.js";import"./Sidebar-DGzgELZX.js";import"./moment-C5S46NFB.js";import"./id-DNGKkZzB.js";import"./CheckCircle-Dd-oaFV0.js";import"./ChevronRight-FNylUib_.js";import"./Person-5k5xBlAT.js";import"./Info-CdM9Lqya.js";import"./People-6TwBzk5z.js";import"./Event-DRCIx1GO.js";import"./Footer-DSErbOqA.js";import"./visuallyHidden-Dan1xhjv.js";import"./Select-Bh9V9k3o.js";import"./SwitchBase-BRw57M3-.js";import"./Close-CafbgWA1.js";const x=({name:d,label:o,value:u,onChange:r,description:t})=>(k(),a.jsxs(n,{sx:{mb:3.5,p:2,borderRadius:"0.75rem",backgroundColor:l=>c(l.palette.secondary.light,.1),transition:"all 0.2s ease","&:hover":{backgroundColor:l=>c(l.palette.secondary.light,.15),transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"}},children:[a.jsxs(Z,{direction:"row",spacing:2,alignItems:"center",sx:{mb:1},children:[a.jsx(i,{variant:"subtitle1",sx:{fontWeight:600,flex:1},children:o}),a.jsx(y,{name:d,value:u,onChange:(l,h)=>r(d,h),precision:1,icon:a.jsx(w,{fontSize:"inherit"}),emptyIcon:a.jsx(v,{fontSize:"inherit"}),sx:{color:"secondary.main"}})]}),a.jsx(i,{variant:"caption",color:"text.secondary",children:t})]})),La=({jobApplication:d,company:o})=>{const u=k();z(u.breakpoints.down("md"));const{data:r,setData:t,post:l,processing:h,errors:s}=W({job_application_id:d.id,rating:0,review_text:"",rating_categories:{work_culture:0,career_growth:0,work_life_balance:0,salary_benefits:0,management:0},is_anonymous:!1}),[_,b]=A.useState(!1),m=(e,p)=>{t("rating_categories",{...r.rating_categories,[e]:p});const f=Object.values({...r.rating_categories,[e]:p}),B=f.reduce((R,I)=>R+I,0)/f.length;t("rating",Math.round(B))},C=e=>{if(e.preventDefault(),!r.rating){t("errors",{...s,rating:"Harap berikan penilaian keseluruhan"});return}if(r.review_text.length<10){t("errors",{...s,review_text:"Ulasan harus memiliki minimal 10 karakter"});return}b(!0),l(route("candidate.reviews.store"),{onSuccess:()=>{b(!1)},onError:()=>{b(!1)}})},S=e=>e>=4?a.jsx(J,{color:"success"}):e>=2?a.jsx(V,{color:"warning"}):e>0?a.jsx(X,{color:"error"}):null;return a.jsxs(T,{children:[a.jsx(K,{title:"Berikan Ulasan Perusahaan"}),a.jsxs(M,{maxWidth:"lg",sx:{py:4},children:[a.jsx(j,{variant:"text",color:"inherit",startIcon:a.jsx(F,{}),href:route("candidate.applications.index"),sx:{mb:3},children:"Kembali ke Aplikasi"}),a.jsx(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:a.jsxs(n,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:4},children:[a.jsx(n,{sx:{width:{xs:"100%",md:"30%"},order:{xs:1,md:0}},children:a.jsxs(L,{sx:{position:"sticky",top:24,mb:3,borderRadius:"1rem",overflow:"hidden",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.08)",transition:"transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out","&:hover":{boxShadow:"0 8px 25px rgba(0, 0, 0, 0.12)",transform:"translateY(-4px)"}},children:[a.jsxs(n,{sx:{p:2,background:e=>`linear-gradient(135deg, ${e.palette.primary.light} 0%, ${e.palette.secondary.light} 100%)`,color:"white",display:"flex",alignItems:"center",gap:1},children:[a.jsx(O,{fontSize:"small"}),a.jsx(i,{variant:"subtitle2",fontWeight:600,children:"Info Perusahaan"})]}),a.jsxs(U,{children:[a.jsxs(n,{sx:{display:"flex",alignItems:"center",mb:2},children:[a.jsx($,{src:o.logo,variant:"rounded",sx:{width:64,height:64,bgcolor:"primary.light",color:"primary.main",mr:2,borderRadius:"0.5rem",p:1},children:o.name?o.name.charAt(0):a.jsx(E,{})}),a.jsxs(n,{children:[a.jsx(i,{variant:"h6",sx:{fontWeight:600},children:o.name}),a.jsx(i,{variant:"body2",color:"text.secondary",children:o.industry})]})]}),a.jsx(g,{sx:{my:2}}),a.jsx(i,{variant:"subtitle2",fontWeight:600,gutterBottom:!0,children:"Posisi yang Dilamar"}),a.jsxs(n,{sx:{display:"flex",alignItems:"center",mb:2},children:[a.jsx(Y,{sx:{color:"text.secondary",mr:1}}),a.jsx(i,{variant:"body2",children:d.job.title})]}),a.jsx(g,{sx:{my:2}}),a.jsx(n,{sx:{p:2,borderRadius:"0.75rem",bgcolor:e=>c(e.palette.info.light,.1),border:"1px dashed",borderColor:"info.light"},children:a.jsx(i,{variant:"body2",color:"text.secondary",children:"Ulasan Anda sangat berharga untuk membantu kandidat lain dalam mencari pekerjaan yang sesuai."})})]})]})}),a.jsx(n,{sx:{width:{xs:"100%",md:"70%"},order:{xs:0,md:1}},children:a.jsxs(D,{component:"form",onSubmit:C,elevation:0,sx:{p:{xs:3,md:4},borderRadius:"1rem",border:"1px solid",borderColor:"divider",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.05)"},children:[a.jsxs(i,{variant:"h5",gutterBottom:!0,fontWeight:600,sx:{background:e=>`linear-gradient(135deg, ${e.palette.primary.main} 0%, ${e.palette.secondary.main} 100%)`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:["Berikan Ulasan untuk ",o.name]}),a.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:4},children:"Bagikan pengalaman dan pendapat Anda tentang perusahaan untuk membantu kandidat lain."}),a.jsxs(n,{sx:{mb:4,p:3,borderRadius:"1rem",backgroundColor:e=>c(e.palette.primary.light,.1)},children:[a.jsx(i,{variant:"subtitle1",sx:{fontWeight:600,mb:1},children:"Penilaian Keseluruhan"}),a.jsxs(n,{sx:{display:"flex",alignItems:"center",mb:2},children:[a.jsx(y,{name:"rating",value:r.rating,onChange:(e,p)=>t("rating",p),precision:1,size:"large",icon:a.jsx(w,{fontSize:"inherit"}),emptyIcon:a.jsx(v,{fontSize:"inherit"}),sx:{color:"secondary.main",mr:2}}),S(r.rating),a.jsxs(i,{variant:"body2",sx:{ml:1},children:[r.rating," dari 5"]})]}),s.rating&&a.jsx(H,{error:!0,children:s.rating})]}),a.jsx(g,{sx:{my:3}}),a.jsx(i,{variant:"subtitle1",sx:{fontWeight:600,mb:2,pb:1,borderBottom:"2px solid",borderColor:"secondary.main",display:"inline-block"},children:"Penilaian Berdasarkan Kategori"}),a.jsxs(n,{sx:{mb:3},children:[a.jsx(x,{name:"work_culture",label:"Budaya Kerja",value:r.rating_categories.work_culture,onChange:m,description:"Bagaimana budaya dan lingkungan kerja di perusahaan ini?"}),a.jsx(x,{name:"career_growth",label:"Pertumbuhan Karir",value:r.rating_categories.career_growth,onChange:m,description:"Bagaimana kesempatan untuk pertumbuhan dan pengembangan karir?"}),a.jsx(x,{name:"work_life_balance",label:"Keseimbangan Kerja",value:r.rating_categories.work_life_balance,onChange:m,description:"Bagaimana keseimbangan antara pekerjaan dan kehidupan pribadi?"}),a.jsx(x,{name:"salary_benefits",label:"Gaji & Tunjangan",value:r.rating_categories.salary_benefits,onChange:m,description:"Bagaimana gaji dan tunjangan yang ditawarkan?"}),a.jsx(x,{name:"management",label:"Manajemen",value:r.rating_categories.management,onChange:m,description:"Bagaimana gaya manajemen dan kepemimpinan di perusahaan?"})]}),a.jsx(g,{sx:{my:3}}),a.jsxs(n,{sx:{mb:3},children:[a.jsx(i,{variant:"subtitle1",sx:{fontWeight:600,mb:1},children:"Ceritakan Pengalaman Anda"}),a.jsx(N,{fullWidth:!0,multiline:!0,rows:6,variant:"outlined",placeholder:"Bagikan pengalaman, hal positif/negatif, dan saran untuk perusahaan...",value:r.review_text,onChange:e=>t("review_text",e.target.value),error:!!s.review_text,helperText:s.review_text||"Minimal 10 karakter",sx:{"& .MuiOutlinedInput-root":{borderRadius:"0.75rem"}}})]}),a.jsx(n,{sx:{mb:4,p:2,borderRadius:"0.75rem",backgroundColor:e=>c(e.palette.background.default,.6),border:"1px solid",borderColor:"divider"},children:a.jsx(G,{control:a.jsx(Q,{checked:r.is_anonymous,onChange:e=>t("is_anonymous",e.target.checked),color:"secondary"}),label:"Kirim sebagai anonim (nama Anda tidak akan ditampilkan)"})}),Object.keys(s).length>0&&a.jsx(q,{severity:"error",sx:{mb:3,borderRadius:"0.75rem",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:"Mohon perbaiki kesalahan pada form sebelum mengirim."}),a.jsxs(n,{sx:{display:"flex",justifyContent:"flex-end",gap:2},children:[a.jsx(j,{variant:"outlined",color:"inherit",href:route("candidate.applications.index"),sx:{borderRadius:"0.75rem",py:1.25},children:"Batal"}),a.jsx(j,{type:"submit",variant:"contained",color:"secondary",disabled:h||_,sx:{borderRadius:"0.75rem",py:1.25,px:3,fontWeight:600,boxShadow:"0 4px 14px 0 rgba(156, 39, 176, 0.25)","&:hover":{boxShadow:"0 6px 20px 0 rgba(156, 39, 176, 0.35)",transform:"translateY(-2px)"},transition:"all 0.3s ease"},children:"Kirim Ulasan"})]})]})})]})})]})]})};export{La as default};

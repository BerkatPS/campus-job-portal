import{r as u,u as K,j as e,a as q,J as j}from"./app-DbtvrzCH.js";import{L as Q}from"./Layout-nP23ILEi.js";import{u as X,B as D,L as v,D as Y,I as f,i as Z,a as ee,F as re}from"./Button-CgCKgwRd.js";import{A as R}from"./Alert-BWXyQfZl.js";import"./moment-C5S46NFB.js";import"./id-DNGKkZzB.js";import{g as se,f as te,s as B,b as oe,d as ae,m as ne,c as N,u as ie,T as t,B as a,P as k}from"./Button-B_2tu0cn.js";import{u as le}from"./index-BJHsQb-H.js";import{C as de}from"./Container-CHMV_DAY.js";import{B as me}from"./Breadcrumbs-DUoWtdBV.js";import{N as ce}from"./NavigateNext-DIvksT2_.js";import{A as xe}from"./ArrowBack-BlJGXhv6.js";import{A as pe,C}from"./Slide-DsAvN5qg.js";import{B as he,L as x,b as p,a as h,T as b}from"./Work-bK6ZZ-Qp.js";import{C as S}from"./CalendarToday-CkOTnclg.js";import{c as ue,d as ye,S as je,a as fe,b as be}from"./Stepper-DlyzygAA.js";import{C as E}from"./Collapse-_l9f-ZL3.js";import{D as M}from"./Description-Z4oGvRZp.js";import{A,E as ge}from"./Sidebar-sw6YawgY.js";import{L as ve}from"./LocationOn-BAU5EuQK.js";import{I as w}from"./Info-j9m1PK-Q.js";import{V as Ce}from"./Visibility-7zZFC74a.js";import{C as G}from"./CloudDownload-DPHjtUjP.js";import{f as _}from"./format-Bimm2Xz4.js";import{i as z}from"./id-GFPdi1w9.js";import{C as Se}from"./Close-BbHhCS19.js";import"./Footer-BBk2Lp_N.js";import"./Alert-D22fyny9.js";import"./Close-Dpj-0MLQ.js";import"./AlertTitle-CTfZdqfc.js";import"./AccessTime-as3EkDL5.js";import"./ArrowForward-jR7HuMfl.js";import"./Error-D1IMUwky.js";import"./Warning-CYk4HSbS.js";import"./CheckCircle-nvk-SVVX.js";import"./LinearProgress-Cp3Ye6up.js";import"./ChevronRight-Bjx9uoMx.js";import"./Person-C1OGobf6.js";import"./People-KxvvNdCJ.js";import"./Event-JhFTkm8A.js";import"./en-US-DjmIwZ1X.js";import"./toDate-DQ4lCuA9.js";function we(r){return se("MuiStepContent",r)}te("MuiStepContent",["root","last","transition"]);const Ie=r=>{const{classes:o,last:i}=r;return ae({root:["root",i&&"last"],transition:["transition"]},we,o)},ke=B("div",{name:"MuiStepContent",slot:"Root",overridesResolver:(r,o)=>{const{ownerState:i}=r;return[o.root,i.last&&o.last]}})(ne(({theme:r})=>({marginLeft:12,paddingLeft:20,paddingRight:8,borderLeft:r.vars?`1px solid ${r.vars.palette.StepContent.border}`:`1px solid ${r.palette.mode==="light"?r.palette.grey[400]:r.palette.grey[600]}`,variants:[{props:{last:!0},style:{borderLeft:"none"}}]}))),Te=B(E,{name:"MuiStepContent",slot:"Transition",overridesResolver:(r,o)=>o.transition})({}),We=u.forwardRef(function(o,i){const d=K({props:o,name:"MuiStepContent"}),{children:T,className:W,TransitionComponent:m=E,transitionDuration:y="auto",TransitionProps:c,slots:s={},slotProps:n={},...$}=d,{orientation:De}=u.useContext(ue),{active:V,last:H,expanded:O}=u.useContext(ye),g={...d,last:H},L=Ie(g);let P=y;y==="auto"&&!m.muiSupportAuto&&(P=void 0);const F={slots:s,slotProps:{transition:c,...n}},[J,U]=X("transition",{elementType:Te,externalForwardedProps:F,ownerState:g,className:L.transition,additionalProps:{in:V||O,timeout:P,unmountOnExit:!0}});return e.jsx(ke,{className:oe(L.root,W),ref:i,ownerState:g,...$,children:e.jsx(J,{as:m,...U,children:T})})}),Le=N(e.jsx("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6z"})),I=N(e.jsx("path",{d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2"})),Pe=({open:r,handleClose:o,resumeUrl:i})=>e.jsx(Z,{open:r,onClose:o,closeAfterTransition:!0,BackdropComponent:ee,BackdropProps:{timeout:500},children:e.jsx(re,{in:r,children:e.jsxs(a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",maxWidth:900,maxHeight:"90vh",bgcolor:"background.paper",boxShadow:24,borderRadius:"1rem",overflow:"hidden",display:"flex",flexDirection:"column"},children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:2,bgcolor:"primary.50",borderBottom:"1px solid",borderColor:"primary.100"},children:[e.jsx(t,{variant:"h6",fontWeight:"bold",color:"primary.main",children:"Resume Preview"}),e.jsxs(a,{sx:{display:"flex",gap:1},children:[e.jsx(b,{title:"Download Resume",children:e.jsx(f,{component:"a",href:i,download:!0,size:"small",sx:{bgcolor:"primary.50","&:hover":{bgcolor:"primary.100"}},children:e.jsx(G,{fontSize:"small",color:"primary"})})}),e.jsx(b,{title:"Close",children:e.jsx(f,{onClick:o,size:"small",sx:{bgcolor:"error.50","&:hover":{bgcolor:"error.100"}},children:e.jsx(Se,{fontSize:"small",color:"error"})})})]})]}),e.jsx(a,{sx:{flexGrow:1,height:"calc(90vh - 64px)",overflow:"auto"},children:e.jsx("iframe",{src:`${i}#toolbar=0`,width:"100%",height:"100%",style:{border:"none"},title:"Resume Preview"})})]})})}),l=({children:r,elevation:o=0,sx:i={}})=>e.jsx(k,{elevation:o,sx:{borderRadius:"1rem",overflow:"hidden",border:"1px solid",borderColor:"divider",p:3,mb:3,transition:"all 0.3s ease","&:hover":{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05)"},...i},children:r});function gr({application:r}){const o=ie();le(o.breakpoints.down("md"));const[i,d]=u.useState(!1),[T,W]=u.useState(null),m=s=>{try{const n=new Date(s);return _(n,"d MMMM yyyy",{locale:z})}catch{return s}},y=s=>{try{const n=new Date(s);return _(n,"d MMMM yyyy, HH:mm",{locale:z})}catch{return s}},c=s=>({pending:o.palette.warning.main,reviewing:o.palette.info.main,interview:o.palette.primary.main,offered:o.palette.success.main,hired:o.palette.success.dark,rejected:o.palette.error.main,withdrawn:o.palette.error.light,disqualified:o.palette.error.dark})[s.slug]||o.palette.grey[500];return e.jsxs(Q,{children:[e.jsx(q,{title:`Lamaran untuk ${r.job.title}`}),e.jsxs(de,{maxWidth:"lg",sx:{py:4},children:[e.jsxs(me,{separator:e.jsx(ce,{fontSize:"small"}),"aria-label":"breadcrumb",sx:{mb:3},children:[e.jsx(j,{href:route("candidate.dashboard"),className:"text-gray-600 no-underline",children:"Dashboard"}),e.jsx(j,{href:route("candidate.applications.index"),className:"text-gray-600 no-underline",children:"Lamaran Saya"}),e.jsx(t,{color:"text.primary",children:"Detail Lamaran"})]}),e.jsxs(a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",mb:4},children:[e.jsx(t,{variant:"h4",component:"h1",fontWeight:"bold",children:"Detail Lamaran"}),e.jsx(D,{variant:"outlined",startIcon:e.jsx(xe,{}),component:j,href:route("candidate.applications.index"),children:"Kembali ke Daftar Lamaran"})]}),e.jsxs(a,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:3},children:[e.jsxs(a,{sx:{flex:2,minWidth:0},children:[e.jsx(l,{elevation:1,children:e.jsxs(a,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"center",sm:"flex-start"},textAlign:{xs:"center",sm:"left"}},children:[e.jsx(pe,{src:r.job.company.logo,alt:r.job.company.name,variant:"rounded",sx:{width:80,height:80,mb:{xs:2,sm:0},mr:{sm:3},bgcolor:"primary.main"},children:r.job.company.name.charAt(0)}),e.jsxs(a,{sx:{flex:1},children:[e.jsx(C,{label:r.status.name,size:"small",sx:{mb:1,fontWeight:"medium",backgroundColor:`${c(r.status)}20`,color:c(r.status),borderRadius:"0.5rem"}}),e.jsx(t,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:r.job.title}),e.jsxs(a,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(he,{fontSize:"small",sx:{mr:1,opacity:.7},color:"primary"}),e.jsx(t,{variant:"body1",children:r.job.company.name})]}),e.jsxs(a,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},gap:2,mt:2},children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(S,{fontSize:"small",sx:{mr:1,opacity:.7},color:"primary"}),e.jsxs(t,{variant:"body2",color:"text.secondary",children:["Dilamar pada ",m(r.created_at)]})]}),r.current_stage&&e.jsxs(a,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(I,{fontSize:"small",sx:{mr:1,opacity:.7},color:"primary"}),e.jsxs(t,{variant:"body2",color:"text.secondary",children:["Tahap: ",r.current_stage.name]})]})]})]})]})}),r.stage_history&&r.stage_history.length>0&&e.jsxs(l,{elevation:1,children:[e.jsxs(t,{variant:"h6",fontWeight:"bold",sx:{mb:3,display:"flex",alignItems:"center"},children:[e.jsx(I,{sx:{mr:1},color:"primary"}),"Status Perjalanan Lamaran"]}),e.jsx(je,{orientation:"vertical",activeStep:r.stage_history.length,children:r.stage_history.map((s,n)=>e.jsxs(fe,{completed:!0,children:[e.jsx(be,{children:e.jsx(t,{variant:"subtitle1",fontWeight:"bold",children:s.stage.name})}),e.jsx(We,{children:e.jsx(a,{sx:{mb:2},children:e.jsxs(t,{variant:"body2",color:"text.secondary",children:[s.date&&e.jsx(t,{component:"span",variant:"body2",color:"text.secondary",sx:{display:"block",mb:.5},children:m(s.date)}),s.notes||"Tahap diperbarui"]})})})]},s.id))})]}),r.cover_letter&&e.jsxs(l,{elevation:1,children:[e.jsxs(t,{variant:"h6",fontWeight:"bold",sx:{mb:3,display:"flex",alignItems:"center"},children:[e.jsx(M,{sx:{mr:1},color:"primary"}),"Surat Lamaran"]}),e.jsx(k,{elevation:0,sx:{p:2,backgroundColor:"background.paper",border:"1px solid",borderColor:"divider",borderRadius:"0.5rem"},children:e.jsx(t,{variant:"body1",sx:{whiteSpace:"pre-line",lineHeight:1.8},children:r.cover_letter})})]}),r.form_responses&&r.form_responses.length>0&&e.jsxs(l,{elevation:1,children:[e.jsxs(t,{variant:"h6",fontWeight:"bold",sx:{mb:3,display:"flex",alignItems:"center"},children:[e.jsx(A,{sx:{mr:1},color:"primary"}),"Tanggapan Tambahan"]}),r.form_responses.map(s=>e.jsxs(a,{sx:{mb:3},children:[e.jsx(t,{variant:"subtitle1",fontWeight:"bold",sx:{mb:2},children:s.name}),e.jsx(v,{disablePadding:!0,children:s.responses.map(n=>e.jsx(x,{disablePadding:!0,disableGutters:!0,sx:{mb:2},children:e.jsx(p,{primary:n.field.name,secondary:n.field.field_type==="checkbox"?JSON.parse(n.value).join(", "):n.value,primaryTypographyProps:{variant:"body2",color:"text.secondary",fontWeight:"medium"},secondaryTypographyProps:{variant:"body1",color:"text.primary"}})},n.id))}),r.form_responses.indexOf(s)<r.form_responses.length-1&&e.jsx(Y,{sx:{my:2}})]},s.id))]}),r.events&&r.events.length>0&&e.jsxs(l,{elevation:1,children:[e.jsxs(t,{variant:"h6",fontWeight:"bold",sx:{mb:3,display:"flex",alignItems:"center"},children:[e.jsx(ge,{sx:{mr:1},color:"primary"}),"Jadwal Interview/Event"]}),e.jsx(v,{disablePadding:!0,children:r.events.map(s=>e.jsxs(x,{disableGutters:!0,sx:{py:1,borderBottom:"1px solid",borderColor:"divider","&:last-child":{borderBottom:"none"}},children:[e.jsx(h,{children:e.jsx(S,{color:"primary"})}),e.jsx(p,{primary:s.title,secondary:e.jsxs(a,{component:"span",children:[e.jsxs(t,{component:"span",variant:"body2",color:"text.secondary",children:[s.type," â€¢ ",y(s.start_time)]}),s.location&&e.jsxs(t,{component:"span",variant:"body2",color:"text.secondary",display:"block",children:[e.jsx(ve,{fontSize:"small",sx:{verticalAlign:"middle",mr:.5}}),s.location]})]})}),s.status&&e.jsx(C,{label:s.status,size:"small",color:s.status==="completed"?"success":"primary",sx:{ml:2}})]},s.id))})]})]}),e.jsxs(a,{sx:{flex:1,minWidth:{md:300}},children:[e.jsxs(l,{elevation:1,children:[e.jsxs(t,{variant:"h6",fontWeight:"bold",sx:{mb:3,display:"flex",alignItems:"center"},children:[e.jsx(w,{sx:{mr:1},color:"primary"}),"Ringkasan Lamaran"]}),e.jsxs(v,{children:[e.jsxs(x,{disableGutters:!0,sx:{mb:2,px:0},children:[e.jsx(h,{sx:{minWidth:30},children:e.jsx(A,{fontSize:"small",color:"primary"})}),e.jsx(p,{primary:"ID Lamaran",secondary:`#${r.id}`,primaryTypographyProps:{variant:"body2",color:"text.secondary"},secondaryTypographyProps:{variant:"body1",fontWeight:"medium"}})]}),e.jsxs(x,{disableGutters:!0,sx:{mb:2,px:0},children:[e.jsx(h,{sx:{minWidth:30},children:e.jsx(S,{fontSize:"small",color:"primary"})}),e.jsx(p,{primary:"Tanggal Lamaran",secondary:m(r.created_at),primaryTypographyProps:{variant:"body2",color:"text.secondary"},secondaryTypographyProps:{variant:"body1",fontWeight:"medium"}})]}),e.jsxs(x,{disableGutters:!0,sx:{mb:2,px:0},children:[e.jsx(h,{sx:{minWidth:30},children:e.jsx(I,{fontSize:"small",color:"primary"})}),e.jsx(p,{primary:"Status Lamaran",secondary:e.jsx(C,{label:r.status.name,size:"small",sx:{mt:.5,fontWeight:"medium",backgroundColor:`${c(r.status)}20`,color:c(r.status)}}),primaryTypographyProps:{variant:"body2",color:"text.secondary"}})]}),r.current_stage&&e.jsxs(x,{disableGutters:!0,sx:{mb:2,px:0},children:[e.jsx(h,{sx:{minWidth:30},children:e.jsx(w,{fontSize:"small",color:"primary"})}),e.jsx(p,{primary:"Tahap Sekarang",secondary:r.current_stage.name,primaryTypographyProps:{variant:"body2",color:"text.secondary"},secondaryTypographyProps:{variant:"body1",fontWeight:"medium"}})]})]})]}),r.resume&&e.jsxs(l,{elevation:1,children:[e.jsxs(t,{variant:"h6",fontWeight:"bold",sx:{mb:3,display:"flex",alignItems:"center"},children:[e.jsx(M,{sx:{mr:1},color:"primary"}),"Resume"]}),e.jsxs(k,{elevation:0,sx:{p:3,border:"1px dashed",borderColor:"primary.200",borderRadius:"0.75rem",backgroundColor:"primary.50",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(Le,{color:"primary",sx:{mr:2,transform:"rotate(45deg)"}}),e.jsxs(a,{children:[e.jsx(t,{variant:"body2",color:"text.secondary",children:"Resume"}),e.jsx(t,{variant:"body1",fontWeight:"medium",children:r.resume.split("/").pop()})]})]}),e.jsxs(a,{children:[e.jsx(b,{title:"Lihat Resume",children:e.jsx(f,{color:"primary",onClick:()=>d(!0),sx:{mr:1},children:e.jsx(Ce,{})})}),e.jsx(b,{title:"Download Resume",children:e.jsx(f,{component:"a",href:r.resume,download:!0,color:"primary",children:e.jsx(G,{})})})]})]})]}),e.jsxs(l,{elevation:1,children:[e.jsxs(t,{variant:"h6",fontWeight:"bold",sx:{mb:3,display:"flex",alignItems:"center"},children:[e.jsx(w,{sx:{mr:1},color:"primary"}),"Tindakan"]}),e.jsx(D,{component:j,href:route("candidate.jobs.show",r.job.id),variant:"contained",color:"primary",fullWidth:!0,sx:{mb:2},children:"Lihat Detail Pekerjaan"}),r.status.slug==="rejected"&&e.jsxs(R,{severity:"error",sx:{mt:2},children:[e.jsx(t,{variant:"body2",fontWeight:"bold",children:"Lamaran Ditolak"}),"Kami mohon maaf, lamaran Anda tidak dapat dilanjutkan. Silakan cari peluang lain yang sesuai dengan kualifikasi Anda."]}),r.status.slug==="hired"&&e.jsxs(R,{severity:"success",sx:{mt:2},children:[e.jsx(t,{variant:"body2",fontWeight:"bold",children:"Selamat!"}),"Anda telah diterima untuk posisi ini. Perusahaan akan menghubungi Anda untuk informasi selanjutnya."]})]})]})]})]}),r.resume&&e.jsx(Pe,{open:i,handleClose:()=>d(!1),resumeUrl:r.resume})]})}export{gr as default};

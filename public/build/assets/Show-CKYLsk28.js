import{j as e,q as je,r as u,a as pe,J as G,f as K}from"./app-BUVb_nAj.js";import{h as p}from"./moment-C5S46NFB.js";import"./id-DNGKkZzB.js";import{E as V}from"./index-DeSnP08D.js";import{L as ge}from"./Layout-DnkF-NCm.js";import{C as fe}from"./Container-DEvTfuj0.js";import{c as ye,B as s,a as c,T as a,P as j}from"./Button-DFxjcZ8p.js";import{A as ve}from"./ArrowBack-Cgi6G0-j.js";import{A as J,C as v}from"./Slide-DYtCGdXj.js";import{B as be,L as x,a as m,b as h,T as N}from"./Work-CLEsMByH.js";import{E as De}from"./Edit-D-W3BsdZ.js";import{D as ke}from"./Delete-DjrVMKuP.js";import{G as l}from"./Grid-CUDx21Kg.js";import{L as we,I as Ce,D as Te}from"./Button-DzGhUBn7.js";import{C as Pe}from"./Category-CYeNYdY6.js";import{L as Ie}from"./LocationOn-CpujyWrU.js";import{W as Se}from"./WorkOutline-BRpprJQq.js";import{S as Le}from"./School-CsrAMFuf.js";import{A as Me}from"./AttachMoney-DlcSNFF_.js";import{C as Be}from"./CalendarToday-CUHpeiFE.js";import{T as Re}from"./Timer-DNERx_MQ.js";import{C as q}from"./Card-D_rkxkaC.js";import{C as Q}from"./CardContent-DTmJK9ga.js";import{T as Ae,a as We,b as Ye,c as D,d as o,e as _e}from"./TableRow-BgPH6iWY.js";import{P as Ee}from"./Person-5k5xBlAT.js";import{D as U}from"./Download-DZz_v1Ey.js";import{T as $e}from"./TablePagination-C03w4OZ2.js";import{D as X,a as Z,b as ee}from"./DialogContent-D4sYn80t.js";import{D as re}from"./DialogTitle-DUJu7qVS.js";import{D as Oe}from"./DialogContentText-B8PLj8LQ.js";import"./Sidebar-DGzgELZX.js";import"./index-Dtg-WGcE.js";import"./CheckCircle-Dd-oaFV0.js";import"./ChevronRight-FNylUib_.js";import"./Info-CdM9Lqya.js";import"./People-6TwBzk5z.js";import"./Event-DRCIx1GO.js";import"./Footer-DSErbOqA.js";import"./KeyboardArrowRight-By3nsvSL.js";import"./LastPage-B2IJYsVY.js";import"./Select-Bh9V9k3o.js";const ze=ye(e.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2"}));p.locale("id");const Mr=({job:t,applications:g})=>{var B,R,A,W,Y,_,E,$,O,z,H;const{auth:He}=je().props,[k,Fe]=u.useState(0),[b,w]=u.useState(0),[f,ae]=u.useState(10),[te,C]=u.useState(!1),[se,T]=u.useState(!1),[n,P]=u.useState(null),ne=(r,i)=>{w(i)},ie=r=>{ae(parseInt(r.target.value,10)),w(0)},oe=()=>{C(!0)},I=()=>{C(!1)},le=()=>{K.delete(route("admin.jobs.destroy",t.id),{onSuccess:()=>{K.visit(route("admin.jobs.index"))}})},de=r=>{P(r),T(!0)},S=()=>{T(!1),P(null)},ce=r=>{if(!r)return"default";switch(r.toLowerCase()){case"active":return"success";case"draft":return"warning";case"closed":return"error";default:return"default"}},L=r=>{if(!r)return"default";switch(r.toLowerCase()){case"pending":return"warning";case"reviewed":return"info";case"accepted":return"success";case"rejected":return"error";default:return"default"}},M=r=>{if(!r)return"Tidak Diketahui";switch(r.toLowerCase()){case"pending":return"Menunggu Review";case"reviewed":return"Sudah Direview";case"accepted":return"Diterima";case"rejected":return"Ditolak";default:return r}},xe=r=>{switch(r){case"full_time":return"Full Time";case"part_time":return"Part Time";case"contract":return"Kontrak";case"internship":return"Magang";case"freelance":return"Freelance";default:return r}},me=r=>{switch(r){case"entry":return"Entry Level (0-2 tahun)";case"mid":return"Mid Level (2-5 tahun)";case"senior":return"Senior Level (5+ tahun)";case"executive":return"Executive (10+ tahun)";default:return r}},he=(r,i)=>{const d=y=>new Intl.NumberFormat("id-ID").format(y);return r&&i?`Rp ${d(r)} - Rp ${d(i)}`:r?`Rp ${d(r)}`:i?`Hingga Rp ${d(i)}`:"Gaji tidak ditampilkan"};return e.jsxs(ge,{children:[e.jsx(pe,{title:`${t.title} - Detail Lowongan`}),e.jsxs(fe,{maxWidth:"xl",sx:{py:3},children:[e.jsxs(s,{sx:{mb:3},children:[e.jsx(c,{component:G,href:route("admin.jobs.index"),startIcon:e.jsx(ve,{}),sx:{mb:2},children:"Kembali ke Daftar Lowongan"}),e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs(s,{children:[e.jsx(a,{variant:"h4",component:"h1",fontWeight:"bold",gutterBottom:!0,children:t.title}),e.jsxs(s,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(J,{src:((B=t.company)==null?void 0:B.logo)||"",alt:(R=t.company)==null?void 0:R.name,sx:{mr:2,bgcolor:r=>`${r.palette.primary.main}20`,color:"primary.main"},children:((W=(A=t.company)==null?void 0:A.name)==null?void 0:W.charAt(0))||e.jsx(be,{})}),e.jsx(a,{variant:"h6",color:"text.secondary",children:(Y=t.company)==null?void 0:Y.name}),e.jsx(v,{label:t.status,color:ce(t.status),size:"small",sx:{ml:2}})]})]}),e.jsxs(s,{sx:{display:"flex",gap:1},children:[e.jsx(c,{component:G,href:route("admin.jobs.edit",t.id),variant:"outlined",startIcon:e.jsx(De,{}),children:"Edit"}),e.jsx(c,{variant:"outlined",color:"error",startIcon:e.jsx(ke,{}),onClick:oe,children:"Hapus"})]})]})]}),e.jsxs(s,{sx:{mt:3},children:[k===0&&e.jsxs(l,{container:!0,spacing:3,children:[e.jsxs(l,{item:!0,xs:12,md:8,children:[e.jsxs(j,{sx:{p:3,borderRadius:3,mb:3},children:[e.jsx(a,{variant:"h6",fontWeight:"bold",gutterBottom:!0,children:"Deskripsi Pekerjaan"}),e.jsx(s,{"data-color-mode":"light",sx:{mt:2},children:e.jsx(V.Markdown,{source:t.description})})]}),e.jsxs(j,{sx:{p:3,borderRadius:3},children:[e.jsx(a,{variant:"h6",fontWeight:"bold",gutterBottom:!0,children:"Persyaratan"}),e.jsx(s,{"data-color-mode":"light",sx:{mt:2},children:e.jsx(V.Markdown,{source:t.requirements})})]})]}),e.jsxs(l,{item:!0,xs:12,md:4,children:[e.jsxs(j,{sx:{p:3,borderRadius:3,mb:3},children:[e.jsx(a,{variant:"h6",fontWeight:"bold",gutterBottom:!0,children:"Informasi Lowongan"}),e.jsxs(we,{dense:!0,children:[e.jsxs(x,{children:[e.jsx(m,{children:e.jsx(Pe,{color:"action"})}),e.jsx(h,{primary:"Kategori",secondary:((_=t.category)==null?void 0:_.name)||"-"})]}),e.jsxs(x,{children:[e.jsx(m,{children:e.jsx(Ie,{color:"action"})}),e.jsx(h,{primary:"Lokasi",secondary:t.location})]}),e.jsxs(x,{children:[e.jsx(m,{children:e.jsx(Se,{color:"action"})}),e.jsx(h,{primary:"Tipe Pekerjaan",secondary:xe(t.type)})]}),e.jsxs(x,{children:[e.jsx(m,{children:e.jsx(Le,{color:"action"})}),e.jsx(h,{primary:"Level Pengalaman",secondary:me(t.experience_level)})]}),e.jsxs(x,{children:[e.jsx(m,{children:e.jsx(Me,{color:"action"})}),e.jsx(h,{primary:"Kisaran Gaji",secondary:he(t.salary_min,t.salary_max)})]}),e.jsxs(x,{children:[e.jsx(m,{children:e.jsx(Be,{color:"action"})}),e.jsx(h,{primary:"Deadline Pendaftaran",secondary:t.deadline?p(t.deadline).format("DD MMMM YYYY"):"Tidak ada batasan waktu"})]}),e.jsxs(x,{children:[e.jsx(m,{children:e.jsx(Re,{color:"action"})}),e.jsx(h,{primary:"Tanggal Posting",secondary:p(t.created_at).format("DD MMMM YYYY")})]})]})]}),e.jsxs(j,{sx:{p:3,borderRadius:3,mb:3},children:[e.jsx(a,{variant:"h6",fontWeight:"bold",gutterBottom:!0,children:"Skills & Kemampuan"}),e.jsx(s,{sx:{display:"flex",flexWrap:"wrap",gap:1,mt:2},children:t.skills&&t.skills.length>0?t.skills.map((r,i)=>e.jsx(v,{label:r,color:"primary",variant:"outlined",size:"small"},i)):e.jsx(a,{variant:"body2",color:"text.secondary",children:"Tidak ada skill yang ditentukan"})})]}),e.jsxs(j,{sx:{p:3,borderRadius:3},children:[e.jsx(a,{variant:"h6",fontWeight:"bold",gutterBottom:!0,children:"Statistik"}),e.jsxs(l,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(l,{item:!0,xs:6,children:e.jsx(q,{variant:"outlined",children:e.jsxs(Q,{children:[e.jsx(a,{color:"text.secondary",variant:"body2",gutterBottom:!0,children:"Total Pelamar"}),e.jsx(a,{variant:"h4"})]})})}),e.jsx(l,{item:!0,xs:6,children:e.jsx(q,{variant:"outlined",children:e.jsxs(Q,{children:[e.jsx(a,{color:"text.secondary",variant:"body2",gutterBottom:!0,children:"Total View"}),e.jsx(a,{variant:"h4",children:t.view_count||0})]})})})]})]})]})]}),k===1&&e.jsxs(j,{sx:{p:3,borderRadius:3},children:[e.jsx(Ae,{children:e.jsxs(We,{sx:{minWidth:650},children:[e.jsx(Ye,{children:e.jsxs(D,{children:[e.jsx(o,{children:"Pelamar"}),e.jsx(o,{children:"Status"}),e.jsx(o,{children:"Tanggal Melamar"}),e.jsx(o,{children:"Ekspektasi Gaji"}),e.jsx(o,{align:"center",children:"Aksi"})]})}),e.jsx(_e,{children:g.data&&g.data.length>0?g.data.slice(b*f,b*f+f).map(r=>{var i,d,y,F;return e.jsxs(D,{hover:!0,children:[e.jsx(o,{children:e.jsxs(s,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(J,{sx:{mr:2,bgcolor:ue=>`${ue.palette.secondary.main}20`,color:"secondary.main"},children:((d=(i=r.user)==null?void 0:i.name)==null?void 0:d.charAt(0))||e.jsx(Ee,{})}),e.jsxs(s,{children:[e.jsx(a,{variant:"body2",fontWeight:"medium",children:(y=r.user)==null?void 0:y.name}),e.jsx(a,{variant:"caption",color:"text.secondary",children:(F=r.user)==null?void 0:F.email})]})]})}),e.jsx(o,{children:e.jsx(v,{label:M(r.status),color:L(r.status),size:"small",icon:e.jsx(ze,{sx:{width:"10px",height:"10px"}})})}),e.jsx(o,{children:p(r.created_at).format("DD MMM YYYY")}),e.jsx(o,{children:r.expected_salary?`Rp ${new Intl.NumberFormat("id-ID").format(r.expected_salary)}`:"-"}),e.jsx(o,{align:"center",children:e.jsxs(s,{sx:{display:"flex",justifyContent:"center",gap:1},children:[e.jsx(N,{title:"Lihat Detail",children:e.jsx(c,{variant:"outlined",size:"small",onClick:()=>de(r),children:"Detail"})}),e.jsx(N,{title:"Download CV",children:e.jsx(Ce,{color:"primary",size:"small",component:"a",href:route("admin.applications.download-cv",r.id),target:"_blank",children:e.jsx(U,{fontSize:"small"})})})]})})]},r.id)}):e.jsx(D,{children:e.jsx(o,{colSpan:5,align:"center",sx:{py:3},children:e.jsx(a,{variant:"body2",color:"text.secondary",children:"Belum ada pelamar untuk lowongan ini"})})})})]})}),e.jsx($e,{rowsPerPageOptions:[5,10,25],component:"div",count:g.total||0,rowsPerPage:f,page:b,onPageChange:ne,onRowsPerPageChange:ie,labelRowsPerPage:"Data per halaman:",labelDisplayedRows:({from:r,to:i,count:d})=>`${r}-${i} dari ${d}`})]})]})]}),e.jsxs(X,{open:te,onClose:I,children:[e.jsx(re,{children:"Konfirmasi Hapus"}),e.jsx(Z,{children:e.jsxs(Oe,{children:["Apakah Anda yakin ingin menghapus lowongan ",e.jsx("strong",{children:t.title}),"? Tindakan ini tidak dapat dibatalkan dan akan menghapus semua data terkait lowongan ini."]})}),e.jsxs(ee,{children:[e.jsx(c,{onClick:I,children:"Batal"}),e.jsx(c,{onClick:le,color:"error",variant:"contained",children:"Hapus"})]})]}),e.jsx(X,{open:se,onClose:S,maxWidth:"md",fullWidth:!0,children:n&&e.jsxs(e.Fragment,{children:[e.jsx(re,{children:e.jsxs(a,{variant:"h6",children:["Detail Pelamar: ",(E=n.user)==null?void 0:E.name]})}),e.jsx(Z,{dividers:!0,children:e.jsxs(l,{container:!0,spacing:3,children:[e.jsxs(l,{item:!0,xs:12,md:6,children:[e.jsx(a,{variant:"subtitle1",fontWeight:"bold",gutterBottom:!0,children:"Informasi Pribadi"}),e.jsxs(s,{sx:{mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"Nama Lengkap"}),e.jsx(a,{variant:"body1",children:($=n.user)==null?void 0:$.name})]}),e.jsxs(s,{sx:{mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"Email"}),e.jsx(a,{variant:"body1",children:(O=n.user)==null?void 0:O.email})]}),e.jsxs(s,{sx:{mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"Telepon"}),e.jsx(a,{variant:"body1",children:((z=n.user)==null?void 0:z.phone)||"-"})]}),e.jsxs(s,{sx:{mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"Alamat"}),e.jsx(a,{variant:"body1",children:((H=n.user)==null?void 0:H.address)||"-"})]})]}),e.jsxs(l,{item:!0,xs:12,md:6,children:[e.jsx(a,{variant:"subtitle1",fontWeight:"bold",gutterBottom:!0,children:"Detail Lamaran"}),e.jsxs(s,{sx:{mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"Status"}),e.jsx(v,{label:M(n.status),color:L(n.status),size:"small"})]}),e.jsxs(s,{sx:{mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"Tanggal Melamar"}),e.jsx(a,{variant:"body1",children:p(n.created_at).format("DD MMMM YYYY, HH:mm")})]}),e.jsxs(s,{sx:{mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"Ekspektasi Gaji"}),e.jsx(a,{variant:"body1",children:n.expected_salary?`Rp ${new Intl.NumberFormat("id-ID").format(n.expected_salary)}`:"-"})]}),e.jsxs(s,{sx:{mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"CV/Resume"}),e.jsx(c,{variant:"outlined",size:"small",startIcon:e.jsx(U,{}),component:"a",href:route("admin.applications.download-cv",n.id),target:"_blank",sx:{mt:1},children:"Download CV"})]})]}),e.jsxs(l,{item:!0,xs:12,children:[e.jsx(Te,{sx:{my:2}}),e.jsx(a,{variant:"subtitle1",fontWeight:"bold",gutterBottom:!0,children:"Surat Lamaran"}),e.jsx(a,{variant:"body1",sx:{whiteSpace:"pre-line"},children:n.cover_letter||"Tidak ada surat lamaran"})]})]})}),e.jsx(ee,{children:e.jsx(c,{onClick:S,children:"Tutup"})})]})})]})};export{Mr as default};

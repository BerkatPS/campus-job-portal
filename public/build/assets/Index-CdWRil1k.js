import{r as S,j as e,a as b,m as J,A as H,f as v,b as m,J as U}from"./app-DbtvrzCH.js";import{L as K}from"./Layout-nP23ILEi.js";import{B as W,D as N,M as G}from"./Button-CgCKgwRd.js";import{u as Z,B as t,T as i,P as B,C as Q}from"./Button-B_2tu0cn.js";import{u as F}from"./index-BJHsQb-H.js";import{C as Y}from"./Container-CHMV_DAY.js";import{S as j,M as c,B as q,W as V}from"./Work-bK6ZZ-Qp.js";import{T as X}from"./TextField-BKjSZQPY.js";import{F as w}from"./InputLabel-DUQX8vmT.js";import{S as _}from"./Select-DuuFGO1T.js";import{K as f}from"./KeyboardArrowDown-D2-MAAcg.js";import{C as g}from"./CheckCircle-nvk-SVVX.js";import{C as E,A as O}from"./Slide-DsAvN5qg.js";import{T as ee}from"./AccessTime-as3EkDL5.js";import{P as ae}from"./Pagination-B-ljpO4E.js";import{C as re}from"./Card-DBrS13VS.js";import{C as ne}from"./CardContent-BDcyNa-E.js";import{L as te}from"./LocationOn-BAU5EuQK.js";import{B as se}from"./Badge-DGpL2cWn.js";import{S as ie}from"./Schedule-BrabG9s6.js";import{M as de}from"./MonetizationOn-FAyRiZh_.js";import{A as oe}from"./ArrowForward-jR7HuMfl.js";import{B as ce}from"./BusinessCenter-CGvXca3O.js";import{A as le}from"./AddCircleOutline-DxgZOS__.js";import"./Sidebar-sw6YawgY.js";import"./moment-C5S46NFB.js";import"./id-DNGKkZzB.js";import"./ChevronRight-Bjx9uoMx.js";import"./Person-C1OGobf6.js";import"./Info-j9m1PK-Q.js";import"./People-KxvvNdCJ.js";import"./Event-JhFTkm8A.js";import"./Footer-BBk2Lp_N.js";import"./LastPage-ByPDXHdv.js";const xe=({job:r})=>{var u,p,T,A,R,L;const a=Z(),[o,D]=S.useState(!1),[C,z]=S.useState(!1),I=s=>{if(!s)return"";try{const y=new Date(s);return isNaN(y.getTime())?"":y.toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})}catch{return""}},h=s=>s?s>=1e12?`${(s/1e12).toFixed(s%1e12===0?0:1)} T`:s>=1e9?`${(s/1e9).toFixed(s%1e9===0?0:1)} M`:s>=1e6?`${(s/1e6).toFixed(s%1e6===0?0:1)} Jt`:s>=1e4?`${(s/1e3).toFixed(s%1e3===0?0:1)} Rb`+(s%1e3===0?"":`.${s%1e3}`):s>=1e3?`${Math.floor(s/1e3)} Rb`:s.toString():null,k=s=>{switch(s){case"active":return a.palette.success.main;case"expired":return a.palette.error.main;case"draft":return a.palette.warning.main;default:return a.palette.grey[500]}},M=s=>{switch(s){case"active":return"Aktif";case"expired":return"Berakhir";case"closed":return"Ditutup";case"draft":return"Draft";default:return s}},l=()=>!(r!=null&&r.days_remaining)&&(r==null?void 0:r.days_remaining)!==0?!1:r.days_remaining<=3&&r.days_remaining>=0,d=r!=null&&r.days_remaining?Math.floor(r.days_remaining):null,P=()=>r!=null&&r.salary_min&&(r!=null&&r.salary_max)?`${h(r.salary_min)} - ${h(r.salary_max)}`:r!=null&&r.salary_min?`${h(r.salary_min)}+`:r!=null&&r.salary_max?`Hingga ${h(r.salary_max)}`:"Gaji tidak ditampilkan";return e.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},style:{height:"100%"},children:e.jsxs(re,{variant:"outlined",sx:{height:"100%",borderRadius:2,transition:"all 0.2s ease",position:"relative",borderWidth:1,borderColor:C?m(a.palette.primary.main,.5):m(a.palette.divider,.7),"&:hover":{boxShadow:`0 8px 24px ${m(a.palette.common.black,.08)}`,borderColor:m(a.palette.primary.main,.5)},display:"flex",flexDirection:"column",background:"#ffffff"},onMouseEnter:()=>z(!0),onMouseLeave:()=>z(!1),children:[e.jsx(t,{sx:{position:"absolute",top:0,left:0,right:0,height:"4px",background:k(r==null?void 0:r.status)}}),e.jsxs(ne,{sx:{p:0,height:"100%",display:"flex",flexDirection:"column","&:last-child":{pb:0}},children:[e.jsxs(t,{sx:{display:"flex",p:3,pb:2},children:[e.jsx(O,{src:(u=r==null?void 0:r.company)==null?void 0:u.logo,alt:(p=r==null?void 0:r.company)==null?void 0:p.name,variant:"rounded",sx:{width:52,height:52,mr:2,borderRadius:1.5,bgcolor:m(a.palette.primary.main,.08),border:"1px solid",borderColor:m(a.palette.divider,.5)},children:!((T=r==null?void 0:r.company)!=null&&T.logo)&&((R=(A=r==null?void 0:r.company)==null?void 0:A.name)==null?void 0:R.charAt(0))}),e.jsx(t,{sx:{flex:1},children:e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs(t,{children:[e.jsx(i,{variant:"h6",sx:{fontWeight:600,fontSize:"1.05rem",mb:.5,transition:"all 0.2s",display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical",WebkitLineClamp:2},children:r==null?void 0:r.title}),e.jsxs(i,{variant:"body2",sx:{display:"flex",alignItems:"center",color:a.palette.grey[600],fontWeight:500,mb:.5},children:[e.jsx(q,{fontSize:"small",sx:{mr:.5,fontSize:16}}),(L=r==null?void 0:r.company)==null?void 0:L.name]})]}),e.jsx(E,{label:M(r==null?void 0:r.status),size:"small",sx:{ml:1,height:24,fontSize:"0.7rem",fontWeight:600,borderRadius:"4px",backgroundColor:m(k(r==null?void 0:r.status),.12),color:k(r==null?void 0:r.status),border:"1px solid",borderColor:m(k(r==null?void 0:r.status),.3)}})]})})]}),e.jsx(t,{sx:{px:3,mb:2},children:e.jsxs(t,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:1.5},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(te,{sx:{color:a.palette.grey[500],mr:.75,fontSize:18}}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{fontWeight:400},children:(r==null?void 0:r.location)||"Lokasi tidak tersedia"})]}),e.jsxs(t,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(V,{sx:{color:a.palette.grey[500],mr:.75,fontSize:18}}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{fontWeight:400},children:(r==null?void 0:r.experience_level)||"Semua level"})]}),e.jsxs(t,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(se,{sx:{color:a.palette.grey[500],mr:.75,fontSize:18}}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{fontWeight:400},children:(r==null?void 0:r.job_type)||"Tipe tidak tersedia"})]}),e.jsxs(t,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(ie,{sx:{color:l()?a.palette.error.main:a.palette.grey[500],mr:.75,fontSize:18}}),e.jsx(i,{variant:"body2",sx:{fontWeight:l()?600:400,color:l()?a.palette.error.main:"text.secondary"},children:d>0?`${d} hari lagi`:(r==null?void 0:r.status)==="expired"?"Sudah berakhir":I(r==null?void 0:r.submission_deadline)})]})]})}),e.jsx(t,{sx:{px:3,mb:"auto"},children:e.jsx(t,{sx:{mb:1.5},children:e.jsxs(i,{variant:"body2",sx:{display:"inline-flex",alignItems:"center",py:.5,px:1.5,borderRadius:1,fontWeight:600,bgcolor:m(a.palette.success.main,.08),color:a.palette.success.dark,border:`1px solid ${m(a.palette.success.main,.2)}`},children:[e.jsx(de,{fontSize:"small",sx:{mr:.5,fontSize:16}}),P()]})})}),e.jsxs(t,{sx:{p:3,pt:2,mt:"auto"},children:[e.jsx(N,{sx:{mb:2,borderColor:m(a.palette.divider,.5)}}),e.jsx(U,{href:route("candidate.jobs.show",r==null?void 0:r.id),style:{textDecoration:"none"},children:e.jsx(W,{variant:"contained",size:"medium",fullWidth:!0,endIcon:e.jsx(oe,{}),sx:{borderRadius:1.5,py:1,fontWeight:600,textTransform:"none",boxShadow:"none","&:hover":{boxShadow:`0 4px 12px ${m(a.palette.primary.main,.25)}`},bgcolor:r!=null&&r.has_applied?m(a.palette.primary.main,.8):a.palette.primary.main},disabled:(r==null?void 0:r.status)==="expired"||(r==null?void 0:r.status)==="closed",children:r!=null&&r.has_applied?"Sudah Dilamar":"Lihat Detail"})})]})]})]})})},me=()=>e.jsx(B,{elevation:0,sx:{p:6,textAlign:"center",border:"1px dashed",borderColor:"divider",borderRadius:"1rem",bgcolor:"rgba(0,0,0,0.01)"},children:e.jsxs(t,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[e.jsx(t,{sx:{width:120,height:120,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(20, 184, 166, 0.1)",mb:3},children:e.jsx(ce,{sx:{fontSize:48,color:"primary.main",opacity:.8}})}),e.jsx(i,{variant:"h5",sx:{fontWeight:700,mb:1},className:"text-gray-800",children:"Tidak ada lowongan yang ditemukan"}),e.jsx(i,{variant:"body1",sx:{color:"text.secondary",mb:4,maxWidth:500},children:"Tidak ada lowongan pekerjaan yang sesuai dengan kriteria pencarian Anda."}),e.jsx(W,{variant:"contained",color:"primary",size:"large",startIcon:e.jsx(le,{}),onClick:()=>v.get(route("candidate.jobs.index")),sx:{borderRadius:"0.75rem",py:1.5,px:4,fontWeight:600,boxShadow:"0 4px 14px 0 rgba(20, 184, 166, 0.25)","&:hover":{boxShadow:"0 6px 20px 0 rgba(20, 184, 166, 0.35)",transform:"translateY(-2px)"},transition:"all 0.3s ease"},className:"transition-all duration-300",children:"Lihat Semua Lowongan"})]})});function Ye({jobs:r,filters:a,filterOptions:o}){var y,$;const D=Z();F(D.breakpoints.down("sm")),F(D.breakpoints.down("md"));const[C,z]=S.useState((a==null?void 0:a.search)||""),[I,h]=S.useState(null),[k,M]=S.useState(null),[l,d]=S.useState(!1),P=n=>{n.preventDefault(),d(!0),v.get(route("candidate.jobs.index"),{search:C,company:a==null?void 0:a.company,job_type:a==null?void 0:a.job_type,location:a==null?void 0:a.location,experience_level:a==null?void 0:a.experience_level,status:a==null?void 0:a.status,sort:a==null?void 0:a.sort,direction:a==null?void 0:a.direction},{preserveState:!0,onSuccess:()=>d(!1),onError:()=>d(!1)})},u=(n,x)=>{d(!0),v.get(route("candidate.jobs.index"),{...a,[n]:x,page:1},{preserveState:!0,onSuccess:()=>d(!1),onError:()=>d(!1)})},p=(n,x)=>{h(null),d(!0),v.get(route("candidate.jobs.index"),{...a,sort:n,direction:x,page:1},{preserveState:!0,onSuccess:()=>d(!1),onError:()=>d(!1)})},T=(n,x)=>{d(!0),v.get(route("candidate.jobs.index"),{...a,page:x},{preserveState:!0,onSuccess:()=>d(!1),onError:()=>d(!1)})},A=()=>{d(!0),v.get(route("candidate.jobs.index"),{search:C,status:"active"},{preserveState:!0,onSuccess:()=>d(!1),onError:()=>d(!1)})},R=n=>{h(n.currentTarget)},L=()=>{h(null)},s=()=>{const n=(a==null?void 0:a.sort)||"created_at",x=(a==null?void 0:a.direction)||"desc";return n==="created_at"&&x==="desc"?"Terbaru":n==="created_at"&&x==="asc"?"Terlama":n==="submission_deadline"&&x==="asc"?"Deadline Terdekat":n==="title"&&x==="asc"?"Judul (A-Z)":n==="title"&&x==="desc"?"Judul (Z-A)":n==="company"&&x==="asc"?"Perusahaan (A-Z)":n==="company"&&x==="desc"?"Perusahaan (Z-A)":"Urutkan"};return e.jsxs(K,{title:"Lowongan Pekerjaan",children:[e.jsx(b,{title:"Lowongan Pekerjaan"}),e.jsx(Y,{maxWidth:"xl",sx:{py:{xs:2,md:4}},children:e.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxs(t,{sx:{mb:4},children:[e.jsx(i,{variant:"h4",sx:{fontWeight:800,mb:1,color:"text.primary"},className:"text-gray-800",children:"Daftar Lowongan Pekerjaan"}),e.jsx(i,{variant:"body1",color:"text.secondary",children:"Temukan dan lamar lowongan pekerjaan yang sesuai dengan keahlian dan minat Anda"})]}),e.jsx(t,{sx:{mb:4},children:e.jsxs(B,{component:"form",onSubmit:P,elevation:0,sx:{p:1.5,display:"flex",alignItems:"center",borderRadius:"1rem",border:"1px solid",borderColor:"divider",boxShadow:"0 4px 14px rgba(0,0,0,0.05)","&:hover":{borderColor:"primary.main",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},transition:"all 0.3s ease"},className:"transition-all duration-300",children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",flex:1,mx:1},children:[e.jsx(j,{color:"action",sx:{mr:1}}),e.jsx(X,{fullWidth:!0,placeholder:"Cari lowongan berdasarkan judul, perusahaan, atau lokasi...",value:C,onChange:n=>z(n.target.value),variant:"standard",InputProps:{disableUnderline:!0}})]}),e.jsx(W,{type:"submit",variant:"contained",disabled:l,sx:{height:48,borderRadius:"0.75rem",px:3,py:1.25,fontWeight:600,boxShadow:"0 4px 14px 0 rgba(20, 184, 166, 0.25)","&:hover":{boxShadow:"0 6px 20px 0 rgba(20, 184, 166, 0.35)"},transition:"all 0.3s ease"},className:"transition-all duration-300",children:l?"Mencari...":"Cari"})]})}),e.jsxs(t,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"1fr 3fr"},gap:3},children:[e.jsx(t,{children:e.jsxs(B,{elevation:0,sx:{p:3,borderRadius:"1rem",position:"sticky",top:100,border:"1px solid",borderColor:"divider"},children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(i,{variant:"h6",fontWeight:"bold",children:"Filter"}),e.jsx(W,{variant:"text",color:"primary",size:"small",onClick:A,disabled:l,children:"Reset"})]}),e.jsxs(t,{sx:{mb:3},children:[e.jsx(i,{variant:"subtitle2",gutterBottom:!0,fontWeight:"medium",children:"Status"}),e.jsx(w,{fullWidth:!0,size:"small",sx:{mb:2},children:e.jsxs(_,{value:(a==null?void 0:a.status)||"active",onChange:n=>u("status",n.target.value),sx:{borderRadius:"0.75rem"},disabled:l,children:[e.jsx(c,{value:"active",children:"Aktif"}),e.jsx(c,{value:"expired",children:"Berakhir/Ditutup"})]})}),e.jsx(i,{variant:"subtitle2",gutterBottom:!0,fontWeight:"medium",children:"Perusahaan"}),e.jsx(w,{fullWidth:!0,size:"small",sx:{mb:2},children:e.jsxs(_,{value:(a==null?void 0:a.company)||"",onChange:n=>u("company",n.target.value),displayEmpty:!0,sx:{borderRadius:"0.75rem"},disabled:l,children:[e.jsx(c,{value:"",children:"Semua Perusahaan"}),(o==null?void 0:o.companies)&&o.companies.map(n=>e.jsx(c,{value:n.id,children:n.name},n.id))]})}),e.jsx(i,{variant:"subtitle2",gutterBottom:!0,fontWeight:"medium",children:"Tipe Pekerjaan"}),e.jsx(w,{fullWidth:!0,size:"small",sx:{mb:2},children:e.jsxs(_,{value:(a==null?void 0:a.job_type)||"",onChange:n=>u("job_type",n.target.value),displayEmpty:!0,sx:{borderRadius:"0.75rem"},disabled:l,children:[e.jsx(c,{value:"",children:"Semua Tipe"}),(o==null?void 0:o.jobTypes)&&o.jobTypes.map(n=>e.jsx(c,{value:n.value,children:n.label},n.value))]})}),e.jsx(i,{variant:"subtitle2",gutterBottom:!0,fontWeight:"medium",children:"Lokasi"}),e.jsx(w,{fullWidth:!0,size:"small",sx:{mb:2},children:e.jsxs(_,{value:(a==null?void 0:a.location)||"",onChange:n=>u("location",n.target.value),displayEmpty:!0,sx:{borderRadius:"0.75rem"},disabled:l,children:[e.jsx(c,{value:"",children:"Semua Lokasi"}),(o==null?void 0:o.locations)&&o.locations.map(n=>e.jsx(c,{value:n.value,children:n.label},n.value))]})}),e.jsx(i,{variant:"subtitle2",gutterBottom:!0,fontWeight:"medium",children:"Level Pengalaman"}),e.jsx(w,{fullWidth:!0,size:"small",children:e.jsxs(_,{value:(a==null?void 0:a.experience_level)||"",onChange:n=>u("experience_level",n.target.value),displayEmpty:!0,sx:{borderRadius:"0.75rem"},disabled:l,children:[e.jsx(c,{value:"",children:"Semua Level"}),(o==null?void 0:o.experienceLevels)&&o.experienceLevels.map(n=>e.jsx(c,{value:n.value,children:n.label},n.value))]})})]}),e.jsx(N,{sx:{my:2}}),e.jsxs(t,{children:[e.jsx(i,{variant:"subtitle2",gutterBottom:!0,fontWeight:"medium",children:"Urutan"}),e.jsx(W,{fullWidth:!0,variant:"outlined",size:"medium",endIcon:e.jsx(f,{}),onClick:R,sx:{borderRadius:"0.75rem",textTransform:"none",justifyContent:"space-between",color:"text.primary",borderColor:"divider","&:hover":{borderColor:"primary.main",backgroundColor:"rgba(20, 184, 166, 0.05)"}},disabled:l,children:s()}),e.jsxs(G,{anchorEl:I,open:!!I,onClose:L,PaperProps:{elevation:0,sx:{mt:1.5,overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.1))",borderRadius:"0.75rem",border:"1px solid",borderColor:"divider","& .MuiMenuItem-root":{px:2,py:1,borderRadius:"0.5rem",mx:.5,my:.25,fontSize:"0.875rem"}}},children:[e.jsxs(c,{onClick:()=>p("created_at","desc"),children:["Terbaru",(a==null?void 0:a.sort)==="created_at"&&(a==null?void 0:a.direction)==="desc"&&e.jsx(g,{fontSize:"small",color:"primary",sx:{ml:1}})]}),e.jsxs(c,{onClick:()=>p("created_at","asc"),children:["Terlama",(a==null?void 0:a.sort)==="created_at"&&(a==null?void 0:a.direction)==="asc"&&e.jsx(g,{fontSize:"small",color:"primary",sx:{ml:1}})]}),e.jsxs(c,{onClick:()=>p("submission_deadline","asc"),children:["Deadline Terdekat",(a==null?void 0:a.sort)==="submission_deadline"&&(a==null?void 0:a.direction)==="asc"&&e.jsx(g,{fontSize:"small",color:"primary",sx:{ml:1}})]}),e.jsxs(c,{onClick:()=>p("title","asc"),children:["Judul (A-Z)",(a==null?void 0:a.sort)==="title"&&(a==null?void 0:a.direction)==="asc"&&e.jsx(g,{fontSize:"small",color:"primary",sx:{ml:1}})]}),e.jsxs(c,{onClick:()=>p("title","desc"),children:["Judul (Z-A)",(a==null?void 0:a.sort)==="title"&&(a==null?void 0:a.direction)==="desc"&&e.jsx(g,{fontSize:"small",color:"primary",sx:{ml:1}})]}),e.jsxs(c,{onClick:()=>p("company","asc"),children:["Perusahaan (A-Z)",(a==null?void 0:a.sort)==="company"&&(a==null?void 0:a.direction)==="asc"&&e.jsx(g,{fontSize:"small",color:"primary",sx:{ml:1}})]}),e.jsxs(c,{onClick:()=>p("company","desc"),children:["Perusahaan (Z-A)",(a==null?void 0:a.sort)==="company"&&(a==null?void 0:a.direction)==="desc"&&e.jsx(g,{fontSize:"small",color:"primary",sx:{ml:1}})]})]})]})]})}),e.jsxs(t,{children:[e.jsxs(t,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(i,{variant:"h6",fontWeight:"medium",children:[(r==null?void 0:r.total)||0," lowongan ditemukan"]}),e.jsxs(t,{sx:{display:"flex",gap:1},children:[e.jsx(E,{label:"Lowongan Aktif",color:(a==null?void 0:a.status)==="active"?"primary":"default",onClick:()=>u("status","active"),icon:e.jsx(g,{fontSize:"small"}),variant:(a==null?void 0:a.status)==="active"?"filled":"outlined",sx:{borderRadius:"0.75rem",fontWeight:500},disabled:l}),e.jsx(E,{label:"Lowongan Berakhir",color:(a==null?void 0:a.status)==="expired"?"primary":"default",onClick:()=>u("status","expired"),icon:e.jsx(ee,{fontSize:"small"}),variant:(a==null?void 0:a.status)==="expired"?"filled":"outlined",sx:{borderRadius:"0.75rem",fontWeight:500},disabled:l})]})]}),l?e.jsx(t,{sx:{display:"flex",justifyContent:"center",alignItems:"center",py:8},children:e.jsx(Q,{color:"primary"})}):e.jsx(e.Fragment,{children:((y=r==null?void 0:r.data)==null?void 0:y.length)>0?e.jsxs(e.Fragment,{children:[e.jsx(H,{children:e.jsx(t,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},gap:3},children:r.data.map(n=>e.jsx(xe,{job:n},n.id))})}),(($=r.meta)==null?void 0:$.last_page)>1&&e.jsx(t,{sx:{mt:4,display:"flex",justifyContent:"center"},children:e.jsx(ae,{count:r.meta.last_page,page:r.meta.current_page,onChange:T,color:"primary",shape:"rounded",size:"large",sx:{"& .MuiPaginationItem-root":{borderRadius:"0.75rem",mx:.5}}})})]}):e.jsx(me,{})})]})]})]})})]})}export{Ye as default};

import{S as I,j as a,a as A,m as W}from"./app-BUVb_nAj.js";import{L as R}from"./Layout-DnkF-NCm.js";import{B as h,D as x}from"./Button-DzGhUBn7.js";import{u as P,B as t,T as n,P as K}from"./Button-DFxjcZ8p.js";import{u as T}from"./index-Dtg-WGcE.js";import{C as D}from"./Container-DEvTfuj0.js";import{A as M}from"./ArrowBack-Cgi6G0-j.js";import{G as j}from"./Grid-CUDx21Kg.js";import{C as z}from"./Card-D_rkxkaC.js";import{C as O}from"./CardContent-DTmJK9ga.js";import{A as E}from"./Slide-DYtCGdXj.js";import{B as F}from"./Work-CLEsMByH.js";import{W as G}from"./WorkOutline-BRpprJQq.js";import{R as f}from"./Rating-CC-9-bPR.js";import{S as y}from"./StarBorder-BS1uSk71.js";import{S as v}from"./Star-Bgm7RHOV.js";import{a as L}from"./InputLabel-DpN5m5Yk.js";import{T as U}from"./TextField-DdsD0Afg.js";import{F as N}from"./FormControlLabel-DTCfN-Gd.js";import{C as H}from"./Checkbox-DZaxlRGh.js";import{A as Q}from"./Alert-j9c9aQEr.js";import{S as q,N as J}from"./SentimentSatisfiedAlt-goXhCwUM.js";import{S as V}from"./SentimentDissatisfied-4zTQ4XvH.js";import{S as X}from"./Stack-DUsTNRwi.js";import"./Sidebar-DGzgELZX.js";import"./moment-C5S46NFB.js";import"./id-DNGKkZzB.js";import"./CheckCircle-Dd-oaFV0.js";import"./ChevronRight-FNylUib_.js";import"./Person-5k5xBlAT.js";import"./Info-CdM9Lqya.js";import"./People-6TwBzk5z.js";import"./Event-DRCIx1GO.js";import"./Footer-DSErbOqA.js";import"./visuallyHidden-Dan1xhjv.js";import"./Select-Bh9V9k3o.js";import"./SwitchBase-BRw57M3-.js";import"./Close-CafbgWA1.js";const d=({name:i,label:s,value:u,onChange:g,description:e})=>a.jsxs(t,{sx:{mb:3},children:[a.jsxs(X,{direction:"row",spacing:2,alignItems:"center",sx:{mb:1},children:[a.jsx(n,{variant:"subtitle1",sx:{fontWeight:600,flex:1},children:s}),a.jsx(f,{name:i,value:u,onChange:(o,p)=>g(i,p),precision:1,icon:a.jsx(v,{fontSize:"inherit"}),emptyIcon:a.jsx(y,{fontSize:"inherit"}),sx:{color:"secondary.main"}})]}),a.jsx(n,{variant:"caption",color:"text.secondary",children:e})]}),Ma=({review:i,company:s,jobApplication:u})=>{const g=P();T(g.breakpoints.down("sm"));const{data:e,setData:o,put:p,processing:k,errors:l}=I({job_application_id:i.job_application_id,rating:i.rating||0,review_text:i.review_text||"",rating_categories:i.rating_categories||{work_culture:0,career_growth:0,work_life_balance:0,salary_benefits:0,management:0},is_anonymous:i.is_anonymous||!1}),m=(r,c)=>{o("rating_categories",{...e.rating_categories,[r]:c});const b=Object.values({...e.rating_categories,[r]:c}),w=b.reduce((S,B)=>S+B,0)/b.length;o("rating",Math.round(w))},_=r=>{r.preventDefault(),p(route("candidate.reviews.update",i.id))},C=r=>r>=4?a.jsx(q,{color:"success"}):r>=2?a.jsx(J,{color:"warning"}):r>0?a.jsx(V,{color:"error"}):null;return a.jsxs(R,{children:[a.jsx(A,{title:"Edit Ulasan Perusahaan"}),a.jsxs(D,{maxWidth:"lg",sx:{py:4},children:[a.jsx(h,{variant:"text",color:"inherit",startIcon:a.jsx(M,{}),href:route("candidate.reviews.show",i.id),sx:{mb:3},children:"Kembali ke Detail Ulasan"}),a.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:a.jsxs(j,{container:!0,spacing:4,children:[a.jsx(j,{item:!0,xs:12,md:4,children:a.jsx(z,{sx:{position:"sticky",top:24,mb:3,borderRadius:"1rem",border:"1px solid",borderColor:"divider"},children:a.jsxs(O,{children:[a.jsxs(t,{sx:{display:"flex",alignItems:"center",mb:2},children:[a.jsx(E,{src:s.logo,variant:"rounded",sx:{width:64,height:64,bgcolor:"primary.light",color:"primary.main",mr:2,borderRadius:"0.5rem",p:1},children:s.name?s.name.charAt(0):a.jsx(F,{})}),a.jsxs(t,{children:[a.jsx(n,{variant:"h6",sx:{fontWeight:600},children:s.name}),a.jsx(n,{variant:"body2",color:"text.secondary",children:s.industry})]})]}),a.jsx(x,{sx:{my:2}}),a.jsx(n,{variant:"subtitle2",fontWeight:600,gutterBottom:!0,children:"Posisi yang Dilamar"}),a.jsxs(t,{sx:{display:"flex",alignItems:"center",mb:2},children:[a.jsx(G,{sx:{color:"text.secondary",mr:1}}),a.jsx(n,{variant:"body2",children:u.job.title})]}),a.jsx(x,{sx:{my:2}}),a.jsx(n,{variant:"body2",color:"text.secondary",children:"Anda dapat mengubah penilaian atau ulasan yang telah Anda berikan."})]})})}),a.jsx(j,{item:!0,xs:12,md:8,children:a.jsxs(K,{component:"form",onSubmit:_,elevation:0,sx:{p:4,borderRadius:"1rem",border:"1px solid",borderColor:"divider"},children:[a.jsxs(n,{variant:"h5",gutterBottom:!0,fontWeight:600,children:["Edit Ulasan untuk ",s.name]}),a.jsx(n,{variant:"body2",color:"text.secondary",sx:{mb:4},children:"Perbarui pengalaman dan pendapat Anda tentang perusahaan."}),a.jsxs(t,{sx:{mb:4},children:[a.jsx(n,{variant:"subtitle1",sx:{fontWeight:600,mb:1},children:"Penilaian Keseluruhan"}),a.jsxs(t,{sx:{display:"flex",alignItems:"center",mb:2},children:[a.jsx(f,{name:"rating",value:e.rating,onChange:(r,c)=>o("rating",c),precision:1,size:"large",icon:a.jsx(v,{fontSize:"inherit"}),emptyIcon:a.jsx(y,{fontSize:"inherit"}),sx:{color:"secondary.main",mr:2}}),C(e.rating),a.jsxs(n,{variant:"body2",sx:{ml:1},children:[e.rating," dari 5"]})]}),l.rating&&a.jsx(L,{error:!0,children:l.rating})]}),a.jsx(x,{sx:{my:3}}),a.jsx(n,{variant:"subtitle1",sx:{fontWeight:600,mb:2},children:"Penilaian Berdasarkan Kategori"}),a.jsx(d,{name:"work_culture",label:"Budaya Kerja",value:e.rating_categories.work_culture,onChange:m,description:"Bagaimana budaya dan lingkungan kerja di perusahaan ini?"}),a.jsx(d,{name:"career_growth",label:"Pertumbuhan Karir",value:e.rating_categories.career_growth,onChange:m,description:"Bagaimana kesempatan untuk pertumbuhan dan pengembangan karir?"}),a.jsx(d,{name:"work_life_balance",label:"Keseimbangan Kerja",value:e.rating_categories.work_life_balance,onChange:m,description:"Bagaimana keseimbangan antara pekerjaan dan kehidupan pribadi?"}),a.jsx(d,{name:"salary_benefits",label:"Gaji & Tunjangan",value:e.rating_categories.salary_benefits,onChange:m,description:"Bagaimana gaji dan tunjangan yang ditawarkan?"}),a.jsx(d,{name:"management",label:"Manajemen",value:e.rating_categories.management,onChange:m,description:"Bagaimana gaya manajemen dan kepemimpinan di perusahaan?"}),a.jsx(x,{sx:{my:3}}),a.jsxs(t,{sx:{mb:3},children:[a.jsx(n,{variant:"subtitle1",sx:{fontWeight:600,mb:1},children:"Ceritakan Pengalaman Anda"}),a.jsx(U,{fullWidth:!0,multiline:!0,rows:6,variant:"outlined",placeholder:"Bagikan pengalaman, hal positif/negatif, dan saran untuk perusahaan...",value:e.review_text,onChange:r=>o("review_text",r.target.value),error:!!l.review_text,helperText:l.review_text||"Minimal 10 karakter",sx:{"& .MuiOutlinedInput-root":{borderRadius:"0.75rem"}}})]}),a.jsx(t,{sx:{mb:4},children:a.jsx(N,{control:a.jsx(H,{checked:e.is_anonymous,onChange:r=>o("is_anonymous",r.target.checked),color:"secondary"}),label:"Kirim sebagai anonim (nama Anda tidak akan ditampilkan)"})}),Object.keys(l).length>0&&a.jsx(Q,{severity:"error",sx:{mb:3},children:"Mohon perbaiki kesalahan pada form sebelum mengirim."}),a.jsxs(t,{sx:{display:"flex",justifyContent:"flex-end",gap:2},children:[a.jsx(h,{variant:"outlined",color:"inherit",href:route("candidate.reviews.show",i.id),children:"Batal"}),a.jsx(h,{type:"submit",variant:"contained",color:"secondary",disabled:k,sx:{borderRadius:"0.75rem",py:1.25,px:3,fontWeight:600,boxShadow:"0 4px 14px 0 rgba(156, 39, 176, 0.25)"},children:"Simpan Perubahan"})]})]})})]})})]})]})};export{Ma as default};

import{j as e,r as f,a as ae,m as v,J as C}from"./app-DbtvrzCH.js";import{L as ne}from"./Layout-nP23ILEi.js";import{B as E,D as se,I as K}from"./Button-CgCKgwRd.js";import{c as U,u as q,B as r,T as s,P as _}from"./Button-B_2tu0cn.js";import{u as ie}from"./index-BJHsQb-H.js";import{p as y}from"./parseISO-CdYBYf21.js";import{c as G,t as oe}from"./toDate-DQ4lCuA9.js";import{c as le}from"./constructNow-z21Lzbrf.js";import{i as k,a as X,s as de}from"./startOfMonth-T6FU0C-h.js";import{C as ce}from"./Container-CHMV_DAY.js";import{A as xe}from"./Alert-D22fyny9.js";import{L as me}from"./LinearProgress-Cp3Ye6up.js";import{E as J}from"./Event-JhFTkm8A.js";import{C as T}from"./Slide-DsAvN5qg.js";import{d as Z}from"./Work-bK6ZZ-Qp.js";import{N as he}from"./Sidebar-sw6YawgY.js";import{T as pe}from"./AccessTime-as3EkDL5.js";import{L as Y}from"./LocationOn-BAU5EuQK.js";import{V as $}from"./Videocam-CwBQJFOJ.js";import{e as ue}from"./endOfMonth-CEPzkpce.js";import{n as ge}from"./en-US-DjmIwZ1X.js";import{C as be}from"./ChevronRight-Bjx9uoMx.js";import{T as fe,a as ye,b as je,c as Q,d as O,e as ve}from"./TableRow-DitY7KzI.js";import{f as w}from"./format-Bimm2Xz4.js";import{i as A}from"./id-GFPdi1w9.js";import"./Footer-BBk2Lp_N.js";import"./Close-Dpj-0MLQ.js";import"./moment-C5S46NFB.js";import"./id-DNGKkZzB.js";import"./CheckCircle-nvk-SVVX.js";import"./Person-C1OGobf6.js";import"./Info-j9m1PK-Q.js";import"./People-KxvvNdCJ.js";const Ce=U(e.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),ke=U(e.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V8h14zM7 10h5v5H7z"}));function we(i,o){const[a,c]=ge(i,o.start,o.end);return{start:a,end:c}}function De(i,o){const{start:a,end:c}=we(o==null?void 0:o.in,i);let u=+a>+c;const n=u?+a:+c,g=u?c:a;g.setHours(0,0,0,0);let D=1;const b=[];for(;+g<=n;)b.push(G(a,g)),g.setDate(g.getDate()+D),g.setHours(0,0,0,0);return u?b.reverse():b}function Me(i,o){return oe(i,o==null?void 0:o.in).getDay()}function Se(i,o){return k(G(i,i),le(i))}function Ie(i,o,a){return X(i,-1,a)}const B=({children:i,elevation:o=0,sx:a={}})=>e.jsx(_,{elevation:o,sx:{borderRadius:"1.5rem",overflow:"hidden",border:"1px solid",borderColor:"divider",transition:"all 0.3s ease","&:hover":{boxShadow:"0 10px 30px rgba(0, 0, 0, 0.05)",transform:"translateY(-2px)",borderColor:"primary.200"},...a},children:i}),We=({events:i,onDateClick:o})=>{const a=q(),[c,u]=f.useState(new Date),[n,g]=f.useState(new Date),D=de(c),b=ue(c),M=De({start:D,end:b}),L=Me(D),F=["Min","Sen","Sel","Rab","Kam","Jum","Sab"],P=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],S=()=>{u(Ie(c))},z=()=>{u(X(c,1))},R=l=>{g(l),o&&o(l)},j=l=>i.some(x=>{const h=y(x.start_time);return k(h,l)}),H=l=>i.filter(x=>{const h=y(x.start_time);return k(h,l)}),I={};return M.forEach(l=>{const x=H(l);x.length>0&&(I[w(l,"yyyy-MM-dd")]=x.length)}),e.jsxs(r,{children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,px:1},children:[e.jsx(K,{onClick:S,size:"small",sx:{color:a.palette.grey[700]},children:e.jsx(Ce,{})}),e.jsxs(s,{variant:"h6",fontWeight:"bold",children:[P[c.getMonth()]," ",c.getFullYear()]}),e.jsx(K,{onClick:z,size:"small",sx:{color:a.palette.grey[700]},children:e.jsx(be,{})})]}),e.jsx(fe,{component:_,elevation:0,sx:{borderRadius:"1rem",overflow:"hidden"},children:e.jsxs(ye,{size:"small",children:[e.jsx(je,{children:e.jsx(Q,{sx:{backgroundColor:a.palette.grey[50]},children:F.map(l=>e.jsx(O,{align:"center",sx:{fontWeight:"bold",color:a.palette.grey[700],py:1,borderBottom:"1px solid",borderColor:a.palette.grey[200]},children:l},l))})}),e.jsx(ve,{children:Array(Math.ceil((M.length+L)/7)).fill(null).map((l,x)=>e.jsx(Q,{children:Array(7).fill(null).map((h,W)=>{const t=x*7+W-L+1;if(!(t>0&&t<=M.length))return e.jsx(O,{sx:{height:"60px",borderColor:a.palette.grey[100]}},W);const m=M[t-1],p=k(m,new Date),N=k(m,n),te=j(m),re=I[w(m,"yyyy-MM-dd")]||0;return e.jsx(O,{onClick:()=>R(m),sx:{height:"60px",cursor:"pointer",position:"relative",p:.5,borderColor:a.palette.grey[100],...p&&{backgroundColor:"rgba(20, 184, 166, 0.05)"},...N&&{backgroundColor:"rgba(20, 184, 166, 0.1)"},"&:hover":{backgroundColor:a.palette.grey[50]}},children:e.jsxs(r,{sx:{display:"flex",flexDirection:"column",height:"100%",alignItems:"center",justifyContent:"center"},children:[e.jsx(s,{variant:"body2",sx:{fontWeight:p||N?"bold":"normal",color:p?a.palette.primary.main:"inherit",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",...p&&{backgroundColor:"rgba(20, 184, 166, 0.1)"}},children:t}),te&&e.jsx(Z,{badgeContent:re,color:"primary",sx:{"& .MuiBadge-badge":{fontSize:"0.7rem",height:"18px",minWidth:"18px",borderRadius:"9px"}},children:e.jsx(r,{sx:{width:4,height:4}})})]})},W)})},x))})]})})]})};function dt({upcomingEvents:i=[],pastEvents:o=[],profileCompleteness:a={percentage:0,missingItems:[],isComplete:!1},user:c={},profile:u={}}){const n=q();ie(n.breakpoints.down("md"));const[g,D]=f.useState(0),[b,V]=f.useState(new Date),[ee,M]=f.useState(!1),[L,F]=f.useState(null),P=t=>{V(t)};u.skills&&u.skills.split(",").map(t=>t.trim()).filter(t=>t.length>0);const S=f.useMemo(()=>i.filter(t=>{try{const d=y(t.start_time);return Se(d)}catch{return!1}}),[i]),z=f.useMemo(()=>i.filter(t=>{try{const d=y(t.start_time);return k(d,b)}catch{return!1}}),[i,b]),R=t=>{try{const d=y(t);return w(d,"HH:mm",{locale:A})}catch{return t}},j=t=>{switch(t){case"confirmed":return n.palette.success.main;case"canceled":return n.palette.error.main;case"completed":return n.palette.info.main;case"scheduled":case"pending":return n.palette.warning.main;default:return n.palette.grey[500]}},H=t=>{switch(t){case"confirmed":return"Terkonfirmasi";case"canceled":return"Dibatalkan";case"completed":return"Selesai";case"scheduled":case"pending":return"Menunggu Konfirmasi";default:return t||"Menunggu"}},I=t=>{switch(t){case"interview":return"Wawancara";case"test":return"Tes";case"meeting":return"Pertemuan";case"online":return"Wawancara Online";case"onsite":return"Wawancara Langsung";default:return t||"Event"}},l=t=>{switch(t){case"interview":case"online":return"rgba(25, 118, 210, 0.1)";case"test":return"rgba(156, 39, 176, 0.1)";case"meeting":return"rgba(46, 125, 50, 0.1)";case"onsite":return"rgba(211, 47, 47, 0.1)";default:return"rgba(117, 117, 117, 0.1)"}},x={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:15}}},W=({event:t})=>{var d,m,p;return e.jsx(_,{elevation:0,sx:{p:2.5,mb:2,borderRadius:"1rem",border:"1px solid",borderColor:"divider",transition:"all 0.3s ease","&:hover":{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05)",borderColor:n.palette.grey[300]}},children:e.jsxs(r,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2},children:[e.jsxs(r,{sx:{display:"flex",flexDirection:"column",alignItems:{xs:"flex-start",sm:"center"},justifyContent:"center",width:{xs:"100%",sm:"16.66%"}},children:[e.jsx(s,{variant:"h5",fontWeight:"bold",color:"text.primary",children:R(t.start_time)}),e.jsx(s,{variant:"body2",color:"text.secondary",children:R(t.end_time)})]}),e.jsxs(r,{sx:{flex:1,width:{xs:"100%",sm:"83.33%"}},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",mb:1,alignItems:"flex-start"},children:[e.jsxs(r,{children:[e.jsx(s,{variant:"h6",fontWeight:"bold",children:t.title}),e.jsxs(s,{variant:"body2",color:"text.secondary",children:[((m=(d=t.job)==null?void 0:d.company)==null?void 0:m.name)||"Perusahaan"," - ",((p=t.job)==null?void 0:p.title)||"Posisi"]})]}),e.jsx(T,{label:H(t.status),size:"small",sx:{backgroundColor:`${j(t.status)}15`,color:j(t.status),fontWeight:"medium",borderRadius:"0.5rem"}})]}),e.jsxs(r,{sx:{display:"flex",gap:2,flexWrap:"wrap",mt:2},children:[e.jsx(r,{sx:{display:"flex",alignItems:"center"},children:e.jsx(r,{sx:{mr:1,display:"flex",alignItems:"center"},children:e.jsx(T,{label:I(t.type),size:"small",sx:{backgroundColor:l(t.type),fontWeight:"medium",borderRadius:"0.5rem"},icon:e.jsx(J,{style:{opacity:.7}})})})}),t.location&&e.jsxs(r,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(Y,{sx:{fontSize:18,color:n.palette.grey[500],mr:.5}}),e.jsx(s,{variant:"body2",color:"text.secondary",children:t.location})]}),t.type==="online"&&t.meeting_link&&e.jsxs(r,{sx:{display:"flex",alignItems:"center"},children:[e.jsx($,{sx:{fontSize:18,color:n.palette.primary.main,mr:.5}}),e.jsx(C,{href:t.meeting_link,target:"_blank",sx:{textDecoration:"none"},children:e.jsx(s,{variant:"body2",color:"primary",sx:{"&:hover":{textDecoration:"underline"}},children:"Join Meeting"})})]})]}),e.jsx(r,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:e.jsx(E,{component:C,href:route("candidate.events.show",t.id),variant:"outlined",color:"primary",size:"small",sx:{borderRadius:"0.8rem",fontWeight:"medium",textTransform:"none",px:2},children:"Detail Event"})})]})]})})};return e.jsxs(ne,{children:[e.jsx(ae,{title:"Jadwal Events"}),e.jsx(r,{sx:{backgroundImage:"linear-gradient(135deg, rgba(245, 245, 245, 0.6) 0%, rgba(250, 250, 250, 0.8) 100%)",position:"absolute",top:0,left:0,right:0,height:200,zIndex:-1}}),e.jsx(ce,{maxWidth:"lg",sx:{py:4,mt:{xs:2,md:3},position:"relative"},children:e.jsxs(v.div,{variants:x,initial:"hidden",animate:"visible",children:[e.jsx(v.div,{variants:h,children:e.jsxs(r,{sx:{mb:4,textAlign:{xs:"center",md:"left"}},children:[e.jsx(s,{variant:"h4",component:"h1",fontWeight:"bold",gutterBottom:!0,color:"text.primary",children:"Jadwal Event"}),e.jsx(s,{variant:"body1",color:"text.secondary",children:"Kelola jadwal interview dan event lainnya terkait lamaran Anda"})]})}),!a.isComplete&&a.percentage<100&&e.jsx(v.div,{variants:h,children:e.jsx(xe,{severity:a.percentage<60?"error":"warning",sx:{mb:4,borderRadius:"1rem",display:"flex",alignItems:"center","& .MuiAlert-icon":{alignItems:"center"}},action:e.jsx(E,{color:"inherit",size:"small",component:C,href:route("candidate.profile.edit"),sx:{fontWeight:"bold","&:hover":{backgroundColor:a.percentage<60?"rgba(211, 47, 47, 0.04)":"rgba(237, 108, 2, 0.04)"}},children:"Lengkapi Sekarang"}),children:e.jsxs(r,{children:[e.jsx(s,{variant:"subtitle2",fontWeight:"bold",children:a.percentage<60?"Profil Anda belum cukup lengkap!":"Profil Anda belum sepenuhnya lengkap!"}),e.jsx(s,{variant:"body2",children:a.percentage<60?"Anda perlu melengkapi profil minimal 60% untuk dapat melihat jadwal event":"Lengkapi profil Anda untuk meningkatkan peluang dipilih oleh perusahaan"}),e.jsx(r,{sx:{mt:1,mb:.5},children:e.jsx(me,{variant:"determinate",value:a.percentage,sx:{height:6,borderRadius:3,backgroundColor:"rgba(255, 255, 255, 0.5)","& .MuiLinearProgress-bar":{borderRadius:3,backgroundColor:a.percentage<60?"error.main":a.percentage<100?"warning.main":"success.main"}}})}),e.jsxs(s,{variant:"caption",sx:{fontWeight:"medium"},children:["Kelengkapan: ",a.percentage,"%"]})]})})}),a.percentage<60?e.jsx(v.div,{variants:h,children:e.jsxs(B,{sx:{p:4,textAlign:"center"},children:[e.jsx(r,{sx:{mb:3,opacity:.7},children:e.jsx(J,{sx:{fontSize:60,color:n.palette.grey[400]}})}),e.jsx(s,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:"Lengkapi Profil Anda"}),e.jsx(s,{variant:"body1",color:"text.secondary",sx:{mb:3,maxWidth:500,mx:"auto"},children:"Anda perlu melengkapi profil setidaknya 60% untuk dapat melihat dan mengelola jadwal event interview."}),e.jsx(E,{component:C,href:route("candidate.profile.edit"),variant:"contained",sx:{borderRadius:"1rem",px:3,py:1,fontWeight:"bold",textTransform:"none"},children:"Lengkapi Profil"})]})}):e.jsxs(e.Fragment,{children:[S.length>0&&e.jsx(v.div,{variants:h,children:e.jsxs(B,{elevation:0,sx:{mb:4,overflow:"visible",position:"relative"},children:[e.jsx(r,{sx:{position:"absolute",top:-10,left:20},children:e.jsx(T,{label:"Hari Ini",icon:e.jsx(ke,{}),sx:{fontWeight:"bold",fontSize:"0.9rem",py:2,borderRadius:"1rem",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)",bgcolor:n.palette.grey[50],color:n.palette.text.primary,border:"1px solid",borderColor:n.palette.divider,"& .MuiChip-icon":{color:n.palette.primary.main}}})}),e.jsxs(r,{sx:{p:3,pt:4},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",mb:2,mt:1},children:[e.jsx(s,{variant:"h6",fontWeight:"bold",color:"text.primary",children:"Interview dan Event Hari Ini"}),e.jsx(Z,{badgeContent:S.length,sx:{ml:2,"& .MuiBadge-badge":{bgcolor:n.palette.grey[700],color:n.palette.common.white}},children:e.jsx(he,{sx:{color:n.palette.grey[600]}})})]}),e.jsx(se,{sx:{mb:3}}),e.jsx(r,{sx:{display:"flex",flexWrap:"wrap",mx:-1.5},children:S.map(t=>{var d,m,p;return e.jsx(r,{sx:{width:{xs:"100%",md:"50%",lg:"33.333%"},p:1.5},children:e.jsxs(_,{elevation:0,sx:{p:2,height:"100%",borderRadius:"1rem",border:"1px solid",borderColor:"divider",transition:"all 0.2s","&:hover":{borderColor:n.palette.grey[300],boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05)"}},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[e.jsx(T,{label:I(t.type),size:"small",sx:{fontWeight:"medium",backgroundColor:l(t.type),borderRadius:"0.5rem"}}),e.jsx(T,{label:H(t.status),size:"small",sx:{backgroundColor:`${j(t.status)}15`,color:j(t.status),fontWeight:"medium",borderRadius:"0.5rem"}})]}),e.jsx(s,{variant:"subtitle1",fontWeight:"bold",sx:{mt:1.5,mb:.5},children:t.title}),e.jsxs(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[((m=(d=t.job)==null?void 0:d.company)==null?void 0:m.name)||"Perusahaan"," - ",((p=t.job)==null?void 0:p.title)||"Posisi"]}),e.jsxs(r,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(pe,{sx:{fontSize:18,color:n.palette.grey[500],mr:.5}}),e.jsxs(s,{variant:"body2",color:"text.secondary",children:[w(y(t.start_time),"HH:mm",{locale:A})," - ",w(y(t.end_time),"HH:mm",{locale:A})]})]}),t.location&&e.jsxs(r,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(Y,{sx:{fontSize:18,color:n.palette.grey[500],mr:.5}}),e.jsx(s,{variant:"body2",color:"text.secondary",children:t.location})]}),t.type==="online"&&t.meeting_link&&e.jsxs(r,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx($,{sx:{fontSize:18,color:n.palette.primary.main,mr:.5,opacity:.7}}),e.jsx(C,{href:t.meeting_link,target:"_blank",sx:{textDecoration:"none"},children:e.jsx(s,{variant:"body2",color:"primary",sx:{"&:hover":{textDecoration:"underline"}},children:"Join Meeting"})})]}),e.jsx(r,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:e.jsx(E,{component:C,href:route("candidate.events.show",t.id),variant:"outlined",color:"primary",size:"small",sx:{borderRadius:"0.8rem",fontWeight:"medium",textTransform:"none"},children:"Detail"})})]})},t.id)})})]})]})}),e.jsx(v.div,{variants:h,children:e.jsxs(r,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:3},children:[e.jsx(r,{sx:{width:{xs:"100%",md:"40%",lg:"35%"}},children:e.jsxs(B,{sx:{p:3,height:"100%"},children:[e.jsx(s,{variant:"h6",fontWeight:"bold",gutterBottom:!0,children:"Kalender"}),e.jsx(We,{events:i,onDateClick:P})]})}),e.jsx(r,{sx:{width:{xs:"100%",md:"60%",lg:"65%"}},children:e.jsxs(B,{sx:{p:3,height:"100%"},children:[e.jsx(r,{sx:{mb:2},children:e.jsxs(s,{variant:"h6",fontWeight:"bold",gutterBottom:!0,children:["Event pada ",w(b,"d MMMM yyyy",{locale:A})]})}),e.jsx(r,{sx:{minHeight:300},children:z.length>0?e.jsx(r,{children:z.map(t=>e.jsx(W,{event:t},t.id))}):e.jsxs(r,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:6,opacity:.7},children:[e.jsx(J,{sx:{fontSize:60,color:n.palette.grey[400],mb:2}}),e.jsx(s,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Tidak ada event untuk tanggal ini"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:'Pilih tanggal lain atau periksa tab "Upcoming"'})]})})]})})]})})]})]})})]})}export{dt as default};

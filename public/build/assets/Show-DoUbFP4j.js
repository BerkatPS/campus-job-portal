import{q as $,r as b,j as e,a as k,J as f,f as J}from"./app-DbtvrzCH.js";import{C as N}from"./Card-CO4m9eOz.js";import{I as y,B as u,D as W}from"./Button-CgCKgwRd.js";import{M as V}from"./Modal-B-OjsfG3.js";import{A as Y}from"./Alert-BWXyQfZl.js";import{T as F}from"./Tabs-Bt3xGRiq.js";import{L as H}from"./Layout-nP23ILEi.js";import{B as s,T as o,P as n}from"./Button-B_2tu0cn.js";import{A as O}from"./ArrowBack-BlJGXhv6.js";import{C as a,A as C}from"./Slide-DsAvN5qg.js";import{E as U}from"./Edit-LT1RMSQh.js";import{D as q}from"./Delete-DKhiqqSP.js";import{L as I}from"./LocationOn-BAU5EuQK.js";import{P as G}from"./Phone-9tvXTJqs.js";import{E as K}from"./Email-Cw9EmbE7.js";import{L as Q}from"./Language-BFV8emV3.js";import{B as X,W as w,T as D}from"./Work-bK6ZZ-Qp.js";import{S as Z}from"./Stack-CsubfPvX.js";import{T as z,a as A,b as T,c as v,d as t,e as _}from"./TableRow-DitY7KzI.js";import{V as R}from"./Visibility-7zZFC74a.js";import{P as S}from"./Person-C1OGobf6.js";import"./Card-DBrS13VS.js";import"./MoreVert-DyEsPTVO.js";import"./CardHeader-iJjJx4bi.js";import"./CardContent-BDcyNa-E.js";import"./DialogContent-CpDcnQgJ.js";import"./DialogTitle-CnVKeRzh.js";import"./Close-BbHhCS19.js";import"./DialogContentText-BbIC-bWf.js";import"./Alert-D22fyny9.js";import"./Close-Dpj-0MLQ.js";import"./AlertTitle-CTfZdqfc.js";import"./AccessTime-as3EkDL5.js";import"./ArrowForward-jR7HuMfl.js";import"./Error-D1IMUwky.js";import"./Warning-CYk4HSbS.js";import"./Info-j9m1PK-Q.js";import"./CheckCircle-nvk-SVVX.js";import"./LinearProgress-Cp3Ye6up.js";import"./Tabs-DDppPwJC.js";import"./KeyboardArrowRight-B784So0V.js";import"./Sidebar-sw6YawgY.js";import"./moment-C5S46NFB.js";import"./id-DNGKkZzB.js";import"./index-BJHsQb-H.js";import"./Container-CHMV_DAY.js";import"./ChevronRight-Bjx9uoMx.js";import"./People-KxvvNdCJ.js";import"./Event-JhFTkm8A.js";import"./Footer-BBk2Lp_N.js";const ee=({company:i,stats:r})=>{var l,c,h,d,p,x;return e.jsxs(s,{children:[e.jsxs(s,{sx:{display:"flex",flexWrap:"wrap",gap:3,mb:4},children:[e.jsx(s,{sx:{flex:"1 1 220px",minWidth:"220px"},children:e.jsxs(n,{elevation:0,sx:{p:2,borderRadius:2,boxShadow:"0 2px 12px rgba(0,0,0,0.08)",border:"1px solid",borderColor:"divider",height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 16px rgba(0,0,0,0.1)"}},children:[e.jsx(o,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Total Jobs Posted"}),e.jsx(o,{variant:"h4",fontWeight:700,sx:{mb:1},children:((l=r==null?void 0:r.jobs)==null?void 0:l.total)||0}),e.jsxs(s,{sx:{display:"flex",gap:1,mt:"auto"},children:[e.jsx(a,{label:`${((c=r==null?void 0:r.jobs)==null?void 0:c.active)||0} Active`,size:"small",color:"success",variant:"outlined"}),e.jsx(a,{label:`${((h=r==null?void 0:r.jobs)==null?void 0:h.closed)||0} Closed`,size:"small",color:"default",variant:"outlined"})]})]})}),e.jsx(s,{sx:{flex:"1 1 220px",minWidth:"220px"},children:e.jsxs(n,{elevation:0,sx:{p:2,borderRadius:2,boxShadow:"0 2px 12px rgba(0,0,0,0.08)",border:"1px solid",borderColor:"divider",height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 16px rgba(0,0,0,0.1)"}},children:[e.jsx(o,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Total Applications"}),e.jsx(o,{variant:"h4",fontWeight:700,sx:{mb:1},children:((d=r==null?void 0:r.applications)==null?void 0:d.total)||0}),e.jsxs(s,{sx:{display:"flex",gap:1,flexWrap:"wrap",mt:"auto"},children:[e.jsx(a,{label:`${((p=r==null?void 0:r.applications)==null?void 0:p.pending)||0} Pending`,size:"small",color:"warning",variant:"outlined"}),e.jsx(a,{label:`${((x=r==null?void 0:r.applications)==null?void 0:x.accepted)||0} Accepted`,size:"small",color:"success",variant:"outlined"})]})]})}),e.jsx(s,{sx:{flex:"1 1 220px",minWidth:"220px"},children:e.jsxs(n,{elevation:0,sx:{p:2,borderRadius:2,boxShadow:"0 2px 12px rgba(0,0,0,0.08)",border:"1px solid",borderColor:"divider",height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 16px rgba(0,0,0,0.1)"}},children:[e.jsx(o,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Total Managers"}),e.jsx(o,{variant:"h4",fontWeight:700,children:i.managers_count||0})]})}),e.jsx(s,{sx:{flex:"1 1 220px",minWidth:"220px"},children:e.jsxs(n,{elevation:0,sx:{p:2,borderRadius:2,boxShadow:"0 2px 12px rgba(0,0,0,0.08)",border:"1px solid",borderColor:"divider",height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 16px rgba(0,0,0,0.1)"}},children:[e.jsx(o,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Status"}),e.jsx(o,{variant:"h4",fontWeight:700,color:i.is_active?"success.main":"text.disabled",children:i.is_active?"Active":"Inactive"})]})})]}),e.jsxs(s,{sx:{display:"flex",flexWrap:"wrap",gap:3},children:[e.jsxs(s,{sx:{flex:"1 1 60%",minWidth:"300px"},children:[e.jsxs(n,{elevation:0,sx:{p:3,borderRadius:2,boxShadow:"0 2px 12px rgba(0,0,0,0.08)",border:"1px solid",borderColor:"divider",mb:3},children:[e.jsx(o,{variant:"h6",fontWeight:600,sx:{mb:2},children:"About Company"}),e.jsx(o,{variant:"body1",color:"text.secondary",sx:{mb:3},children:i.description||"No description available."})]}),e.jsxs(n,{elevation:0,sx:{p:3,borderRadius:2,boxShadow:"0 2px 12px rgba(0,0,0,0.08)",border:"1px solid",borderColor:"divider"},children:[e.jsx(o,{variant:"h6",fontWeight:600,sx:{mb:2},children:"Contact Information"}),e.jsxs(s,{sx:{display:"flex",flexWrap:"wrap",gap:2},children:[i.address&&e.jsx(s,{sx:{flex:"1 1 45%",minWidth:"200px"},children:e.jsxs(s,{sx:{display:"flex",alignItems:"flex-start",gap:1},children:[e.jsx(I,{color:"primary"}),e.jsxs(s,{children:[e.jsx(o,{variant:"body2",fontWeight:500,children:"Address"}),e.jsx(o,{variant:"body2",color:"text.secondary",children:i.address})]})]})}),i.phone&&e.jsx(s,{sx:{flex:"1 1 45%",minWidth:"200px"},children:e.jsxs(s,{sx:{display:"flex",alignItems:"flex-start",gap:1},children:[e.jsx(G,{color:"primary"}),e.jsxs(s,{children:[e.jsx(o,{variant:"body2",fontWeight:500,children:"Phone"}),e.jsx(o,{variant:"body2",color:"text.secondary",children:i.phone})]})]})}),i.email&&e.jsx(s,{sx:{flex:"1 1 45%",minWidth:"200px"},children:e.jsxs(s,{sx:{display:"flex",alignItems:"flex-start",gap:1},children:[e.jsx(K,{color:"primary"}),e.jsxs(s,{children:[e.jsx(o,{variant:"body2",fontWeight:500,children:"Email"}),e.jsx(o,{variant:"body2",color:"text.secondary",children:i.email})]})]})}),i.website&&e.jsx(s,{sx:{flex:"1 1 45%",minWidth:"200px"},children:e.jsxs(s,{sx:{display:"flex",alignItems:"flex-start",gap:1},children:[e.jsx(Q,{color:"primary"}),e.jsxs(s,{children:[e.jsx(o,{variant:"body2",fontWeight:500,children:"Website"}),e.jsx(o,{component:"a",href:i.website.startsWith("http")?i.website:`https://${i.website}`,target:"_blank",rel:"noopener noreferrer",variant:"body2",sx:{color:"primary.main",textDecoration:"none"},children:i.website})]})]})})]})]})]}),e.jsx(s,{sx:{flex:"1 1 30%",minWidth:"300px"},children:e.jsxs(n,{elevation:0,sx:{p:3,borderRadius:2,boxShadow:"0 2px 12px rgba(0,0,0,0.08)",border:"1px solid",borderColor:"divider"},children:[e.jsxs(s,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:2},children:[e.jsx(C,{src:i.logo,alt:i.name,variant:"rounded",sx:{width:120,height:120,mb:2,bgcolor:i.logo?"transparent":"#f5f5f5",objectFit:"contain"},imgProps:{style:{objectFit:"contain",maxWidth:"100%",maxHeight:"100%"},onError:m=>{console.log("Image load error, using fallback"),m.target.src="/default-logo.png"}},children:!i.logo&&e.jsx(X,{sx:{fontSize:40},color:"primary"})}),e.jsx(o,{variant:"h6",fontWeight:600,align:"center",children:i.name}),i.industry&&e.jsx(a,{label:i.industry,color:"primary",variant:"outlined",size:"small",sx:{mt:1}})]}),e.jsx(W,{sx:{my:2}}),e.jsxs(Z,{spacing:2,children:[e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(o,{variant:"body2",color:"text.secondary",children:"Status"}),e.jsx(a,{label:i.is_active?"Active":"Inactive",color:i.is_active?"success":"default",size:"small"})]}),e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(o,{variant:"body2",color:"text.secondary",children:"Created"}),e.jsx(o,{variant:"body2",children:new Date(i.created_at).toLocaleDateString()})]}),e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(o,{variant:"body2",color:"text.secondary",children:"Last Updated"}),e.jsx(o,{variant:"body2",children:new Date(i.updated_at).toLocaleDateString()})]})]}),e.jsx(W,{sx:{my:2}}),e.jsx(u,{variant:"outlined",fullWidth:!0,component:f,href:route("admin.companies.edit",i.id),children:"Edit Company Details"})]})})]})]})},re=({jobs:i})=>e.jsx(s,{children:i.length===0?e.jsxs(n,{elevation:0,sx:{p:5,borderRadius:2,textAlign:"center",boxShadow:"0 2px 12px rgba(0,0,0,0.08)",border:"1px solid",borderColor:"divider"},children:[e.jsx(w,{sx:{fontSize:50,color:"text.disabled",mb:2}}),e.jsx(o,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"No jobs available"}),e.jsx(o,{variant:"body1",color:"text.secondary",children:"This company hasn't posted any jobs yet."})]}):e.jsx(n,{elevation:0,sx:{borderRadius:2,overflow:"hidden",boxShadow:"0 2px 12px rgba(0,0,0,0.08)",border:"1px solid",borderColor:"divider"},children:e.jsx(z,{children:e.jsxs(A,{children:[e.jsx(T,{children:e.jsxs(v,{sx:{bgcolor:"rgba(0, 0, 0, 0.02)"},children:[e.jsx(t,{sx:{fontWeight:600},children:"Job Title"}),e.jsx(t,{sx:{fontWeight:600},children:"Category"}),e.jsx(t,{sx:{fontWeight:600},children:"Location"}),e.jsx(t,{sx:{fontWeight:600},children:"Type"}),e.jsx(t,{sx:{fontWeight:600},children:"Applications"}),e.jsx(t,{sx:{fontWeight:600},children:"Deadline"}),e.jsx(t,{sx:{fontWeight:600},children:"Status"}),e.jsx(t,{align:"center",sx:{fontWeight:600},children:"Actions"})]})}),e.jsx(_,{children:i.map(r=>e.jsxs(v,{sx:{"&:hover":{bgcolor:"rgba(0, 0, 0, 0.02)","& .job-actions":{opacity:1}}},children:[e.jsx(t,{children:e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(w,{fontSize:"small",color:"primary"}),e.jsx(o,{variant:"body2",fontWeight:500,children:r.title})]})}),e.jsx(t,{children:r.category?e.jsx(a,{label:r.category.name,size:"small",color:"secondary",variant:"outlined"}):e.jsx(o,{variant:"caption",color:"text.disabled",children:"Uncategorized"})}),e.jsx(t,{children:e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(I,{fontSize:"small",color:"action"}),e.jsx(o,{variant:"body2",children:r.location})]})}),e.jsx(t,{children:e.jsx(a,{label:r.job_type,size:"small",color:"primary",variant:"outlined"})}),e.jsx(t,{children:e.jsx(a,{label:r.applications_count||0,size:"small",color:"default",sx:{fontWeight:500,bgcolor:r.applications_count?"rgba(0, 0, 0, 0.08)":"transparent"}})}),e.jsx(t,{children:e.jsx(o,{variant:"body2",children:new Date(r.submission_deadline).toLocaleDateString()})}),e.jsx(t,{children:e.jsx(a,{label:r.status||(r.is_active?"Active":"Inactive"),size:"small",color:r.status==="active"||r.is_active?"success":r.status==="draft"?"warning":"default",sx:{minWidth:"70px"}})}),e.jsx(t,{align:"center",children:e.jsx(s,{className:"job-actions",sx:{opacity:{xs:1,md:0},transition:"opacity 0.2s"},children:e.jsx(D,{title:"View Job Details",children:e.jsx(y,{size:"small",component:f,href:route("admin.jobs.show",r.id),sx:{color:"primary.main"},children:e.jsx(R,{fontSize:"small"})})})})})]},r.id))})]})})})}),ie=({managers:i})=>e.jsx(s,{children:i.length===0?e.jsxs(n,{elevation:0,sx:{p:5,borderRadius:2,textAlign:"center",boxShadow:"0 2px 12px rgba(0,0,0,0.08)",border:"1px solid",borderColor:"divider"},children:[e.jsx(S,{sx:{fontSize:50,color:"text.disabled",mb:2}}),e.jsx(o,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"No managers assigned"}),e.jsx(o,{variant:"body1",color:"text.secondary",children:"This company doesn't have any managers assigned yet."})]}):e.jsx(n,{elevation:0,sx:{borderRadius:2,overflow:"hidden",boxShadow:"0 2px 12px rgba(0,0,0,0.08)",border:"1px solid",borderColor:"divider"},children:e.jsx(z,{children:e.jsxs(A,{children:[e.jsx(T,{children:e.jsxs(v,{sx:{bgcolor:"rgba(0, 0, 0, 0.02)"},children:[e.jsx(t,{sx:{fontWeight:600},children:"Manager"}),e.jsx(t,{sx:{fontWeight:600},children:"Email"}),e.jsx(t,{sx:{fontWeight:600},children:"Role"}),e.jsx(t,{sx:{fontWeight:600},children:"Since"}),e.jsx(t,{sx:{fontWeight:600},children:"Status"}),e.jsx(t,{align:"center",sx:{fontWeight:600},children:"Actions"})]})}),e.jsx(_,{children:i.map(r=>{var l,c,h,d,p,x,m,j,g;return e.jsxs(v,{sx:{"&:hover":{bgcolor:"rgba(0, 0, 0, 0.02)","& .manager-actions":{opacity:1}}},children:[e.jsx(t,{children:e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[e.jsx(C,{src:(l=r.user)==null?void 0:l.avatar,alt:(c=r.user)==null?void 0:c.name,sx:{width:36,height:36,bgcolor:r.is_primary?"primary.main":"grey.400"},children:e.jsx(S,{fontSize:"small"})}),e.jsxs(s,{children:[e.jsx(o,{variant:"body2",fontWeight:600,children:(h=r.user)==null?void 0:h.name}),r.is_primary&&e.jsx(o,{variant:"caption",color:"primary",sx:{fontWeight:500},children:"Primary Manager"})]})]})}),e.jsx(t,{children:e.jsx(o,{variant:"body2",children:(d=r.user)==null?void 0:d.email})}),e.jsx(t,{children:e.jsx(a,{label:((x=(p=r.user)==null?void 0:p.role)==null?void 0:x.name)||"Manager",size:"small",color:"secondary",variant:"outlined",sx:{fontWeight:500}})}),e.jsx(t,{children:e.jsx(o,{variant:"body2",children:new Date(r.created_at).toLocaleDateString()})}),e.jsx(t,{children:e.jsx(a,{label:(m=r.user)!=null&&m.is_active?"Active":"Inactive",size:"small",color:(j=r.user)!=null&&j.is_active?"success":"default",sx:{fontWeight:500}})}),e.jsx(t,{align:"center",children:e.jsx(s,{className:"manager-actions",sx:{opacity:{xs:1,md:0},transition:"opacity 0.2s"},children:e.jsx(D,{title:"View Manager Details",children:e.jsx(y,{size:"small",component:f,href:route("admin.users.show",(g=r.user)==null?void 0:g.id),sx:{color:"primary.main"},children:e.jsx(R,{fontSize:"small"})})})})})]},r.id)})})]})})})}),Ze=()=>{const{company:i,managers:r,jobs:l,stats:c}=$().props,[h,d]=b.useState(!1),[p,x]=b.useState(!1),[m,j]=b.useState(!1),[g,B]=b.useState(""),[L,M]=b.useState("success"),E=[{label:"Overview",content:e.jsx(ee,{company:i,stats:c})},{label:`Jobs (${(l==null?void 0:l.length)||0})`,content:e.jsx(re,{jobs:l||[]})},{label:`Managers (${(r==null?void 0:r.length)||0})`,content:e.jsx(ie,{managers:r||[]})}],P=()=>{x(!0),J.delete(route("admin.companies.destroy",i.id),{onSuccess:()=>{},onError:()=>{d(!1),B("Failed to delete company. It may be associated with active jobs or applications."),M("error"),j(!0),x(!1)}})};return e.jsxs(H,{children:[e.jsx(k,{title:`${i.name} - Company Details`}),m&&e.jsx(Y,{severity:L,onClose:()=>j(!1),sx:{mb:2},children:g}),e.jsxs(s,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(y,{component:f,href:route("admin.companies.index"),size:"small",sx:{bgcolor:"background.paper",boxShadow:"0 2px 8px rgba(0,0,0,0.1)","&:hover":{bgcolor:"background.paper"}},children:e.jsx(O,{fontSize:"small"})}),e.jsx(o,{variant:"h5",component:"h1",fontWeight:600,children:i.name}),i.is_active?e.jsx(a,{label:"Active",color:"success",size:"small",sx:{ml:1}}):e.jsx(a,{label:"Inactive",color:"default",size:"small",sx:{ml:1}})]}),e.jsxs(s,{sx:{display:"flex",gap:1},children:[e.jsx(u,{variant:"contained",startIcon:e.jsx(U,{}),color:"primary",component:f,href:route("admin.companies.edit",i.id),children:"Edit"}),e.jsx(u,{variant:"outlined",startIcon:e.jsx(q,{}),color:"error",onClick:()=>d(!0),children:"Delete"})]})]}),e.jsx(N,{children:e.jsx(F,{tabs:E,variant:"contained",padding:0})}),e.jsx(V,{open:h,onClose:()=>d(!1),title:"Delete Company",description:`Are you sure you want to delete ${i.name}? This action cannot be undone and may affect related jobs and applications.`,confirmButton:!0,cancelButton:!0,confirmText:"Delete",confirmColor:"error",onConfirm:P,loading:p})]})};export{Ze as default};

import{q as W,r as w,S as q,j as e,a as L,J as f}from"./app-BUVb_nAj.js";import{E as k}from"./index-DeSnP08D.js";import{L as A}from"./Layout-DnkF-NCm.js";import{C as B}from"./Container-DEvTfuj0.js";import{B as t,a as d,T as c,P as E}from"./Button-DFxjcZ8p.js";import{A as K}from"./ArrowBack-Cgi6G0-j.js";import{A as R}from"./Alert-j9c9aQEr.js";import{T as x}from"./TextField-DdsD0Afg.js";import{F as u,I as m,a as o}from"./InputLabel-DpN5m5Yk.js";import{S as p}from"./Select-Bh9V9k3o.js";import{M as n}from"./Work-CLEsMByH.js";import{I}from"./InputAdornment-CzgX0339.js";import{D as C}from"./Button-DzGhUBn7.js";import{A as F}from"./Add-Dwuu4lJj.js";import{C as J}from"./Slide-DYtCGdXj.js";import{D as M}from"./DeleteOutline-DPq0G7OD.js";import{S as G}from"./Save-JdvVwzrr.js";import{P as H}from"./Publish-DMZaDBQn.js";import"./Sidebar-DGzgELZX.js";import"./moment-C5S46NFB.js";import"./id-DNGKkZzB.js";import"./index-Dtg-WGcE.js";import"./CheckCircle-Dd-oaFV0.js";import"./ChevronRight-FNylUib_.js";import"./Person-5k5xBlAT.js";import"./Info-CdM9Lqya.js";import"./People-6TwBzk5z.js";import"./Event-DRCIx1GO.js";import"./Footer-DSErbOqA.js";import"./Close-CafbgWA1.js";const be=({job:l,companies:D=[],categories:v=[]})=>{const{auth:U}=W().props,[h,y]=w.useState(""),{data:i,setData:s,put:g,processing:b,errors:a}=q({title:l.title||"",company_id:l.company_id||"",description:l.description||"",requirements:l.requirements||"",location:l.location||"",job_type:l.job_type||"full_time",experience_level:l.experience_level||"entry",salary_min:l.salary_min||"",salary_max:l.salary_max||"",status:l.status||(l.is_active?"active":"closed")||"draft",category_id:l.category_id||"",submission_deadline:l.submission_deadline?l.submission_deadline.split("T")[0]:l.deadline?l.deadline.split("T")[0]:"",skills:l.skills||[]}),P=r=>{r.preventDefault(),g(route("admin.jobs.update",l.id))},_=()=>{h.trim()!==""&&!i.skills.includes(h.trim())&&(s("skills",[...i.skills,h.trim()]),y(""))},S=r=>{s("skills",i.skills.filter(j=>j!==r))},T=r=>{r.key==="Enter"&&(r.preventDefault(),_())};return e.jsxs(A,{children:[e.jsx(L,{title:`Edit: ${l.title}`}),e.jsxs(B,{maxWidth:"xl",sx:{py:3},children:[e.jsxs(t,{sx:{mb:3},children:[e.jsx(d,{component:f,href:route("admin.jobs.index"),startIcon:e.jsx(K,{}),sx:{mb:2},children:"Kembali ke Daftar Lowongan"}),e.jsx(c,{variant:"h4",component:"h1",fontWeight:"bold",gutterBottom:!0,children:"Edit Lowongan Pekerjaan"}),e.jsx(c,{variant:"body1",color:"text.secondary",children:"Perbarui informasi lowongan pekerjaan"})]}),Object.keys(a).length>0&&e.jsx(R,{severity:"error",sx:{mb:3},children:"Terdapat kesalahan pada formulir. Silakan periksa kembali."}),e.jsx(E,{sx:{p:3,borderRadius:3},children:e.jsx("form",{onSubmit:P,children:e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:3},children:[e.jsx(t,{sx:{display:"flex",flexDirection:"column",gap:2},children:e.jsx(x,{label:"Judul Pekerjaan",fullWidth:!0,required:!0,value:i.title,onChange:r=>s("title",r.target.value),error:!!a.title,helperText:a.title,placeholder:"Contoh: Senior Web Developer"})}),e.jsxs(t,{sx:{display:"flex",gap:3,flexDirection:{xs:"column",sm:"row"}},children:[e.jsxs(u,{fullWidth:!0,required:!0,error:!!a.company_id,children:[e.jsx(m,{id:"company-label",children:"Perusahaan"}),e.jsx(p,{labelId:"company-label",value:i.company_id,onChange:r=>s("company_id",r.target.value),label:"Perusahaan",children:D.map(r=>e.jsx(n,{value:r.id,children:r.name},r.id))}),a.company_id&&e.jsx(o,{children:a.company_id})]}),e.jsxs(u,{fullWidth:!0,error:!!a.category_id,children:[e.jsx(m,{id:"category-label",children:"Kategori"}),e.jsx(p,{labelId:"category-label",value:i.category_id,onChange:r=>s("category_id",r.target.value),label:"Kategori",children:v&&v.map(r=>e.jsx(n,{value:r.id,children:r.name},r.id))}),a.category_id&&e.jsx(o,{children:a.category_id})]})]}),e.jsxs(t,{sx:{display:"flex",gap:3,flexDirection:{xs:"column",sm:"row"}},children:[e.jsx(x,{label:"Lokasi",fullWidth:!0,required:!0,value:i.location,onChange:r=>s("location",r.target.value),error:!!a.location,helperText:a.location,placeholder:"Contoh: Jakarta, Remote, Hybrid"}),e.jsxs(u,{fullWidth:!0,required:!0,error:!!a.job_type,children:[e.jsx(m,{id:"job-type-label",children:"Tipe Pekerjaan"}),e.jsxs(p,{labelId:"job-type-label",value:i.job_type,onChange:r=>s("job_type",r.target.value),label:"Tipe Pekerjaan",children:[e.jsx(n,{value:"full_time",children:"Full Time"}),e.jsx(n,{value:"part_time",children:"Part Time"}),e.jsx(n,{value:"contract",children:"Kontrak"}),e.jsx(n,{value:"internship",children:"Magang"}),e.jsx(n,{value:"freelance",children:"Freelance"})]}),a.job_type&&e.jsx(o,{children:a.job_type})]})]}),e.jsxs(t,{sx:{display:"flex",gap:3,flexDirection:{xs:"column",sm:"row"}},children:[e.jsxs(u,{fullWidth:!0,required:!0,error:!!a.experience_level,children:[e.jsx(m,{id:"experience-label",children:"Level Pengalaman"}),e.jsxs(p,{labelId:"experience-label",value:i.experience_level,onChange:r=>s("experience_level",r.target.value),label:"Level Pengalaman",children:[e.jsx(n,{value:"entry",children:"Entry Level (0-2 tahun)"}),e.jsx(n,{value:"mid",children:"Mid Level (2-5 tahun)"}),e.jsx(n,{value:"senior",children:"Senior Level (5+ tahun)"}),e.jsx(n,{value:"executive",children:"Executive (10+ tahun)"})]}),a.experience_level&&e.jsx(o,{children:a.experience_level})]}),e.jsx(x,{label:"Gaji Minimum",fullWidth:!0,type:"number",value:i.salary_min,onChange:r=>s("salary_min",r.target.value),error:!!a.salary_min,helperText:a.salary_min,InputProps:{startAdornment:e.jsx(I,{position:"start",children:"Rp"})}})]}),e.jsxs(t,{sx:{display:"flex",gap:3,flexDirection:{xs:"column",sm:"row"}},children:[e.jsx(x,{label:"Gaji Maksimum",fullWidth:!0,type:"number",value:i.salary_max,onChange:r=>s("salary_max",r.target.value),error:!!a.salary_max,helperText:a.salary_max||"Kosongkan jika tidak ingin menampilkan range gaji",InputProps:{startAdornment:e.jsx(I,{position:"start",children:"Rp"})}}),e.jsx(x,{label:"Batas Waktu Pendaftaran",fullWidth:!0,type:"date",value:i.submission_deadline,onChange:r=>s("submission_deadline",r.target.value),error:!!a.submission_deadline,helperText:a.submission_deadline,InputLabelProps:{shrink:!0}})]}),e.jsxs(u,{fullWidth:!0,required:!0,error:!!a.status,children:[e.jsx(m,{id:"status-label",children:"Status"}),e.jsxs(p,{labelId:"status-label",value:i.status,onChange:r=>s("status",r.target.value),label:"Status",children:[e.jsx(n,{value:"draft",children:"Draft"}),e.jsx(n,{value:"active",children:"Aktif"}),e.jsx(n,{value:"closed",children:"Ditutup"})]}),a.status&&e.jsx(o,{children:a.status})]}),e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(C,{sx:{my:2}}),e.jsx(c,{variant:"h6",fontWeight:"bold",gutterBottom:!0,children:"Skills & Kemampuan"}),e.jsxs(t,{sx:{display:"flex",alignItems:"flex-start",mb:2},children:[e.jsx(x,{label:"Tambahkan Skill",value:h,onChange:r=>y(r.target.value),onKeyPress:T,sx:{mr:1,flexGrow:1},placeholder:"Contoh: JavaScript, React, UI/UX, dll"}),e.jsx(d,{variant:"contained",onClick:_,startIcon:e.jsx(F,{}),children:"Tambah"})]}),e.jsxs(t,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:[i.skills.map((r,j)=>e.jsx(J,{label:r,onDelete:()=>S(r),deleteIcon:e.jsx(M,{}),color:"primary",variant:"outlined",sx:{mb:1}},j)),i.skills.length===0&&e.jsx(c,{variant:"body2",color:"text.secondary",children:"Belum ada skill yang ditambahkan"})]}),a.skills&&e.jsx(o,{error:!0,children:a.skills})]}),e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(C,{sx:{my:2}}),e.jsx(c,{variant:"h6",fontWeight:"bold",gutterBottom:!0,children:"Deskripsi Pekerjaan"}),e.jsx(t,{"data-color-mode":"light",children:e.jsx(k,{value:i.description,onChange:r=>s("description",r),height:300,preview:"edit"})}),a.description&&e.jsx(o,{error:!0,sx:{mt:1},children:a.description})]}),e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(c,{variant:"h6",fontWeight:"bold",gutterBottom:!0,children:"Persyaratan"}),e.jsx(t,{"data-color-mode":"light",children:e.jsx(k,{value:i.requirements,onChange:r=>s("requirements",r),height:300,preview:"edit"})}),a.requirements&&e.jsx(o,{error:!0,sx:{mt:1},children:a.requirements})]}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[e.jsxs(t,{sx:{display:"flex",gap:1},children:[e.jsx(d,{variant:"outlined",component:f,href:route("admin.jobs.index"),sx:{mr:1},children:"Kembali"}),e.jsx(d,{variant:"outlined",color:"secondary",component:f,href:route("admin.jobs.show",l.id),children:"Lihat Detail"})]}),e.jsxs(t,{children:[e.jsx(d,{variant:"outlined",sx:{mr:2},onClick:()=>{s("status","draft"),g(route("admin.jobs.update",l.id))},disabled:b,startIcon:e.jsx(G,{}),children:"Simpan sebagai Draft"}),e.jsx(d,{type:"submit",variant:"contained",disabled:b,startIcon:e.jsx(H,{}),children:"Perbarui"})]})]})]})})})]})]})};export{be as default};

import{q as Q,r as D,S as Y,j as e,a as Z,J as L,b}from"./app-DbtvrzCH.js";import{E as B}from"./index-pmeEE7sK.js";import{L as ee}from"./Layout-nP23ILEi.js";import{u as re,B as l,T as n,a as S,P as ae}from"./Button-B_2tu0cn.js";import{C as ie}from"./Container-CHMV_DAY.js";import{I as C}from"./Button-CgCKgwRd.js";import{A as se}from"./ArrowBack-BlJGXhv6.js";import{C as M}from"./Slide-DsAvN5qg.js";import{W as q,M as g}from"./Work-bK6ZZ-Qp.js";import{A as le}from"./Alert-D22fyny9.js";import{S as p}from"./Stack-CsubfPvX.js";import{C as d}from"./Card-DBrS13VS.js";import{C as x}from"./CardContent-BDcyNa-E.js";import{T as h}from"./TextField-BKjSZQPY.js";import{F as f,I as y,a as m}from"./InputLabel-DUQX8vmT.js";import{S as v}from"./Select-DuuFGO1T.js";import{I}from"./InputAdornment-Vh23wNde.js";import{L as ne}from"./LocationOn-BAU5EuQK.js";import{A as O}from"./Sidebar-sw6YawgY.js";import{F as oe}from"./FormControlLabel-DEPIK6dM.js";import{S as te}from"./Switch-DiBnIsap.js";import{S as de}from"./School-CAFs7YU4.js";import{A as xe}from"./Add-DoOXNSNv.js";import{D as ce}from"./DeleteOutline-B2UiZQZ-.js";import{D as pe}from"./Description-Z4oGvRZp.js";import{P as me}from"./Publish-Ba1_owq4.js";import{C as he}from"./Checkbox-D9hSuJOi.js";import{A as ue,a as je}from"./ArrowUpward-C7NCLJ5m.js";import{C as w}from"./CheckCircle-nvk-SVVX.js";import"./Footer-BBk2Lp_N.js";import"./index-BJHsQb-H.js";import"./Close-Dpj-0MLQ.js";import"./moment-C5S46NFB.js";import"./id-DNGKkZzB.js";import"./ChevronRight-Bjx9uoMx.js";import"./Person-C1OGobf6.js";import"./Info-j9m1PK-Q.js";import"./People-KxvvNdCJ.js";import"./Event-JhFTkm8A.js";import"./SwitchBase-BHRWgqGq.js";const sr=({companies:z=[],hiringStages:R=[],categories:F=[]})=>{const{auth:be}=Q().props,u=re(),[j,P]=D.useState(""),[o,k]=D.useState([]),{data:s,setData:t,post:E,processing:W,errors:a}=Y({title:"",company_id:"",description:"",requirements:"",location:"",job_type:"full_time",experience_level:"entry",salary_min:"",salary_max:"",is_active:!0,category_id:"",submission_deadline:"",skills:[],hiring_stages:[]}),J=r=>r.replace(/[^\d]/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,"."),T=(r,i)=>{const c=J(r.target.value);t(i,c)},K=r=>{const i=o.includes(r)?o.filter(c=>c!==r):[...o,r];k(i),t("hiring_stages",i)},G=r=>{if(r>0){const i=[...o];[i[r],i[r-1]]=[i[r-1],i[r]],k(i),t("hiring_stages",i)}},H=r=>{if(r<o.length-1){const i=[...o];[i[r],i[r+1]]=[i[r+1],i[r]],k(i),t("hiring_stages",i)}},U=r=>{r.preventDefault();const i={...s,salary_min:s.salary_min?parseInt(s.salary_min.replace(/[^\d]/g,"")):"",salary_max:s.salary_max?parseInt(s.salary_max.replace(/[^\d]/g,"")):""};E(route("admin.jobs.store"),{data:i})},A=()=>{j.trim()!==""&&!s.skills.includes(j.trim())&&(t("skills",[...s.skills,j.trim()]),P(""))},V=r=>{t("skills",s.skills.filter(i=>i!==r))},$=r=>{r.key==="Enter"&&(r.preventDefault(),A())},X=[{value:"full_time",label:"Full Time"},{value:"part_time",label:"Part Time"},{value:"contract",label:"Kontrak"},{value:"internship",label:"Magang"},{value:"freelance",label:"Freelance"}],N=[{value:"entry",label:"Entry Level (0-2 tahun)"},{value:"mid",label:"Mid Level (2-5 tahun)"},{value:"senior",label:"Senior Level (5+ tahun)"},{value:"executive",label:"Executive (10+ tahun)"}];return e.jsxs(ee,{children:[e.jsx(Z,{title:"Buat Lowongan Pekerjaan Baru"}),e.jsxs(ie,{maxWidth:"xl",sx:{py:4},children:[e.jsxs(l,{sx:{background:"linear-gradient(135deg, rgba(15, 118, 110, 0.08) 0%, rgba(20, 184, 166, 0.15) 100%)",py:4,borderRadius:"1rem",px:3,mb:4,display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.05)",border:"1px solid",borderColor:"divider"},children:[e.jsxs(l,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(C,{component:L,href:route("admin.jobs.index"),sx:{bgcolor:"background.paper",boxShadow:"0 2px 8px rgba(0,0,0,0.08)","&:hover":{bgcolor:"background.paper",opacity:.9}},children:e.jsx(se,{})}),e.jsxs(l,{children:[e.jsx(n,{variant:"h5",component:"h1",fontWeight:"600",gutterBottom:!0,children:"Buat Lowongan Pekerjaan Baru"}),e.jsx(n,{variant:"body2",color:"text.secondary",children:"Isi formulir untuk membuat lowongan pekerjaan baru di sistem"})]})]}),e.jsx(M,{icon:e.jsx(q,{fontSize:"small"}),label:"Admin Panel",color:"primary",sx:{borderRadius:"0.75rem",fontWeight:600}})]}),Object.keys(a).length>0&&e.jsx(le,{severity:"error",sx:{mb:3,borderRadius:"0.75rem",border:`1px solid ${b(u.palette.error.main,.2)}`},children:"Terdapat kesalahan pada formulir. Silakan periksa kembali."}),e.jsxs(l,{sx:{display:"flex",gap:3,flexDirection:{xs:"column",lg:"row"}},children:[e.jsx(l,{sx:{flex:{xs:1,lg:"0 0 66.666667%"}},children:e.jsxs(p,{spacing:3,children:[e.jsx(d,{variant:"outlined",sx:{borderRadius:"1rem",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.03)"},children:e.jsxs(x,{sx:{p:3},children:[e.jsxs(n,{variant:"h6",fontWeight:"600",sx:{mb:3,display:"flex",alignItems:"center",gap:1},children:[e.jsx(q,{color:"primary"})," Informasi Dasar"]}),e.jsxs(p,{spacing:3,children:[e.jsx(h,{label:"Judul Pekerjaan",fullWidth:!0,required:!0,value:s.title,onChange:r=>t("title",r.target.value),error:!!a.title,helperText:a.title,placeholder:"Contoh: Senior Web Developer",sx:{"& .MuiOutlinedInput-root":{borderRadius:"0.75rem"}}}),e.jsxs(l,{sx:{display:"flex",gap:2,flexDirection:{xs:"column",sm:"row"}},children:[e.jsxs(f,{fullWidth:!0,required:!0,error:!!a.company_id,children:[e.jsx(y,{children:"Perusahaan"}),e.jsx(v,{value:s.company_id,onChange:r=>t("company_id",r.target.value),label:"Perusahaan",sx:{borderRadius:"0.75rem"},children:z.map(r=>e.jsx(g,{value:r.id,children:r.name},r.id))}),a.company_id&&e.jsx(m,{children:a.company_id})]}),e.jsxs(f,{fullWidth:!0,error:!!a.category_id,children:[e.jsx(y,{children:"Kategori"}),e.jsx(v,{value:s.category_id,onChange:r=>t("category_id",r.target.value),label:"Kategori",sx:{borderRadius:"0.75rem"},children:F.map(r=>e.jsx(g,{value:r.id,children:r.name},r.id))}),a.category_id&&e.jsx(m,{children:a.category_id})]})]}),e.jsx(h,{label:"Lokasi",fullWidth:!0,required:!0,value:s.location,onChange:r=>t("location",r.target.value),error:!!a.location,helperText:a.location,placeholder:"Contoh: Jakarta, Remote, Hybrid",InputProps:{startAdornment:e.jsx(I,{position:"start",children:e.jsx(ne,{color:"action"})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:"0.75rem"}}})]})]})}),e.jsx(d,{variant:"outlined",sx:{borderRadius:"1rem",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.03)"},children:e.jsxs(x,{sx:{p:3},children:[e.jsxs(n,{variant:"h6",fontWeight:"600",sx:{mb:3,display:"flex",alignItems:"center",gap:1},children:[e.jsx(O,{color:"primary"})," Detail Pekerjaan"]}),e.jsxs(l,{sx:{display:"flex",gap:3,flexWrap:"wrap"},children:[e.jsx(l,{sx:{flex:{xs:"1",sm:"0 0 calc(50% - 12px)"}},children:e.jsxs(f,{fullWidth:!0,required:!0,error:!!a.job_type,children:[e.jsx(y,{children:"Tipe Pekerjaan"}),e.jsx(v,{value:s.job_type,onChange:r=>t("job_type",r.target.value),label:"Tipe Pekerjaan",sx:{borderRadius:"0.75rem"},children:X.map(r=>e.jsx(g,{value:r.value,children:r.label},r.value))}),a.job_type&&e.jsx(m,{children:a.job_type})]})}),e.jsx(l,{sx:{flex:{xs:"1",sm:"0 0 calc(50% - 12px)"}},children:e.jsxs(f,{fullWidth:!0,required:!0,error:!!a.experience_level,children:[e.jsx(y,{children:"Level Pengalaman"}),e.jsx(v,{value:s.experience_level,onChange:r=>t("experience_level",r.target.value),label:"Level Pengalaman",sx:{borderRadius:"0.75rem"},children:N.map(r=>e.jsx(g,{value:r.value,children:r.label},r.value))}),a.experience_level&&e.jsx(m,{children:a.experience_level})]})}),e.jsxs(l,{sx:{width:"100%",mt:3},children:[e.jsx(n,{variant:"subtitle1",fontWeight:"600",sx:{mb:2},children:"Rentang Gaji"}),e.jsxs(l,{sx:{display:"flex",gap:2,flexDirection:{xs:"column",sm:"row"}},children:[e.jsx(h,{label:"Gaji Minimum",fullWidth:!0,value:s.salary_min,onChange:r=>T(r,"salary_min"),error:!!a.salary_min,helperText:a.salary_min,InputProps:{startAdornment:e.jsx(I,{position:"start",children:"Rp"})},sx:{"& .MuiOutlinedInput-root":{borderRadius:"0.75rem"}}}),e.jsx(h,{label:"Gaji Maksimum",fullWidth:!0,value:s.salary_max,onChange:r=>T(r,"salary_max"),error:!!a.salary_max,helperText:a.salary_max,InputProps:{startAdornment:e.jsx(I,{position:"start",children:"Rp"})},sx:{"& .MuiOutlinedInput-root":{borderRadius:"0.75rem"}}})]})]}),e.jsx(l,{sx:{width:"100%",mt:3},children:e.jsx(h,{label:"Batas Waktu Pendaftaran",fullWidth:!0,type:"date",value:s.submission_deadline,onChange:r=>t("submission_deadline",r.target.value),error:!!a.submission_deadline,helperText:a.submission_deadline,InputLabelProps:{shrink:!0},sx:{"& .MuiOutlinedInput-root":{borderRadius:"0.75rem"}}})}),e.jsx(l,{sx:{width:"100%",mt:3},children:e.jsx(oe,{control:e.jsx(te,{checked:s.is_active,onChange:r=>t("is_active",r.target.checked),color:"primary"}),label:"Aktifkan lowongan secara otomatis"})})]})]})}),e.jsx(d,{variant:"outlined",sx:{borderRadius:"1rem",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.03)"},children:e.jsxs(x,{sx:{p:3},children:[e.jsxs(n,{variant:"h6",fontWeight:"600",sx:{mb:3,display:"flex",alignItems:"center",gap:1},children:[e.jsx(de,{color:"primary"})," Skills & Kemampuan"]}),e.jsxs(p,{spacing:3,children:[e.jsxs(l,{sx:{display:"flex",gap:2},children:[e.jsx(h,{label:"Tambahkan Skill",value:j,onChange:r=>P(r.target.value),onKeyPress:$,sx:{flexGrow:1},placeholder:"Contoh: JavaScript, React, UI/UX"}),e.jsx(S,{variant:"contained",onClick:A,startIcon:e.jsx(xe,{}),sx:{borderRadius:"0.75rem"},children:"Tambah"})]}),e.jsx(l,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:s.skills.length>0?s.skills.map((r,i)=>e.jsx(M,{label:r,onDelete:()=>V(r),deleteIcon:e.jsx(ce,{}),color:"primary",variant:"outlined",sx:{borderRadius:"0.75rem"}},i)):e.jsx(n,{variant:"body2",color:"text.secondary",sx:{ml:1},children:"Belum ada skill yang ditambahkan"})}),a.skills&&e.jsx(m,{error:!0,children:a.skills})]})]})}),e.jsx(d,{variant:"outlined",sx:{borderRadius:"1rem",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.03)"},children:e.jsxs(x,{sx:{p:3},children:[e.jsxs(n,{variant:"h6",fontWeight:"600",sx:{mb:3,display:"flex",alignItems:"center",gap:1},children:[e.jsx(pe,{color:"primary"})," Deskripsi Pekerjaan"]}),e.jsx(l,{"data-color-mode":"light",sx:{border:"1px solid",borderColor:"divider",borderRadius:"0.75rem",overflow:"hidden"},children:e.jsx(B,{value:s.description,onChange:r=>t("description",r),height:300,preview:"edit"})}),a.description&&e.jsx(m,{error:!0,sx:{mt:1},children:a.description})]})}),e.jsx(d,{variant:"outlined",sx:{borderRadius:"1rem",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.03)"},children:e.jsxs(x,{sx:{p:3},children:[e.jsxs(n,{variant:"h6",fontWeight:"600",sx:{mb:3,display:"flex",alignItems:"center",gap:1},children:[e.jsx(O,{color:"primary"})," Persyaratan"]}),e.jsx(l,{"data-color-mode":"light",sx:{border:"1px solid",borderColor:"divider",borderRadius:"0.75rem",overflow:"hidden"},children:e.jsx(B,{value:s.requirements,onChange:r=>t("requirements",r),height:300,preview:"edit"})}),a.requirements&&e.jsx(m,{error:!0,sx:{mt:1},children:a.requirements})]})})]})}),e.jsx(l,{sx:{flex:{xs:1,lg:"0 0 33.333333%"}},children:e.jsxs(p,{spacing:3,sx:{position:"sticky",top:100},children:[e.jsx(d,{variant:"outlined",sx:{borderRadius:"1rem",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.03)"},children:e.jsxs(x,{sx:{p:3},children:[e.jsx(n,{variant:"h6",fontWeight:"600",sx:{mb:3},children:"Tindakan"}),e.jsxs(p,{spacing:2,children:[e.jsx(S,{fullWidth:!0,variant:"contained",color:"primary",onClick:U,disabled:W,startIcon:e.jsx(me,{}),sx:{borderRadius:"0.75rem",py:1.2},children:W?"Menyimpan...":s.is_active?"Publikasikan":"Simpan"}),e.jsx(S,{fullWidth:!0,variant:"outlined",component:L,href:route("admin.jobs.index"),sx:{borderRadius:"0.75rem",py:1.2},children:"Batal"})]})]})}),e.jsx(d,{variant:"outlined",sx:{borderRadius:"1rem",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.03)"},children:e.jsxs(x,{sx:{p:3},children:[e.jsx(n,{variant:"h6",fontWeight:"600",sx:{mb:3},children:"Tahapan Perekrutan"}),R.length>0?e.jsx(p,{spacing:1,children:R.map((r,i)=>e.jsxs(ae,{variant:"outlined",sx:{p:1.5,borderRadius:"0.75rem",display:"flex",alignItems:"center",gap:1,cursor:"pointer",bgcolor:o.includes(r.id)?b(u.palette.primary.main,.1):"transparent",border:o.includes(r.id)?`1px solid ${u.palette.primary.main}`:"1px solid",borderColor:o.includes(r.id)?"primary.main":"divider",transition:"all 0.2s","&:hover":{bgcolor:b(u.palette.primary.main,.05)}},onClick:()=>K(r.id),children:[e.jsx(he,{checked:o.includes(r.id),color:"primary",size:"small",sx:{p:.5}}),e.jsx(n,{variant:"body2",sx:{flex:1},children:r.name}),o.includes(r.id)&&e.jsxs(l,{children:[e.jsx(C,{size:"small",onClick:c=>{c.stopPropagation();const _=o.indexOf(r.id);G(_)},disabled:o.indexOf(r.id)===0,children:e.jsx(ue,{fontSize:"small"})}),e.jsx(C,{size:"small",onClick:c=>{c.stopPropagation();const _=o.indexOf(r.id);H(_)},disabled:o.indexOf(r.id)===o.length-1,children:e.jsx(je,{fontSize:"small"})})]})]},r.id))}):e.jsx(n,{variant:"body2",color:"text.secondary",children:"Belum ada tahapan perekrutan"})]})}),e.jsx(d,{variant:"outlined",sx:{borderRadius:"1rem",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.03)",bgcolor:b(u.palette.primary.main,.02)},children:e.jsxs(x,{sx:{p:3},children:[e.jsx(n,{variant:"h6",fontWeight:"600",sx:{mb:2},children:"Tips"}),e.jsxs(p,{spacing:1.5,children:[e.jsxs(l,{sx:{display:"flex",gap:1},children:[e.jsx(w,{color:"primary",fontSize:"small",sx:{mt:.5}}),e.jsx(n,{variant:"body2",color:"text.secondary",children:"Gunakan deskripsi yang jelas dan menarik"})]}),e.jsxs(l,{sx:{display:"flex",gap:1},children:[e.jsx(w,{color:"primary",fontSize:"small",sx:{mt:.5}}),e.jsx(n,{variant:"body2",color:"text.secondary",children:"Tambahkan skill yang spesifik dan relevan"})]}),e.jsxs(l,{sx:{display:"flex",gap:1},children:[e.jsx(w,{color:"primary",fontSize:"small",sx:{mt:.5}}),e.jsx(n,{variant:"body2",color:"text.secondary",children:"Tentukan deadline yang realistis"})]})]})]})})]})})]})]})]})};export{sr as default};

import{j as e,r as x,S as U,a as L,b as i}from"./app-DbtvrzCH.js";import{L as H}from"./Layout-nP23ILEi.js";import{c as G,u as N,B as r,T as o,a as v,P as S,C as Y}from"./Button-B_2tu0cn.js";import{u as q}from"./index-BJHsQb-H.js";import{C as J}from"./Container-CHMV_DAY.js";import{A as h}from"./Alert-D22fyny9.js";import{C as z}from"./Check-DS_0GrJd.js";import{E as X}from"./Error-D1IMUwky.js";import{A as K}from"./ArrowBack-BlJGXhv6.js";import{L as Q}from"./LinearProgress-Cp3Ye6up.js";import{B as $}from"./Badge-DGpL2cWn.js";import{D as R,I as Z}from"./Button-CgCKgwRd.js";import{T as _}from"./TextField-BKjSZQPY.js";import{a as F}from"./InputLabel-DUQX8vmT.js";import{A as V}from"./Slide-DsAvN5qg.js";import{T as ee}from"./Work-bK6ZZ-Qp.js";import{D as re}from"./Delete-DKhiqqSP.js";import{U as oe}from"./Upload-B7qw_qx9.js";import{F as ae}from"./FormControlLabel-DEPIK6dM.js";import{C as te}from"./Checkbox-D9hSuJOi.js";import{I as ne}from"./Info-j9m1PK-Q.js";import{C as se}from"./Card-DBrS13VS.js";import{C as ie}from"./CardContent-BDcyNa-E.js";import{S as le}from"./Save-D3JGzUEu.js";import{D as de}from"./Description-Z4oGvRZp.js";import{A as ce}from"./Article-duC-trlL.js";import{P as xe}from"./PictureAsPdf-D2_5a5_Z.js";import"./Sidebar-sw6YawgY.js";import"./moment-C5S46NFB.js";import"./id-DNGKkZzB.js";import"./CheckCircle-nvk-SVVX.js";import"./ChevronRight-Bjx9uoMx.js";import"./Person-C1OGobf6.js";import"./People-KxvvNdCJ.js";import"./Event-JhFTkm8A.js";import"./Footer-BBk2Lp_N.js";import"./Close-Dpj-0MLQ.js";import"./Select-DuuFGO1T.js";import"./SwitchBase-BHRWgqGq.js";const me=G(e.jsx("path",{d:"M3 10h11v2H3zm0-2h11V6H3zm0 8h7v-2H3zm15.01-3.13.71-.71c.39-.39 1.02-.39 1.41 0l.71.71c.39.39.39 1.02 0 1.41l-.71.71zm-.71.71-5.3 5.3V21h2.12l5.3-5.3z"})),Ze=({auth:P,resumeVersion:n,flash:m})=>{const[k,y]=x.useState(!!n.file_path),[b,I]=x.useState(n.file_path?n.file_path.split("/").pop():""),[C,u]=x.useState(0),[D,f]=x.useState(!1),[w,p]=x.useState(null),A=N(),d=q(A.breakpoints.down("sm")),{data:g,setData:c,put:E,processing:j,errors:l}=U({version_name:n.version_name,content:n.content,resume_file:null,set_as_current:n.is_current,_method:"PUT"}),B=t=>{t.preventDefault(),f(!0),u(0);const a=setInterval(()=>{u(s=>s>=95?(clearInterval(a),s):s+5)},500);E(route("candidate.resume-enhancer.update",n.id),{forceFormData:!0,onSuccess:()=>{clearInterval(a),u(100),setTimeout(()=>f(!1),1e3)},onError:s=>{clearInterval(a),u(100),setTimeout(()=>f(!1),1e3)},onFinish:()=>{clearInterval(a)}})},T=t=>{const a=t.target.files[0];if(p(null),a){if(a.size>2*1024*1024){p("Ukuran file terlalu besar. Maksimal 2MB.");return}const s=a.name.split(".").pop().toLowerCase();if(!["pdf","doc","docx"].includes(s)){p("Format file tidak didukung. Gunakan PDF, DOC, atau DOCX.");return}y(!0),I(a.name),c("resume_file",a)}},M=t=>{if(!t)return"";const a=t.split("/").pop();if(!a)return"";if(a.endsWith(".docx"))return"docx";if(a.endsWith(".doc"))return"doc";const s=a.split(".");return s.length>1?s.pop().toLowerCase():""},W=t=>{switch(M(t)){case"pdf":return e.jsx(xe,{fontSize:"inherit",color:"error"});case"doc":case"docx":return e.jsx(ce,{fontSize:"inherit",color:"info"});default:return e.jsx(de,{fontSize:"inherit",color:"action"})}},O=()=>{y(!1),I(""),c("resume_file",null),p(null)};return e.jsxs(H,{user:P.user,children:[e.jsx(L,{title:`Edit Resume: ${n.version_name}`}),e.jsxs(J,{maxWidth:"lg",sx:{py:4},children:[m.success&&e.jsx(h,{severity:"success",icon:e.jsx(z,{sx:{color:"#14b8a6"}}),sx:{mb:3,borderRadius:"0.75rem",boxShadow:1,bgcolor:i("#14b8a6",.1),"& .MuiAlert-message":{color:"text.primary"}},children:m.success}),m.error&&e.jsx(h,{severity:"error",icon:e.jsx(X,{}),sx:{mb:3,borderRadius:"0.75rem",boxShadow:1},children:m.error}),e.jsxs(r,{sx:{display:"flex",flexDirection:d?"column":"row",justifyContent:"space-between",alignItems:d?"flex-start":"center",mb:4,gap:2,p:3,borderRadius:"0.75rem",background:"linear-gradient(145deg, #f0fdfa 0%, #ffffff 100%)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.05)"},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[e.jsx(me,{sx:{color:"#14b8a6",fontSize:36}}),e.jsx(o,{variant:"h4",component:"h1",fontWeight:"bold",sx:{background:"linear-gradient(90deg, #14b8a6 0%, #0d9488 100%)",backgroundClip:"text",textFillColor:"transparent",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Edit Resume"})]}),e.jsx(v,{component:"a",href:route("candidate.resume-enhancer.show",n.id),startIcon:e.jsx(K,{}),variant:"outlined",sx:{borderRadius:"0.75rem",borderColor:"#14b8a6",color:"#14b8a6","&:hover":{borderColor:"#0d9488",backgroundColor:i("#14b8a6",.04)},transition:"all 0.2s ease-in-out"},children:"Kembali"})]}),D&&e.jsxs(r,{sx:{width:"100%",mb:2},children:[e.jsx(o,{variant:"body2",sx:{color:"#14b8a6"},gutterBottom:!0,children:C<100?"Mengunggah...":"Selesai!"}),e.jsx(Q,{variant:"determinate",value:C,sx:{height:8,borderRadius:"0.75rem",bgcolor:i("#14b8a6",.1),"& .MuiLinearProgress-bar":{borderRadius:"0.75rem",bgcolor:"#14b8a6"}}})]}),e.jsx("form",{onSubmit:B,children:e.jsxs(r,{sx:{display:"flex",flexDirection:d?"column":"row",gap:3},children:[e.jsx(r,{sx:{width:d?"100%":"66%",display:"flex",flexDirection:"column",gap:3},children:e.jsxs(S,{sx:{p:0,borderRadius:"0.75rem",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.08)",overflow:"hidden",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out","&:hover":{boxShadow:"0 6px 24px rgba(0, 0, 0, 0.12)",transform:"translateY(-2px)"}},children:[e.jsx(r,{sx:{height:"8px",width:"100%",background:"linear-gradient(90deg, #14b8a6 0%, #0f766e 100%)"}}),e.jsxs(r,{sx:{p:3},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:2},children:[e.jsx($,{sx:{color:"#14b8a6"}}),e.jsx(o,{variant:"h5",component:"h2",fontWeight:"medium",color:"#14b8a6",children:"Detail Resume"})]}),e.jsx(R,{sx:{mb:3}}),e.jsxs(r,{sx:{display:"flex",flexDirection:"column",gap:3},children:[e.jsx(r,{children:e.jsx(_,{label:"Nama Versi",placeholder:"Misalnya: Resume Teknik Informatika 2025",fullWidth:!0,required:!0,value:g.version_name,onChange:t=>c("version_name",t.target.value),error:!!l.version_name,helperText:l.version_name,InputProps:{sx:{borderRadius:"0.75rem",transition:"all 0.2s","&:hover":{borderColor:"#14b8a6"},"&.Mui-focused":{borderColor:"#14b8a6"}}},sx:{"& .MuiOutlinedInput-root":{borderRadius:"0.75rem"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#14b8a6"},"& .MuiInputLabel-root.Mui-focused":{color:"#14b8a6"}}})}),e.jsxs(r,{children:[e.jsx(_,{label:"Isi Resume",placeholder:"Paste isi resume Anda di sini...",multiline:!0,rows:15,fullWidth:!0,required:!0,value:g.content,onChange:t=>c("content",t.target.value),error:!!l.content,helperText:l.content,InputProps:{sx:{borderRadius:"0.75rem"}},sx:{"& .MuiOutlinedInput-root":{borderRadius:"0.75rem"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#14b8a6"},"& .MuiInputLabel-root.Mui-focused":{color:"#14b8a6"}}}),e.jsx(F,{sx:{mt:1,color:"text.secondary",fontStyle:"italic"},children:"Untuk hasil analisis yang lebih baik, tempelkan konten lengkap resume Anda."})]}),e.jsxs(r,{children:[e.jsx(o,{variant:"subtitle1",gutterBottom:!0,fontWeight:"medium",color:"#14b8a6",children:"File Resume"}),k?e.jsxs(r,{sx:{display:"flex",alignItems:"center",p:2,borderRadius:"0.75rem",bgcolor:i("#14b8a6",.05),border:"1px solid",borderColor:i("#14b8a6",.2),mb:2,transition:"all 0.2s","&:hover":{bgcolor:i("#14b8a6",.08)}},children:[e.jsx(V,{sx:{bgcolor:"transparent",mr:2},children:W(b)}),e.jsxs(r,{sx:{flexGrow:1},children:[e.jsx(o,{variant:"body2",fontWeight:"medium",sx:{wordBreak:"break-all"},children:b}),e.jsx(o,{variant:"caption",color:"text.secondary",children:M(b).toUpperCase()})]}),e.jsx(ee,{title:"Hapus File",children:e.jsx(Z,{onClick:O,color:"error",size:"small",sx:{transition:"transform 0.2s","&:hover":{transform:"scale(1.1)"}},children:e.jsx(re,{})})})]}):null,e.jsx(r,{sx:{display:"flex",alignItems:"center",gap:2},children:e.jsxs(v,{component:"label",variant:"outlined",startIcon:e.jsx(oe,{}),sx:{borderRadius:"0.75rem",borderColor:"#14b8a6",color:"#14b8a6",transition:"all 0.2s","&:hover":{borderColor:"#0f766e",bgcolor:i("#14b8a6",.04)}},children:[k?"Ganti File Resume":"Unggah Resume (Opsional)",e.jsx("input",{type:"file",hidden:!0,accept:".pdf,.doc,.docx",onChange:T})]})}),(w||l.resume_file)&&e.jsx(h,{severity:"error",sx:{mt:2,borderRadius:"0.75rem","& .MuiAlert-icon":{color:"#ef4444"}},children:w||l.resume_file}),e.jsx(F,{sx:{mt:1,color:"text.secondary",fontStyle:"italic"},children:"Format yang didukung: PDF, DOC, DOCX (Maksimal 2MB)"})]}),e.jsx(r,{children:e.jsx(ae,{control:e.jsx(te,{checked:g.set_as_current,onChange:t=>c("set_as_current",t.target.checked),sx:{color:i("#14b8a6",.7),"&.Mui-checked":{color:"#14b8a6"}}}),label:e.jsx(o,{variant:"body1",fontWeight:"medium",children:"Jadikan sebagai resume aktif di profil saya"})})})]})]})]})}),e.jsxs(r,{sx:{width:d?"100%":"34%",display:"flex",flexDirection:"column",gap:3},children:[e.jsxs(S,{sx:{p:0,borderRadius:"0.75rem",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.08)",overflow:"hidden",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out","&:hover":{boxShadow:"0 6px 24px rgba(0, 0, 0, 0.12)",transform:"translateY(-2px)"}},children:[e.jsx(r,{sx:{height:"8px",width:"100%",background:"linear-gradient(90deg, #14b8a6 0%, #0f766e 100%)"}}),e.jsxs(r,{sx:{p:3},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:2},children:[e.jsx(ne,{sx:{color:"#14b8a6"}}),e.jsx(o,{variant:"h5",component:"h2",fontWeight:"medium",color:"#14b8a6",children:"Tips Resume"})]}),e.jsx(R,{sx:{mb:2}}),e.jsx(o,{variant:"body1",paragraph:!0,children:"Resume yang baik meningkatkan peluang Anda untuk mendapatkan pekerjaan. Berikut beberapa tips:"}),e.jsxs(r,{component:"ul",sx:{pl:2},children:[e.jsx(r,{component:"li",sx:{mb:1},children:e.jsx(o,{variant:"body2",children:"Gunakan bullet points untuk daftar pengalaman dan pencapaian"})}),e.jsx(r,{component:"li",sx:{mb:1},children:e.jsx(o,{variant:"body2",children:"Sertakan kata kunci yang relevan dengan industri yang dituju"})}),e.jsx(r,{component:"li",sx:{mb:1},children:e.jsx(o,{variant:"body2",children:"Buat resume yang singkat dan fokus pada informasi penting"})}),e.jsx(r,{component:"li",sx:{mb:1},children:e.jsx(o,{variant:"body2",children:"Jelaskan pencapaian dengan data dan angka yang spesifik"})}),e.jsx(r,{component:"li",sx:{mb:1},children:e.jsx(o,{variant:"body2",children:"Sesuaikan resume untuk posisi yang dilamar"})})]}),e.jsx(h,{severity:"info",sx:{mt:2,borderRadius:"0.75rem",bgcolor:i("#14b8a6",.1),"& .MuiAlert-icon":{color:"#14b8a6"},"& .MuiAlert-message":{color:"text.primary"}},children:e.jsx(o,{variant:"body2",children:"Setelah menyimpan, gunakan fitur AI Enhancer untuk mendapatkan saran peningkatan kualitas resume!"})})]})]}),e.jsx(se,{sx:{p:0,borderRadius:"0.75rem",overflow:"hidden",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.08)",position:"relative","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(145deg, rgba(20, 184, 166, 0.08) 0%, rgba(15, 118, 110, 0.12) 100%)",zIndex:0},"&::after":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:`url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-.895-2-2-2-2 .895-2 2 .895 2 2 2zm63 31c1.657 0 3-1.343 3-3s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM34 90c1.657 0 3-1.343 3-3s-.895-2-2-2-2 .895-2 2 .895 2 2 2zm56-76c1.657 0 3-1.343 3-3s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%2314b8a6' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"cover",opacity:.5,zIndex:0},transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out","&:hover":{boxShadow:"0 6px 24px rgba(0, 0, 0, 0.12)",transform:"translateY(-2px)"}},children:e.jsxs(ie,{sx:{position:"relative",zIndex:1},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",mb:1.5,gap:1.5},children:[e.jsx(z,{sx:{color:"#14b8a6"}}),e.jsx(o,{variant:"h6",fontWeight:"medium",color:"#14b8a6",children:"Periksa Sebelum Menyimpan"})]}),e.jsx(o,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Pastikan Anda sudah:"}),e.jsxs(r,{component:"ul",sx:{pl:2,mb:0},children:[e.jsx(r,{component:"li",sx:{mb:.5},children:e.jsx(o,{variant:"body2",color:"text.secondary",children:"Mengisi nama versi resume"})}),e.jsx(r,{component:"li",sx:{mb:.5},children:e.jsx(o,{variant:"body2",color:"text.secondary",children:"Mengisi konten resume lengkap"})}),e.jsx(r,{component:"li",children:e.jsx(o,{variant:"body2",color:"text.secondary",children:"Unggah file jika diinginkan"})})]})]})}),e.jsx(r,{sx:{textAlign:"center"},children:e.jsx(v,{type:"submit",variant:"contained",size:"large",startIcon:j?e.jsx(Y,{size:20,color:"inherit"}):e.jsx(le,{}),disabled:j,fullWidth:!0,sx:{borderRadius:"0.75rem",py:1.5,bgcolor:"#14b8a6",boxShadow:"0 4px 14px rgba(20, 184, 166, 0.3)",transition:"all 0.2s","&:hover":{bgcolor:"#0f766e",boxShadow:"0 6px 20px rgba(20, 184, 166, 0.4)",transform:"translateY(-2px)"}},children:j?"Menyimpan...":"Simpan Perubahan"})})]})]})})]})]})};export{Ze as default};

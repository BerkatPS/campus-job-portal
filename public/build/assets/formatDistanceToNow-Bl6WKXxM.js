import{c as y}from"./constructNow-z21Lzbrf.js";import{n as S,g as O,e as T,f as X}from"./en-US-DjmIwZ1X.js";import{t as h,b as I,d as D}from"./toDate-DQ4lCuA9.js";import{e as b}from"./endOfDay-CxCfia3b.js";import{e as _}from"./endOfMonth-CEPzkpce.js";function M(a,n){const e=+h(a)-+h(n);return e<0?-1:e>0?1:e}function w(a,n,e){const[f,t]=S(e==null?void 0:e.in,a,n),u=f.getFullYear()-t.getFullYear(),c=f.getMonth()-t.getMonth();return u*12+c}function Y(a){return n=>{const f=(a?Math[a]:Math.trunc)(n);return f===0?0:f}}function N(a,n){return+h(a)-+h(n)}function v(a,n){const e=h(a,n==null?void 0:n.in);return+b(e,n)==+_(e,n)}function z(a,n,e){const[f,t,u]=S(e==null?void 0:e.in,a,a,n),c=M(t,u),r=Math.abs(w(t,u));if(r<1)return 0;t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-c*r);let o=M(t,u)===-c;v(f)&&r===1&&M(f,u)===1&&(o=!1);const l=c*(r-+o);return l===0?0:l}function A(a,n,e){const f=N(a,n)/1e3;return Y(e==null?void 0:e.roundingMethod)(f)}function F(a,n,e){const f=O(),t=(e==null?void 0:e.locale)??f.locale??T,u=2520,c=M(a,n);if(isNaN(c))throw new RangeError("Invalid time value");const r=Object.assign({},e,{addSuffix:e==null?void 0:e.addSuffix,comparison:c}),[o,l]=S(e==null?void 0:e.in,...c>0?[n,a]:[a,n]),m=A(l,o),x=(X(l)-X(o))/1e3,s=Math.round((m-x)/60);let d;if(s<2)return e!=null&&e.includeSeconds?m<5?t.formatDistance("lessThanXSeconds",5,r):m<10?t.formatDistance("lessThanXSeconds",10,r):m<20?t.formatDistance("lessThanXSeconds",20,r):m<40?t.formatDistance("halfAMinute",0,r):m<60?t.formatDistance("lessThanXMinutes",1,r):t.formatDistance("xMinutes",1,r):s===0?t.formatDistance("lessThanXMinutes",1,r):t.formatDistance("xMinutes",s,r);if(s<45)return t.formatDistance("xMinutes",s,r);if(s<90)return t.formatDistance("aboutXHours",1,r);if(s<I){const i=Math.round(s/60);return t.formatDistance("aboutXHours",i,r)}else{if(s<u)return t.formatDistance("xDays",1,r);if(s<D){const i=Math.round(s/I);return t.formatDistance("xDays",i,r)}else if(s<D*2)return d=Math.round(s/D),t.formatDistance("aboutXMonths",d,r)}if(d=z(l,o),d<12){const i=Math.round(s/D);return t.formatDistance("xMonths",i,r)}else{const i=d%12,g=Math.trunc(d/12);return i<3?t.formatDistance("aboutXYears",g,r):i<9?t.formatDistance("overXYears",g,r):t.formatDistance("almostXYears",g+1,r)}}function C(a,n){return F(a,y(a),n)}export{C as f};

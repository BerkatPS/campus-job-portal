import{q as T,r as x,j as e,J as j,f as B}from"./app-BUVb_nAj.js";import{C as E}from"./Card-vSg9PuMO.js";import{B as d,D as y,L as R}from"./Button-DzGhUBn7.js";import{M as U}from"./Modal-B2mKmmvX.js";import{A as $}from"./Alert-W_CUoSxB.js";import{T as N}from"./Tabs-CYePqLeI.js";import{T as w}from"./Table-DMYZ1T9r.js";import{L as V}from"./Layout-DnkF-NCm.js";import{B as r,P as f,T as i}from"./Button-DFxjcZ8p.js";import{S as J}from"./Stack-DUsTNRwi.js";import{C as l,A as I}from"./Slide-DYtCGdXj.js";import{C as D}from"./CheckCircle-Dd-oaFV0.js";import{A as G}from"./ArrowBack-Cgi6G0-j.js";import{E as O}from"./Edit-D-W3BsdZ.js";import{D as F}from"./Delete-DjrVMKuP.js";import{P as H}from"./Person-5k5xBlAT.js";import{L as m,a as p,b as h,W as z,B as q}from"./Work-CLEsMByH.js";import{B as S}from"./Badge-CTB2DnIA.js";import{C as g}from"./CalendarToday-CUHpeiFE.js";import{P as K}from"./Phone-_DVlyzHf.js";import{L as Q}from"./LocationOn-CpujyWrU.js";import{S as X}from"./School-CsrAMFuf.js";import{L as Y,T as Z}from"./Twitter-D1GrjSof.js";import{G as ee}from"./GitHub-1sbbnK5H.js";import{L as te}from"./Language-E5C48qP4.js";import{D as re}from"./Description-bLLwqFxn.js";import"./Card-D_rkxkaC.js";import"./MoreVert-PY4ZbxeC.js";import"./CardHeader-D023TrKm.js";import"./CardContent-DTmJK9ga.js";import"./DialogContent-D4sYn80t.js";import"./DialogTitle-DUJu7qVS.js";import"./Close-B7UDIhaS.js";import"./DialogContentText-B8PLj8LQ.js";import"./Alert-j9c9aQEr.js";import"./Close-CafbgWA1.js";import"./AlertTitle-CPDkbCwY.js";import"./AccessTime-DXhpyso9.js";import"./ArrowForward-Tz2ikYxH.js";import"./Error-CSPDIC8t.js";import"./Warning-BLg7sOqp.js";import"./Info-CdM9Lqya.js";import"./LinearProgress-3EBWbMR1.js";import"./Tabs-CQDMEBQN.js";import"./KeyboardArrowRight-By3nsvSL.js";import"./TableRow-BgPH6iWY.js";import"./Checkbox-DZaxlRGh.js";import"./SwitchBase-BRw57M3-.js";import"./TablePagination-C03w4OZ2.js";import"./LastPage-B2IJYsVY.js";import"./Select-Bh9V9k3o.js";import"./Sidebar-DGzgELZX.js";import"./moment-C5S46NFB.js";import"./id-DNGKkZzB.js";import"./index-Dtg-WGcE.js";import"./Container-DEvTfuj0.js";import"./ChevronRight-FNylUib_.js";import"./People-6TwBzk5z.js";import"./Event-DRCIx1GO.js";import"./Footer-DSErbOqA.js";const se=({user:a,profile:t})=>{var n,s;return e.jsxs(r,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:3},children:[e.jsx(r,{sx:{flex:{xs:"1 1 100%",md:"1 1 33%"}},children:e.jsxs(f,{sx:{p:3,borderRadius:2},children:[e.jsxs(r,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:3},children:[e.jsx(I,{src:a.avatar,alt:a.name,sx:{width:120,height:120,mb:2},children:(n=a.name)==null?void 0:n.charAt(0).toUpperCase()}),e.jsx(i,{variant:"h5",fontWeight:600,align:"center",children:a.name}),e.jsx(i,{variant:"body1",color:"text.secondary",align:"center",children:a.email}),e.jsxs(r,{sx:{display:"flex",gap:1,mt:1},children:[e.jsx(l,{label:((s=a.role)==null?void 0:s.name)||"No Role",color:"primary",size:"small"}),e.jsx(l,{label:a.is_active?"Active":"Inactive",color:a.is_active?"success":"default",size:"small"})]})]}),e.jsx(y,{sx:{my:2}}),e.jsxs(R,{disablePadding:!0,children:[a.nim&&e.jsxs(m,{disablePadding:!0,sx:{py:1},children:[e.jsx(p,{sx:{minWidth:40},children:e.jsx(S,{fontSize:"small",color:"action"})}),e.jsx(h,{primary:"NIM/Student ID",secondary:a.nim})]}),a.email_verified_at&&e.jsxs(m,{disablePadding:!0,sx:{py:1},children:[e.jsx(p,{sx:{minWidth:40},children:e.jsx(D,{fontSize:"small",color:"success"})}),e.jsx(h,{primary:"Email Verified",secondary:new Date(a.email_verified_at).toLocaleDateString()})]}),e.jsxs(m,{disablePadding:!0,sx:{py:1},children:[e.jsx(p,{sx:{minWidth:40},children:e.jsx(g,{fontSize:"small",color:"action"})}),e.jsx(h,{primary:"Joined",secondary:new Date(a.created_at).toLocaleDateString()})]}),a.updated_at&&e.jsxs(m,{disablePadding:!0,sx:{py:1},children:[e.jsx(p,{sx:{minWidth:40},children:e.jsx(g,{fontSize:"small",color:"action"})}),e.jsx(h,{primary:"Last Updated",secondary:new Date(a.updated_at).toLocaleDateString()})]})]})]})}),e.jsx(r,{sx:{flex:{xs:"1 1 100%",md:"1 1 67%"}},children:t&&e.jsxs(f,{sx:{p:3,borderRadius:2,mb:3},children:[e.jsx(i,{variant:"h6",gutterBottom:!0,fontWeight:600,children:"Candidate Profile"}),e.jsxs(r,{sx:{display:"flex",flexWrap:"wrap",gap:2},children:[t.date_of_birth&&e.jsx(r,{sx:{flex:{xs:"1 1 100%",sm:"1 1 calc(50% - 16px)"}},children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsx(g,{fontSize:"small",color:"action"}),e.jsxs(r,{children:[e.jsx(i,{variant:"body2",color:"text.secondary",children:"Date of Birth"}),e.jsx(i,{variant:"body1",children:new Date(t.date_of_birth).toLocaleDateString()})]})]})}),t.phone&&e.jsx(r,{sx:{flex:{xs:"1 1 100%",sm:"1 1 calc(50% - 16px)"}},children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsx(K,{fontSize:"small",color:"action"}),e.jsxs(r,{children:[e.jsx(i,{variant:"body2",color:"text.secondary",children:"Phone"}),e.jsx(i,{variant:"body1",children:t.phone})]})]})}),t.address&&e.jsx(r,{sx:{flex:"1 1 100%"},children:e.jsxs(r,{sx:{display:"flex",alignItems:"flex-start",gap:1,mb:2},children:[e.jsx(Q,{fontSize:"small",color:"action",sx:{mt:.5}}),e.jsxs(r,{children:[e.jsx(i,{variant:"body2",color:"text.secondary",children:"Address"}),e.jsx(i,{variant:"body1",children:t.address})]})]})})]}),e.jsx(y,{sx:{my:2}}),e.jsxs(r,{sx:{display:"flex",flexDirection:"column",gap:2},children:[t.education&&e.jsx(r,{children:e.jsxs(r,{sx:{display:"flex",alignItems:"flex-start",gap:1,mb:2},children:[e.jsx(X,{fontSize:"small",color:"action",sx:{mt:.5}}),e.jsxs(r,{children:[e.jsx(i,{variant:"body2",color:"text.secondary",children:"Education"}),e.jsx(i,{variant:"body1",sx:{whiteSpace:"pre-line"},children:t.education})]})]})}),t.experience&&e.jsx(r,{children:e.jsxs(r,{sx:{display:"flex",alignItems:"flex-start",gap:1,mb:2},children:[e.jsx(z,{fontSize:"small",color:"action",sx:{mt:.5}}),e.jsxs(r,{children:[e.jsx(i,{variant:"body2",color:"text.secondary",children:"Experience"}),e.jsx(i,{variant:"body1",sx:{whiteSpace:"pre-line"},children:t.experience})]})]})}),t.skills&&e.jsx(r,{children:e.jsxs(r,{sx:{display:"flex",alignItems:"flex-start",gap:1,mb:2},children:[e.jsx(S,{fontSize:"small",color:"action",sx:{mt:.5}}),e.jsxs(r,{children:[e.jsx(i,{variant:"body2",color:"text.secondary",children:"Skills"}),e.jsx(r,{sx:{display:"flex",flexWrap:"wrap",gap:1,mt:.5},children:t.skills.split(",").map((o,c)=>e.jsx(l,{label:o.trim(),size:"small",color:"primary",variant:"outlined"},c))})]})]})})]}),e.jsx(y,{sx:{my:2}}),e.jsxs(r,{sx:{display:"flex",flexWrap:"wrap",gap:2},children:[t.linkedin&&e.jsx(r,{sx:{flex:{xs:"1 1 100%",sm:"1 1 calc(50% - 16px)"}},children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Y,{fontSize:"small",color:"primary"}),e.jsx(i,{variant:"body2",component:"a",href:t.linkedin.startsWith("http")?t.linkedin:`https://${t.linkedin}`,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",textDecoration:"none"},children:"LinkedIn Profile"})]})}),t.github&&e.jsx(r,{sx:{flex:{xs:"1 1 100%",sm:"1 1 calc(50% - 16px)"}},children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ee,{fontSize:"small"}),e.jsx(i,{variant:"body2",component:"a",href:t.github.startsWith("http")?t.github:`https://${t.github}`,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",textDecoration:"none"},children:"GitHub Profile"})]})}),t.website&&e.jsx(r,{sx:{flex:{xs:"1 1 100%",sm:"1 1 calc(50% - 16px)"}},children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(te,{fontSize:"small",color:"action"}),e.jsx(i,{variant:"body2",component:"a",href:t.website.startsWith("http")?t.website:`https://${t.website}`,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",textDecoration:"none"},children:"Personal Website"})]})}),t.twitter&&e.jsx(r,{sx:{flex:{xs:"1 1 100%",sm:"1 1 calc(50% - 16px)"}},children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Z,{fontSize:"small",color:"info"}),e.jsx(i,{variant:"body2",component:"a",href:t.twitter.startsWith("http")?t.twitter:`https://twitter.com/${t.twitter}`,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",textDecoration:"none"},children:"Twitter Profile"})]})})]}),t.resume&&e.jsx(r,{sx:{mt:3},children:e.jsx(d,{variant:"outlined",startIcon:e.jsx(re,{}),component:"a",href:t.resume,target:"_blank",rel:"noopener noreferrer",children:"View Resume"})})]})})]})},ae=({applications:a})=>{const t=s=>({screening:"info",interview:"warning",offer:"success",rejected:"error",hired:"secondary"})[s==null?void 0:s.slug]||"default",n=s=>({new:"primary","in-progress":"info",accepted:"success",rejected:"error",withdrawn:"default"})[s==null?void 0:s.slug]||"default";return e.jsx(r,{children:a.length===0?e.jsx(f,{sx:{p:4,borderRadius:2,textAlign:"center"},children:e.jsx(i,{variant:"body1",color:"text.secondary",children:"This user hasn't submitted any job applications yet."})}):e.jsx(w,{columns:[{field:"job",header:"Job",render:s=>{var o;return e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(z,{fontSize:"small",color:"action"}),e.jsxs(r,{children:[e.jsx(i,{variant:"body2",fontWeight:500,children:s==null?void 0:s.title}),e.jsx(i,{variant:"caption",color:"text.secondary",children:(o=s==null?void 0:s.company)==null?void 0:o.name})]})]})}},{field:"current_stage",header:"Stage",render:s=>e.jsx(l,{label:(s==null?void 0:s.name)||"Not Started",color:t(s),size:"small"})},{field:"status",header:"Status",render:s=>e.jsx(l,{label:(s==null?void 0:s.name)||"Unknown",color:n(s),size:"small"})},{field:"created_at",header:"Applied On",render:s=>new Date(s).toLocaleDateString()}],data:a,actions:s=>e.jsx(d,{variant:"text",color:"primary",size:"small",component:j,href:route("admin.applications.show",s.id),children:"View"}),emptyMessage:"No applications found"})})},ie=({companies:a})=>e.jsx(r,{children:a.length===0?e.jsx(f,{sx:{p:4,borderRadius:2,textAlign:"center"},children:e.jsx(i,{variant:"body1",color:"text.secondary",children:"This user is not managing any companies."})}):e.jsx(w,{columns:[{field:"company",header:"Company",render:(t,n)=>{var s,o,c;return e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[(s=n.company)!=null&&s.logo?e.jsx(I,{src:n.company.logo,alt:(o=n.company)==null?void 0:o.name,variant:"rounded",sx:{width:30,height:30}}):e.jsx(q,{color:"action",fontSize:"small"}),e.jsx(i,{variant:"body2",fontWeight:500,children:(c=n.company)==null?void 0:c.name})]})}},{field:"is_primary",header:"Role",render:t=>e.jsx(l,{label:t?"Primary Manager":"Secondary Manager",color:t?"primary":"default",size:"small",variant:t?"filled":"outlined"})},{field:"created_at",header:"Added On",render:t=>new Date(t).toLocaleDateString()}],data:a,actions:t=>e.jsx(d,{variant:"text",color:"primary",size:"small",component:j,href:route("admin.companies.show",t.company_id),children:"View Company"}),emptyMessage:"No companies found"})}),mt=()=>{var v;const{user:a,profile:t,applications:n,companies:s}=T().props,[o,c]=x.useState(!1),[_,u]=x.useState(!1),[L,b]=x.useState(!1),[C,k]=x.useState(""),[A,P]=x.useState("success"),W=[{label:"Profile",content:e.jsx(se,{user:a,profile:t})},{label:`Applications (${n?n.length:0})`,content:e.jsx(ae,{applications:n||[]})},{label:`Company Management (${s?s.length:0})`,content:e.jsx(ie,{companies:s||[]})}],M=()=>{u(!0),B.delete(route("admin.users.destroy",a.id),{onSuccess:()=>{},onError:()=>{c(!1),k("Failed to delete user. There may be active applications or related data."),P("error"),b(!0),u(!1)}})};return e.jsx(e.Fragment,{children:e.jsxs(V,{children:[L&&e.jsx($,{severity:A,onClose:()=>b(!1),sx:{mb:2},children:C}),e.jsx(E,{title:`User Profile: ${a.name}`,icon:e.jsx(H,{}),action:e.jsxs(r,{sx:{display:"flex",gap:1},children:[e.jsx(d,{variant:"outlined",startIcon:e.jsx(G,{}),component:j,href:route("admin.users.index"),children:"Back"}),e.jsx(d,{variant:"contained",startIcon:e.jsx(O,{}),color:"primary",component:j,href:route("admin.users.edit",a.id),children:"Edit"}),e.jsx(d,{variant:"outlined",startIcon:e.jsx(F,{}),color:"error",onClick:()=>c(!0),children:"Delete"})]}),children:e.jsxs(r,{sx:{mb:3},children:[e.jsxs(J,{direction:"row",spacing:1,sx:{mb:3},children:[e.jsx(l,{label:((v=a.role)==null?void 0:v.name)||"No Role",color:"primary",size:"small"}),e.jsx(l,{label:a.is_active?"Active":"Inactive",color:a.is_active?"success":"default",size:"small"}),a.email_verified_at&&e.jsx(l,{label:"Email Verified",color:"success",size:"small",variant:"outlined",icon:e.jsx(D,{fontSize:"small"})})]}),e.jsx(N,{tabs:W,variant:"contained",padding:0})]})}),e.jsx(U,{open:o,onClose:()=>c(!1),title:"Delete User",description:`Are you sure you want to delete ${a.name}? This action cannot be undone and will permanently remove all data associated with this user.`,confirmButton:!0,cancelButton:!0,confirmText:"Delete",confirmColor:"error",onConfirm:M,loading:_})]})})};export{mt as default};

import{j as e,r as b,a as A,m as W,J as v,S as z}from"./app-BUVb_nAj.js";import{P}from"./PublicLayout-Bc1zoCIL.js";import{f as w}from"./formatDistanceToNow-Bl6WKXxM.js";import{C as y}from"./Card-vSg9PuMO.js";import{B as c}from"./Button-DzGhUBn7.js";import{c as R,u as f,B as i,T as t,P as g}from"./Button-DFxjcZ8p.js";import{u as F}from"./index-Dtg-WGcE.js";import{C as E}from"./Container-DEvTfuj0.js";import{F as H,S as L,M,W as J}from"./Work-CLEsMByH.js";import{A as k}from"./Add-Dwuu4lJj.js";import{T as C}from"./TextField-DdsD0Afg.js";import{I as K}from"./InputAdornment-CzgX0339.js";import{C as Q}from"./CardHeader-D023TrKm.js";import{A as D}from"./Slide-DYtCGdXj.js";import{C as I}from"./CardContent-DTmJK9ga.js";import{C as V}from"./CardActions-CNvPXNbJ.js";import{T}from"./AccessTime-DXhpyso9.js";import{A as N}from"./ArrowForward-Tz2ikYxH.js";import{P as O}from"./Person-5k5xBlAT.js";import{C as U,T as $,L as G}from"./LoadingButton-LkH2cM91.js";import{V as Y}from"./Visibility-clJeQAT9.js";import{D as q,a as X,b as Z}from"./DialogContent-D4sYn80t.js";import{D as ee}from"./DialogTitle-DUJu7qVS.js";import{C as re}from"./Create-ClEMRAii.js";import{F as te,I as oe}from"./InputLabel-DpN5m5Yk.js";import{S as ie}from"./Select-Bh9V9k3o.js";import{C as ae}from"./Category-CYeNYdY6.js";import{S as se}from"./School-CsrAMFuf.js";import{D as ne}from"./Description-bLLwqFxn.js";import{I as le}from"./Info-CdM9Lqya.js";import{i as B}from"./id-GFPdi1w9.js";import"./Footer-DSErbOqA.js";import"./Badge-Z58iZkOl.js";import"./Dropdown-DkhB3yYD.js";import"./MoreVert-PY4ZbxeC.js";import"./SearchBar-Cc77Mvvk.js";import"./FilterList-Cvii7KUK.js";import"./LocationOn-CpujyWrU.js";import"./BusinessCenter-CsY4Qukq.js";import"./Close-B7UDIhaS.js";import"./Modal-B2mKmmvX.js";import"./DialogContentText-B8PLj8LQ.js";import"./Spinner-BQ8Zpssl.js";import"./Home-Dgjf0Cn6.js";import"./KeyboardArrowDown-Cpvp99se.js";import"./Login-BhYUAFD9.js";import"./PersonAdd-C_AqpDZ_.js";import"./Stack-DUsTNRwi.js";import"./constructNow-z21Lzbrf.js";import"./toDate-DQ4lCuA9.js";import"./en-US-DjmIwZ1X.js";import"./endOfDay-CxCfia3b.js";import"./endOfMonth-CEPzkpce.js";import"./Card-D_rkxkaC.js";const de=R(e.jsx("path",{d:"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1m-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1"})),ce=({category:r})=>{f();const s={announcement:e.jsx(le,{}),career:e.jsx(J,{}),interview:e.jsx(de,{}),resume:e.jsx(ne,{}),education:e.jsx(se,{})},d=()=>r.icon?s[r.icon]?s[r.icon]:e.jsx("span",{className:"material-icons",children:r.icon}):e.jsx(ae,{});return e.jsx(W.div,{whileHover:{y:-3},transition:{duration:.2},children:e.jsxs(y,{variant:"outlined",customHeader:!1,hover:!0,sx:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"12px",borderLeft:"4px solid",borderColor:"primary.main",overflow:"hidden",transition:"all 0.2s ease",backgroundColor:"background.paper","&:hover":{boxShadow:"0 5px 15px rgba(0, 0, 0, 0.08)"}},children:[e.jsx(Q,{avatar:e.jsx(D,{sx:{bgcolor:"primary.main",width:40,height:40},children:d()}),title:e.jsx(t,{variant:"h6",fontWeight:"medium",children:r.name}),subheader:e.jsxs(t,{variant:"body2",color:"text.secondary",children:[r.topics_count," topik"]})}),e.jsx(I,{sx:{pt:0},children:e.jsx(t,{variant:"body2",color:"text.secondary",sx:{mb:2},children:r.description})}),e.jsxs(V,{sx:{justifyContent:"space-between",mt:"auto",px:2,pb:2},children:[e.jsxs(t,{variant:"caption",color:"text.secondary",sx:{display:"flex",alignItems:"center",fontSize:"0.75rem"},children:[e.jsx(T,{fontSize:"inherit",sx:{mr:.5}}),r.latest_topic?`Post terbaru ${w(new Date(r.latest_topic.updated_at),{addSuffix:!0,locale:B})}`:"Belum ada post"]}),e.jsx(c,{component:v,href:route("public.forum.category",r.slug),size:"small",color:"primary",endIcon:e.jsx(N,{}),variant:"text",children:"Lihat"})]})]})})},S=({topic:r,showCategory:s=!1})=>(f(),!r||!r.user?e.jsx(y,{variant:"outlined",sx:{mb:2,borderRadius:"12px"},children:e.jsx(I,{children:e.jsx(t,{variant:"body2",color:"text.secondary",children:"Data topik tidak lengkap"})})}):e.jsx(y,{variant:"outlined",customHeader:!1,hover:!0,elevation:0,sx:{mb:2,borderRadius:"12px",transition:"all 0.2s ease","&:hover":{transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.06)"}},children:e.jsx(I,{sx:{p:2.5},children:e.jsxs(i,{sx:{display:"flex",alignItems:"flex-start"},children:[e.jsx(D,{src:r.user.profile_photo||null,alt:r.user.name,sx:{width:40,height:40,mr:2},children:r.user.name.charAt(0).toUpperCase()}),e.jsxs(i,{sx:{flexGrow:1},children:[e.jsx(v,{href:route("public.forum.topic",r.slug),className:"no-underline",children:e.jsx(t,{variant:"h6",component:"h3",sx:{fontWeight:"medium",color:"text.primary",fontSize:"1rem",mb:.5,"&:hover":{color:"primary.main"}},children:r.title})}),s&&r.category&&e.jsx(t,{variant:"body2",component:v,href:route("public.forum.category",r.category.slug),sx:{display:"inline-block",color:"primary.main",mb:1,textDecoration:"none","&:hover":{textDecoration:"underline"}},children:r.category.name}),e.jsxs(i,{sx:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:2,mt:1},children:[e.jsxs(t,{variant:"caption",color:"text.secondary",sx:{display:"flex",alignItems:"center"},children:[e.jsx(O,{fontSize:"inherit",sx:{mr:.5}}),r.user.name]}),e.jsxs(t,{variant:"caption",color:"text.secondary",sx:{display:"flex",alignItems:"center"},children:[e.jsx(U,{fontSize:"inherit",sx:{mr:.5}}),r.posts_count?`${r.posts_count} komentar`:"Belum ada komentar"]}),e.jsxs(t,{variant:"caption",color:"text.secondary",sx:{display:"flex",alignItems:"center"},children:[e.jsx(Y,{fontSize:"inherit",sx:{mr:.5}}),r.views," dilihat"]}),r.likes_count>0&&e.jsxs(t,{variant:"caption",color:"text.secondary",sx:{display:"flex",alignItems:"center"},children:[e.jsx($,{fontSize:"inherit",sx:{mr:.5}}),r.likes_count," suka"]}),e.jsxs(t,{variant:"caption",color:"text.secondary",sx:{display:"flex",alignItems:"center",ml:"auto"},children:[e.jsx(T,{fontSize:"inherit",sx:{mr:.5}}),w(new Date(r.updated_at),{addSuffix:!0,locale:B})]})]})]})]})})})),me=({open:r,onClose:s,categories:d})=>{f();const{data:m,setData:x,post:u,processing:l,errors:n,reset:h}=z({title:"",content:"",category_id:""}),j=o=>{o.preventDefault(),u(route("public.forum.store.topic"),{onSuccess:()=>{h(),s()}})},p=()=>{h(),s()};return e.jsxs(q,{open:r,onClose:p,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:"12px",overflow:"hidden"}},children:[e.jsxs(ee,{sx:{display:"flex",alignItems:"center",gap:1,borderBottom:"1px solid",borderColor:"divider",py:2},children:[e.jsx(re,{color:"primary"}),e.jsx(t,{variant:"h6",component:"span",children:"Buat Topik Baru"})]}),e.jsxs("form",{onSubmit:j,children:[e.jsxs(X,{sx:{pt:3},children:[e.jsxs(te,{fullWidth:!0,error:!!n.category_id,sx:{mb:3},children:[e.jsx(oe,{id:"category-select-label",children:"Kategori"}),e.jsx(ie,{labelId:"category-select-label",id:"category_id",value:m.category_id,label:"Kategori",onChange:o=>x("category_id",o.target.value),children:d.map(o=>e.jsx(M,{value:o.id,children:o.name},o.id))}),n.category_id&&e.jsx(t,{variant:"caption",color:"error",children:n.category_id})]}),e.jsx(C,{autoFocus:!0,margin:"dense",id:"title",label:"Judul Topik",type:"text",fullWidth:!0,variant:"outlined",value:m.title,onChange:o=>x("title",o.target.value),error:!!n.title,helperText:n.title,sx:{mb:3}}),e.jsx(C,{id:"content",label:"Konten",multiline:!0,rows:8,fullWidth:!0,variant:"outlined",value:m.content,onChange:o=>x("content",o.target.value),error:!!n.content,helperText:n.content})]}),e.jsxs(Z,{sx:{px:3,py:2,borderTop:"1px solid",borderColor:"divider"},children:[e.jsx(c,{onClick:p,variant:"outlined",color:"inherit",children:"Batal"}),e.jsx(G,{loading:l,type:"submit",variant:"contained",disableElevation:!0,children:"Buat Topik"})]})]})]})},xr=({categories:r=[],popularTopics:s=[],recentTopics:d=[]})=>{const m=f();F(m.breakpoints.down("md"));const[x,u]=b.useState(!1),[l,n]=b.useState(0),[h,j]=b.useState(""),p=()=>{u(!0)},o=()=>{u(!1)},_=a=>{j(a)};return e.jsxs(P,{children:[e.jsx(A,{title:"Forum Diskusi"}),e.jsxs(E,{maxWidth:"lg",sx:{py:4},children:[e.jsxs(i,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",md:"center"},mb:4},children:[e.jsxs(i,{sx:{mb:{xs:2,md:0}},children:[e.jsxs(t,{variant:"h4",component:"h1",sx:{display:"flex",alignItems:"center",fontWeight:"bold",mb:1},children:[e.jsx(H,{sx:{mr:1,color:"primary.main"}}),"Forum Diskusi"]}),e.jsx(t,{variant:"body1",color:"text.secondary",children:"Berbagi ide dan diskusi dengan sesama mahasiswa"})]}),e.jsx(c,{variant:"contained",startIcon:e.jsx(k,{}),onClick:p,disableElevation:!0,children:"Topik Baru"})]}),e.jsx(g,{elevation:0,sx:{p:2,mb:4,borderRadius:"12px",border:"1px solid",borderColor:"divider",bgcolor:"background.paper"},children:e.jsx(C,{fullWidth:!0,placeholder:"Cari topik diskusi...",variant:"outlined",size:"medium",value:h,onChange:a=>_(a.target.value),InputProps:{startAdornment:e.jsx(K,{position:"start",children:e.jsx(L,{})}),sx:{borderRadius:"8px"}}})}),e.jsxs(i,{sx:{mb:6},children:[e.jsx(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:e.jsx(t,{variant:"h5",component:"h2",fontWeight:"bold",children:"Kategori"})}),e.jsx(i,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},gap:3},children:r.map(a=>e.jsx(ce,{category:a},a.id))})]}),e.jsxs(i,{sx:{mb:4},children:[e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(t,{variant:"h5",component:"h2",fontWeight:"bold",children:"Topik Diskusi"}),e.jsxs(i,{sx:{display:"flex",gap:1},children:[e.jsx(c,{variant:l===0?"contained":"outlined",size:"small",onClick:()=>n(0),disableElevation:!0,sx:{borderRadius:"8px",...l===0?{}:{color:"text.primary",borderColor:"divider"}},children:"Terbaru"}),e.jsx(c,{variant:l===1?"contained":"outlined",size:"small",onClick:()=>n(1),disableElevation:!0,sx:{borderRadius:"8px",...l===1?{}:{color:"text.primary",borderColor:"divider"}},children:"Populer"})]})]}),e.jsx(i,{sx:{display:l===0?"block":"none"},children:d.length>0?d.map(a=>e.jsx(S,{topic:a,showCategory:!0},a.id)):e.jsxs(g,{sx:{p:3,textAlign:"center",borderRadius:"12px",bgcolor:"background.paper",border:"1px dashed",borderColor:"divider"},children:[e.jsx(t,{variant:"body1",color:"text.secondary",children:"Belum ada topik diskusi. Jadilah yang pertama membuat topik!"}),e.jsx(c,{variant:"contained",startIcon:e.jsx(k,{}),onClick:p,sx:{mt:2},disableElevation:!0,children:"Buat Topik"})]})}),e.jsx(i,{sx:{display:l===1?"block":"none"},children:s.length>0?s.map(a=>e.jsx(S,{topic:a,showCategory:!0},a.id)):e.jsx(g,{sx:{p:3,textAlign:"center",borderRadius:"12px",bgcolor:"background.paper",border:"1px dashed",borderColor:"divider"},children:e.jsx(t,{variant:"body1",color:"text.secondary",children:"Belum ada topik diskusi populer."})})})]}),e.jsx(me,{open:x,onClose:o,categories:r})]})]})};export{xr as default};

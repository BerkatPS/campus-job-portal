import{j as r,r as m,g as q,q as lr,a as dr,m as Y,f as p,b as n,J as Le,A as mr}from"./app-BUVb_nAj.js";import{k as cr,I as xr,D as Ne,B as v,L as ur}from"./Button-DzGhUBn7.js";import{D as pr}from"./Dropdown-DkhB3yYD.js";import{A as hr}from"./Alert-W_CUoSxB.js";import{T as J}from"./TextArea-CO0sOTJt.js";import{S as Be}from"./Select-CwiaD0cR.js";import{M as N}from"./Modal-B2mKmmvX.js";import{L as gr}from"./Layout-DnkF-NCm.js";import{c as br,g as S,f as C,s as T,b as k,d as R,T as l,u as fr,B as s,P as g}from"./Button-DFxjcZ8p.js";import{u as jr}from"./index-Dtg-WGcE.js";import{C as yr}from"./Container-DEvTfuj0.js";import{C as $e}from"./CheckCircle-Dd-oaFV0.js";import{S as f}from"./Stack-DUsTNRwi.js";import{K as vr}from"./KeyboardArrowLeft-CAm5v7jB.js";import{S as Oe}from"./Star-Bgm7RHOV.js";import{T as Cr,a as B}from"./Tabs-CQDMEBQN.js";import{L as Sr}from"./LinearProgress-3EBWbMR1.js";import{C as y,A as Ue}from"./Slide-DYtCGdXj.js";import{D as Tr}from"./Download-DZz_v1Ey.js";import{u as w}from"./useThemeProps-adomEL84.js";import{T as He}from"./AccessTime-DXhpyso9.js";import{E as M}from"./Event-DRCIx1GO.js";import{P as Ve}from"./Person-5k5xBlAT.js";import{C as Ee}from"./CalendarMonth-DeiYDfzL.js";import{T as kr}from"./Timer-DNERx_MQ.js";import{L as G}from"./LocationOn-CpujyWrU.js";import{V as Rr}from"./VideoCall-Cb63ckiV.js";import{E as wr}from"./Email-E4u4F7F-.js";import{L as P,a as D,b as _,W as Ir}from"./Work-CLEsMByH.js";import{P as Wr}from"./Phone-_DVlyzHf.js";import{S as Mr}from"./School-CsrAMFuf.js";import{B as z}from"./BusinessCenter-CsY4Qukq.js";import{W as Fe}from"./WorkOutline-BRpprJQq.js";import{C as Pr}from"./Cancel-CvQZ1HG8.js";import{C as Dr}from"./Check-4ptu1-hL.js";import{E as _r}from"./Edit-D-W3BsdZ.js";import{S as zr}from"./StarBorder-BS1uSk71.js";import"./MoreVert-PY4ZbxeC.js";import"./Alert-j9c9aQEr.js";import"./Close-CafbgWA1.js";import"./AlertTitle-CPDkbCwY.js";import"./ArrowForward-Tz2ikYxH.js";import"./Close-B7UDIhaS.js";import"./Error-CSPDIC8t.js";import"./Warning-BLg7sOqp.js";import"./Info-CdM9Lqya.js";import"./InputLabel-DpN5m5Yk.js";import"./TextField-DdsD0Afg.js";import"./Select-Bh9V9k3o.js";import"./InputAdornment-CzgX0339.js";import"./DialogContent-D4sYn80t.js";import"./DialogTitle-DUJu7qVS.js";import"./DialogContentText-B8PLj8LQ.js";import"./Sidebar-DGzgELZX.js";import"./moment-C5S46NFB.js";import"./id-DNGKkZzB.js";import"./ChevronRight-FNylUib_.js";import"./People-6TwBzk5z.js";import"./Footer-DSErbOqA.js";import"./KeyboardArrowRight-By3nsvSL.js";const Ar=br(r.jsx("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8zm4 18H6V4h8v4h4zm-6-3c-1.1 0-2-.9-2-2V9.5c0-.28.22-.5.5-.5s.5.22.5.5V15h2V9.5C13 8.12 11.88 7 10.5 7S8 8.12 8 9.5V15c0 2.21 1.79 4 4 4s4-1.79 4-4v-4h-2v4c0 1.1-.9 2-2 2"})),O=m.createContext({});function Lr(e){return S("MuiTimeline",e)}C("MuiTimeline",["root","positionLeft","positionRight","positionAlternate","positionAlternateReverse"]);function I(e){return e==="alternate-reverse"?"positionAlternateReverse":`position${q(e)}`}const Nr=e=>{const{position:t,classes:i}=e,d={root:["root",t&&I(t)]};return R(d,Lr,i)},Br=T("ul",{name:"MuiTimeline",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.position&&t[I(i.position)]]}})({display:"flex",flexDirection:"column",padding:"6px 16px",flexGrow:1}),$r=m.forwardRef(function(t,i){const d=w({props:t,name:"MuiTimeline"}),{position:c="right",className:a,...x}=d,u={...d,position:c},j=Nr(u),h=m.useMemo(()=>({position:c}),[c]);return r.jsx(O.Provider,{value:h,children:r.jsx(Br,{className:k(j.root,a),ownerState:u,ref:i,...x})})});function Or(e){return S("MuiTimelineConnector",e)}C("MuiTimelineConnector",["root"]);const Ur=e=>{const{classes:t}=e;return R({root:["root"]},Or,t)},Hr=T("span",{name:"MuiTimelineConnector",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({width:2,backgroundColor:(e.vars||e).palette.grey[400],flexGrow:1})),Vr=m.forwardRef(function(t,i){const d=w({props:t,name:"MuiTimelineConnector"}),{className:c,...a}=d,x=d,u=Ur(x);return r.jsx(Hr,{className:k(u.root,c),ownerState:x,ref:i,...a})});function Er(e){return S("MuiTimelineContent",e)}const Fr=C("MuiTimelineContent",["root","positionLeft","positionRight","positionAlternate","positionAlternateReverse"]),Kr=e=>{const{position:t,classes:i}=e,d={root:["root",I(t)]};return R(d,Er,i)},Jr=T(l,{name:"MuiTimelineContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[I(i.position)]]}})(({ownerState:e})=>({flex:1,padding:"6px 16px",textAlign:"left",...e.position==="left"&&{textAlign:"right"}})),Gr=m.forwardRef(function(t,i){const d=w({props:t,name:"MuiTimelineContent"}),{className:c,...a}=d,{position:x}=m.useContext(O),u={...d,position:x||"right"},j=Kr(u);return r.jsx(Jr,{component:"div",className:k(j.root,c),ownerState:u,ref:i,...a})});function Yr(e){return S("MuiTimelineDot",e)}C("MuiTimelineDot",["root","filled","outlined","filledGrey","outlinedGrey","filledPrimary","outlinedPrimary","filledSecondary","outlinedSecondary"]);const qr=e=>{const{color:t,variant:i,classes:d}=e,c={root:["root",i,t!=="inherit"&&`${i}${q(t)}`]};return R(c,Yr,d)},Qr=T("span",{name:"MuiTimelineDot",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[i.color!=="inherit"&&`${i.variant}${q(i.color)}`],t[i.variant]]}})(({ownerState:e,theme:t})=>({display:"flex",alignSelf:"baseline",borderStyle:"solid",borderWidth:2,padding:4,borderRadius:"50%",boxShadow:(t.vars||t).shadows[1],margin:"11.5px 0",...e.variant==="filled"&&{borderColor:"transparent",...e.color!=="inherit"&&{...e.color==="grey"?{color:(t.vars||t).palette.grey[50],backgroundColor:(t.vars||t).palette.grey[400]}:{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main}}},...e.variant==="outlined"&&{boxShadow:"none",backgroundColor:"transparent",...e.color!=="inherit"&&{...e.color==="grey"?{borderColor:(t.vars||t).palette.grey[400]}:{borderColor:(t.vars||t).palette[e.color].main}}}})),Xr=m.forwardRef(function(t,i){const d=w({props:t,name:"MuiTimelineDot"}),{className:c,color:a="grey",variant:x="filled",...u}=d,j={...d,color:a,variant:x},h=qr(j);return r.jsx(Qr,{className:k(h.root,c),ownerState:j,ref:i,...u})}),Zr=C("MuiTimelineOppositeContent",["root","positionLeft","positionRight","positionAlternate","positionAlternateReverse"]);function et(e){return S("MuiTimelineItem",e)}C("MuiTimelineItem",["root","positionLeft","positionRight","positionAlternate","positionAlternateReverse","missingOppositeContent"]);const rt=e=>{const{position:t,classes:i,hasOppositeContent:d}=e,c={root:["root",I(t),!d&&"missingOppositeContent"]};return R(c,et,i)},tt=T("li",{name:"MuiTimelineItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[I(i.position)]]}})(({ownerState:e})=>({listStyle:"none",display:"flex",position:"relative",minHeight:70,...e.position==="left"&&{flexDirection:"row-reverse"},...(e.position==="alternate"||e.position==="alternate-reverse")&&{[`&:nth-of-type(${e.position==="alternate"?"even":"odd"})`]:{flexDirection:"row-reverse",[`& .${Fr.root}`]:{textAlign:"right"},[`& .${Zr.root}`]:{textAlign:"left"}}},...!e.hasOppositeContent&&{"&::before":{content:'""',flex:1,padding:"6px 16px"}}})),ot=m.forwardRef(function(t,i){const d=w({props:t,name:"MuiTimelineItem"}),{position:c,className:a,...x}=d,{position:u}=m.useContext(O);let j=!1;m.Children.forEach(d.children,H=>{cr(H,["TimelineOppositeContent"])&&(j=!0)});const h={...d,position:c||u||"right",hasOppositeContent:j},U=rt(h),W=m.useMemo(()=>({position:h.position}),[h.position]);return r.jsx(O.Provider,{value:W,children:r.jsx(tt,{className:k(U.root,a),ownerState:h,ref:i,...x})})});function st(e){return S("MuiTimelineSeparator",e)}C("MuiTimelineSeparator",["root"]);const at=e=>{const{classes:t}=e;return R({root:["root"]},st,t)},it=T("div",{name:"MuiTimelineSeparator",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",flex:0,alignItems:"center"}),nt=m.forwardRef(function(t,i){const d=w({props:t,name:"MuiTimelineSeparator"}),{className:c,...a}=d,x=d,u=at(x);return r.jsx(it,{className:k(u.root,c),ownerState:x,ref:i,...a})}),$=({children:e,value:t,index:i})=>r.jsx(s,{role:"tabpanel",hidden:t!==i,id:`application-tabpanel-${i}`,"aria-labelledby":`application-tab-${i}`,children:t===i&&r.jsx(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:e})}),Ke=({title:e,color:t="primary.main"})=>r.jsxs(s,{sx:{display:"flex",alignItems:"center",mb:2,mt:1},children:[r.jsx(s,{sx:{p:1,width:4,height:20,bgcolor:t,borderRadius:1,mr:1.5,opacity:.8}}),r.jsx(l,{variant:"h6",fontWeight:"700",color:"text.primary",className:"text-gray-800",children:e})]}),ho=()=>{var se,ae,ie,ne,le,de,me,ce,xe,ue,pe,he,ge,be,fe,je,ye,ve,Ce,Se,Te,ke,Re,we,Ie,We,Me,Pe,De,_e,ze,Ae;const{application:e,stages:t,statuses:i,events:d,flash:c}=lr().props,a=fr();jr(a.breakpoints.down("md"));const[x,u]=m.useState(0),[j,h]=m.useState(!1),[U,W]=m.useState(!1),[H,V]=m.useState(!1),[Q,X]=m.useState((se=e==null?void 0:e.status)==null?void 0:se.id),[Z,E]=m.useState((ae=e==null?void 0:e.current_stage)==null?void 0:ae.id),[ee,re]=m.useState((e==null?void 0:e.notes)||""),[Je,F]=m.useState(!1),[te,Ge]=m.useState(""),[oe,K]=m.useState("");m.useEffect(()=>{e.current_stage&&E(e.current_stage.id)},[e]);const Ye=(o,b)=>{u(b)},qe=()=>{p.put(route("manager.applications.toggle-favorite",e.id),{},{preserveScroll:!0,onSuccess:()=>{p.reload({only:["application"]})}})},Qe=()=>{p.put(route("manager.applications.update-notes",e.id),{notes:ee},{preserveScroll:!0,onSuccess:()=>{V(!1),p.reload({only:["application"]})}})},Xe=()=>{p.post(route("manager.applications.update-status",e.id),{status:"rejected",reason:te},{preserveScroll:!0,preserveState:!0,onSuccess:()=>F(!1)})},Ze=()=>{p.put(route("manager.applications.update-stage",e.id),{stage_id:Z,notes:oe},{preserveScroll:!0,onSuccess:()=>{W(!1),K(""),p.reload({only:["application"]})}})},er=o=>{E(o.target.value)},rr=o=>{X(o.target.value)},tr=()=>{p.put(route("manager.applications.update-status",e.id),{status_id:Q},{preserveScroll:!0,onSuccess:()=>{h(!1),p.reload({only:["application"]})}})},or=o=>{re(o.target.value)},sr=()=>{var o;h(!1),X((o=e==null?void 0:e.status)==null?void 0:o.id)},ar=()=>{var o;W(!1),E((o=e==null?void 0:e.current_stage)==null?void 0:o.id),K("")},ir=()=>{V(!1),re((e==null?void 0:e.notes)||"")},nr=()=>[{label:"Ubah Status",icon:r.jsx(Dr,{}),onClick:()=>h(!0)},{label:"Ubah Tahap",icon:r.jsx(Fe,{}),onClick:()=>W(!0)},{label:"Tambah Catatan",icon:r.jsx(_r,{}),onClick:()=>V(!0)},{label:e.is_favorite?"Hapus dari Favorit":"Tambah ke Favorit",icon:e.is_favorite?r.jsx(Oe,{}):r.jsx(zr,{}),onClick:qe}],A=(o,b="long")=>{if(!o)return"";const L=new Date(o);return b==="long"?L.toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):b==="short"?L.toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"}):b==="datetime"?L.toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):L.toLocaleDateString("id-ID")};return r.jsxs(gr,{children:[r.jsx(dr,{title:`Lamaran ${((ie=e==null?void 0:e.user)==null?void 0:ie.name)||""} - Detail`}),r.jsx(yr,{maxWidth:"xl",sx:{py:{xs:2,md:4}},children:r.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:r.jsx(s,{sx:{bgcolor:"background.paper",borderRadius:"0.75rem",boxShadow:"none",overflow:"hidden",border:"1px solid",borderColor:"divider"},children:r.jsxs(s,{sx:{p:{xs:2,md:3}},children:[c.success&&r.jsx(hr,{severity:"success",title:"Berhasil",onClose:()=>p.reload({only:["flash"]}),sx:{mb:3,borderRadius:"0.75rem"},icon:r.jsx($e,{fontSize:"inherit"}),children:c.success}),r.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexDirection:{xs:"column",sm:"row"},gap:{xs:2,sm:0},mb:4,pb:3,borderBottom:"1px solid",borderColor:o=>n(o.palette.divider,.7)},children:[r.jsxs(f,{direction:"row",spacing:2,alignItems:"center",children:[r.jsx(Le,{href:route("manager.applications.index"),children:r.jsx(xr,{sx:{bgcolor:n(a.palette.primary.main,.04),borderRadius:"0.75rem","&:hover":{bgcolor:n(a.palette.primary.main,.08)}},children:r.jsx(vr,{})})}),r.jsxs(s,{children:[r.jsxs(l,{variant:"h5",sx:{fontWeight:700,color:"text.primary",display:"flex",alignItems:"center",gap:1},className:"text-gray-800",children:["Lamaran ",(ne=e==null?void 0:e.user)==null?void 0:ne.name,(e==null?void 0:e.is_favorite)&&r.jsx(Oe,{fontSize:"small",sx:{color:o=>o.palette.warning.main}})]}),r.jsxs(l,{variant:"body2",color:"text.secondary",children:["Melamar untuk ",r.jsx("strong",{children:(le=e==null?void 0:e.job)==null?void 0:le.title})," pada ",A(e==null?void 0:e.created_at,"short")]})]})]}),r.jsx(s,{children:r.jsx(pr,{buttonType:"button",items:nr(),variant:"contained",color:"primary",sx:{borderRadius:"0.75rem",py:1.25,fontWeight:600,boxShadow:"none","&:hover":{boxShadow:"0 2px 8px 0 rgba(20, 184, 166, 0.15)"},transition:"all 0.2s ease"},className:"transition-all duration-200",children:"Aksi"})})]}),r.jsxs(s,{sx:{display:"flex",flexDirection:{xs:"column",lg:"row"},gap:3},children:[r.jsx(s,{sx:{flex:"1 1 auto",width:{xs:"100%",lg:"calc(100% - 350px)"}},children:r.jsxs(s,{sx:{mb:4},children:[r.jsx(s,{sx:{mb:3,bgcolor:"background.paper",borderRadius:"0.75rem",border:"1px solid",borderColor:"divider",overflow:"hidden"},children:r.jsxs(Cr,{value:x,onChange:Ye,variant:"fullWidth",sx:{"& .MuiTab-root":{fontWeight:600,textTransform:"none",minHeight:56,fontSize:"0.95rem"},"& .MuiTabs-indicator":{height:3,borderRadius:"3px 3px 0 0"}},children:[r.jsx(B,{label:"Ikhtisar"}),r.jsx(B,{label:"CV"}),r.jsx(B,{label:"Linimasa"}),r.jsx(B,{label:"Acara"})]})}),r.jsxs(mr,{mode:"wait",children:[r.jsx($,{value:x,index:0,children:r.jsx(g,{elevation:0,sx:{borderRadius:"0.75rem",border:"1px solid",borderColor:"divider",p:{xs:2,md:3}},children:r.jsxs(f,{spacing:3,children:[r.jsxs(s,{sx:{position:"relative"},children:[r.jsx(Sr,{variant:"determinate",value:((de=e==null?void 0:e.status)==null?void 0:de.name)==="Accepted"||((me=e==null?void 0:e.status)==null?void 0:me.name)==="Rejected"?100:((ce=e==null?void 0:e.status)==null?void 0:ce.name)==="Interview"?60:((xe=e==null?void 0:e.status)==null?void 0:xe.name)==="Reviewed"?40:20,sx:{position:"absolute",top:0,left:0,right:0,height:4,backgroundColor:"rgba(0,0,0,0.05)","& .MuiLinearProgress-bar":{backgroundColor:((ue=e==null?void 0:e.status)==null?void 0:ue.color)||"primary.main"},mb:2}}),r.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2,pb:2,mt:1,borderBottom:"1px solid",borderColor:o=>n(o.palette.divider,.1)},children:[r.jsx(l,{variant:"h6",fontWeight:"700",className:"text-gray-800",children:"Status Lamaran"}),r.jsx(y,{label:(pe=e==null?void 0:e.status)==null?void 0:pe.name,sx:{height:28,fontWeight:600,backgroundColor:n((he=e==null?void 0:e.status)==null?void 0:he.color,.08),color:(ge=e==null?void 0:e.status)==null?void 0:ge.color,fontSize:"0.75rem",borderRadius:"6px",border:"1px solid",borderColor:`${n((be=e==null?void 0:e.status)==null?void 0:be.color,.2)}`}})]}),(e==null?void 0:e.current_stage)&&r.jsxs(s,{sx:{mt:2,p:2,bgcolor:n(a.palette.background.paper,.5),borderRadius:"0.75rem",border:"1px solid",borderColor:n(a.palette.divider,.1)},children:[r.jsx(l,{variant:"body2",color:"text.secondary",mb:1,children:"Tahap Saat Ini"}),r.jsx(y,{label:(fe=e==null?void 0:e.current_stage)==null?void 0:fe.name,size:"small",sx:{height:24,fontWeight:600,backgroundColor:n((je=e==null?void 0:e.current_stage)==null?void 0:je.color,.08),color:(ye=e==null?void 0:e.current_stage)==null?void 0:ye.color,fontSize:"0.75rem",borderRadius:"6px",border:"1px solid",borderColor:`${n((ve=e==null?void 0:e.current_stage)==null?void 0:ve.color,.2)}`}})]})]}),r.jsx(Ne,{}),r.jsxs(s,{children:[r.jsx(Ke,{title:"Surat Lamaran"}),r.jsx(g,{elevation:0,sx:{p:3,borderRadius:"0.75rem",bgcolor:n(a.palette.primary.main,.02),border:"1px solid",borderColor:n(a.palette.primary.main,.08)},children:r.jsx(l,{variant:"body2",sx:{whiteSpace:"pre-line",lineHeight:1.7,color:"text.secondary"},children:(e==null?void 0:e.cover_letter)||"Tidak ada surat lamaran yang disediakan."})})]}),(e==null?void 0:e.notes)&&r.jsxs(s,{children:[r.jsx(Ke,{title:"Catatan Rekruter",color:"warning.main"}),r.jsx(g,{elevation:0,sx:{p:3,borderRadius:"0.75rem",bgcolor:n(a.palette.warning.main,.03),border:"1px solid",borderColor:n(a.palette.warning.main,.12)},children:r.jsx(l,{variant:"body2",sx:{whiteSpace:"pre-line",lineHeight:1.7,color:"text.secondary"},children:e==null?void 0:e.notes})})]})]})})}),r.jsx($,{value:x,index:1,children:r.jsx(g,{elevation:0,sx:{borderRadius:"0.75rem",border:"1px solid",borderColor:"divider",p:{xs:2,md:3}},children:e!=null&&e.resume?r.jsxs(s,{sx:{p:2,textAlign:"center"},children:[r.jsx(s,{component:"iframe",src:`${e==null?void 0:e.resume_url}#view=FitH`,width:"100%",height:"600px",sx:{border:"none",borderRadius:"0.75rem",boxShadow:"none"}}),r.jsx(v,{variant:"outlined",color:"primary",startIcon:r.jsx(Tr,{}),sx:{mt:3,borderRadius:"0.75rem",py:1.25,fontWeight:500,"&:hover":{borderColor:"primary.main",backgroundColor:n(a.palette.primary.main,.05)}},onClick:()=>window.open(e==null?void 0:e.resume_url,"_blank"),children:"Unduh CV"})]}):r.jsxs(s,{sx:{p:5,textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"300px"},children:[r.jsx(s,{sx:{width:80,height:80,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:n(a.palette.primary.main,.1),mb:2},children:r.jsx(Ar,{sx:{fontSize:40,color:"text.secondary"}})}),r.jsx(l,{variant:"h6",sx:{fontWeight:700,mb:1},className:"text-gray-800",children:"Tidak Ada CV yang Diunggah"}),r.jsx(l,{variant:"body2",color:"text.secondary",children:"Kandidat belum mengunggah CV untuk lamaran ini."})]})})}),r.jsx($,{value:x,index:2,children:r.jsx(g,{elevation:0,sx:{borderRadius:"0.75rem",border:"1px solid",borderColor:"divider",p:{xs:2,md:3}},children:r.jsx($r,{position:"right",sx:{px:0,py:1,"& .MuiTimelineItem-root":{minHeight:"auto"}},children:e!=null&&e.stage_history&&(e==null?void 0:e.stage_history.length)>0?e==null?void 0:e.stage_history.map((o,b)=>r.jsxs(ot,{children:[r.jsxs(nt,{children:[r.jsx(Xr,{sx:{bgcolor:o.stage.color,boxShadow:`0 0 0 3px ${n(o.stage.color,.2)}`}}),b<(e==null?void 0:e.stage_history.length)-1&&r.jsx(Vr,{sx:{minHeight:30}})]}),r.jsxs(Gr,{sx:{py:1.5,px:2},children:[r.jsxs(l,{variant:"body2",fontWeight:"600",children:["Dipindahkan ke tahap ",o.stage.name]}),r.jsxs(l,{variant:"caption",color:"text.secondary",display:"block",children:[A(o.created_at,"datetime"),o.user&&` oleh ${o.user.name}`]}),o.notes&&r.jsx(g,{elevation:0,sx:{mt:1,p:1.5,bgcolor:n(a.palette.grey[500],.1),borderRadius:"0.75rem",border:"1px solid",borderColor:n(a.palette.grey[500],.2)},children:r.jsx(l,{variant:"body2",sx:{color:"text.secondary",lineHeight:1.6},children:o.notes})})]})]},b)):r.jsxs(s,{sx:{p:4,textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"200px",bgcolor:n(a.palette.background.paper,.5),borderRadius:"0.75rem",border:"1px dashed",borderColor:n(a.palette.divider,.3)},children:[r.jsx(s,{sx:{width:70,height:70,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:n(a.palette.primary.main,.1),mb:2},children:r.jsx(He,{sx:{fontSize:36,color:"primary.main"}})}),r.jsx(l,{variant:"h6",sx:{fontWeight:700,mb:1},className:"text-gray-800",children:"Belum Ada Riwayat"}),r.jsx(l,{variant:"body2",color:"text.secondary",children:"Belum ada riwayat tahapan yang tersedia."})]})})})}),r.jsx($,{value:x,index:3,children:r.jsxs(g,{elevation:0,sx:{borderRadius:"0.75rem",border:"1px solid",borderColor:"divider",p:{xs:2,md:3}},children:[r.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,flexDirection:{xs:"column",sm:"row"},gap:{xs:2,sm:0}},children:[r.jsx(l,{variant:"h6",sx:{fontWeight:700},className:"text-gray-800",children:"Acara Terjadwal"}),r.jsx(v,{variant:"contained",startIcon:r.jsx(M,{}),onClick:()=>p.visit(route("manager.events.create",{application_id:e.id})),sx:{borderRadius:"0.75rem",py:1.25,px:2,fontWeight:600,boxShadow:"none","&:hover":{boxShadow:"0 2px 8px 0 rgba(20, 184, 166, 0.15)",transform:"translateY(-2px)"},transition:"all 0.2s ease"},className:"transition-all duration-200",children:"Jadwalkan Acara"})]}),d&&d.length>0?r.jsx(f,{spacing:2.5,children:d.map((o,b)=>r.jsx(Y.div,{whileHover:{y:-4},transition:{duration:.2},children:r.jsx(g,{elevation:0,sx:{p:3,borderRadius:"0.75rem",border:"1px solid",borderColor:"divider",transition:"all 0.2s ease-in-out","&:hover":{boxShadow:"0 2px 8px 0 rgba(0,0,0,0.08)"}},className:"transition-all duration-200",children:r.jsxs(f,{direction:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"flex-start"},spacing:2,children:[r.jsxs(f,{direction:"row",spacing:2,alignItems:"flex-start",children:[r.jsx(Ue,{sx:{bgcolor:n(a.palette.primary.main,.1),color:"primary.main",width:48,height:48,mr:2,border:"2px solid",borderColor:"primary.main",borderRadius:"0.75rem"},children:o.type==="interview"?r.jsx(Ve,{}):r.jsx(M,{})}),r.jsxs(s,{children:[r.jsx(l,{variant:"h6",sx:{fontWeight:700},className:"text-gray-800",children:o.title}),r.jsx(l,{variant:"body2",color:"text.secondary",sx:{mt:.5,mb:1.5},children:o.description}),r.jsxs(f,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:"flex-start",sx:{mt:1},children:[r.jsx(y,{icon:r.jsx(Ee,{fontSize:"small"}),label:A(o.start_time,"short"),size:"small",variant:"outlined",sx:{borderRadius:"0.75rem"}}),r.jsx(y,{icon:r.jsx(kr,{fontSize:"small"}),label:`${new Date(o.start_time).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})} -
                                        ${new Date(o.end_time).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}`,size:"small",variant:"outlined",sx:{borderRadius:"0.75rem"}})]}),o.location&&r.jsxs(s,{sx:{display:"flex",alignItems:"center",mt:1.5},children:[r.jsx(G,{fontSize:"small",sx:{color:"primary.main",mr:.5}}),r.jsx(l,{variant:"body2",sx:{fontWeight:500},children:o.location})]}),o.meeting_link&&r.jsx(s,{sx:{display:"flex",alignItems:"center",mt:1},children:r.jsxs(Le,{href:o.meeting_link,target:"_blank",style:{display:"inline-flex",alignItems:"center",textDecoration:"none",color:a.palette.primary.main,fontWeight:500},children:[r.jsx(Rr,{fontSize:"small",sx:{mr:.5}}),"Bergabung dengan Pertemuan"]})})]})]}),r.jsx(y,{label:o.status==="scheduled"?"Terjadwal":o.status==="completed"?"Selesai":o.status==="cancelled"?"Dibatalkan":o.status,size:"small",color:o.status==="scheduled"?"primary":o.status==="completed"?"success":o.status==="cancelled"?"error":"default",sx:{fontWeight:600,borderRadius:"0.5rem",height:24}})]})})},b))}):r.jsxs(s,{sx:{p:5,textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"260px",bgcolor:n(a.palette.background.paper,.5),borderRadius:"0.75rem",border:"1px dashed",borderColor:n(a.palette.divider,.3)},children:[r.jsx(s,{sx:{width:80,height:80,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:n(a.palette.primary.main,.1),mb:2},children:r.jsx(M,{sx:{fontSize:40,color:"primary.main"}})}),r.jsx(l,{variant:"h6",sx:{fontWeight:700,mb:1},className:"text-gray-800",children:"Tidak Ada Acara Terjadwal"}),r.jsx(l,{variant:"body2",color:"text.secondary",sx:{mb:3,maxWidth:400,mx:"auto"},children:"Belum ada wawancara atau acara yang dijadwalkan untuk lamaran ini."}),r.jsx(v,{variant:"outlined",startIcon:r.jsx(M,{}),onClick:()=>p.visit(route("manager.events.create",{application_id:e.id})),sx:{borderRadius:"0.75rem",py:1.25,fontWeight:500,"&:hover":{borderColor:"primary.main",backgroundColor:n(a.palette.primary.main,.05)}},children:"Jadwalkan Acara Pertama"})]})]})})]})]})}),r.jsx(s,{sx:{flex:"0 0 auto",width:{xs:"100%",lg:"350px"}},children:r.jsxs(f,{spacing:3,children:[r.jsxs(g,{elevation:0,sx:{borderRadius:"0.75rem",border:"1px solid",borderColor:"divider",overflow:"hidden"},children:[r.jsxs(s,{sx:{bgcolor:n(a.palette.primary.main,.05),py:2,px:3,borderBottom:"1px solid",borderColor:"divider",display:"flex",alignItems:"center"},children:[r.jsx(Ve,{fontSize:"small",sx:{color:"primary.main",mr:1}}),r.jsx(l,{variant:"h6",sx:{fontWeight:700},className:"text-gray-800",children:"Profil Kandidat"})]}),r.jsxs(s,{sx:{p:3},children:[r.jsxs(s,{sx:{display:"flex",alignItems:"center",mb:3},children:[r.jsx(Ue,{src:((Ce=e==null?void 0:e.user)==null?void 0:Ce.avatar)||"/images/avatars/default.png",sx:{width:64,height:64,mr:2,bgcolor:n(a.palette.primary.main,.1),border:"2px solid",borderColor:"primary.main",borderRadius:"0.75rem"},children:((Te=(Se=e==null?void 0:e.user)==null?void 0:Se.name)==null?void 0:Te.charAt(0))||"?"}),r.jsxs(s,{children:[r.jsx(l,{variant:"h6",sx:{fontWeight:700},className:"text-gray-800",children:(ke=e==null?void 0:e.user)==null?void 0:ke.name}),r.jsxs(l,{variant:"body2",color:"text.secondary",sx:{display:"flex",alignItems:"center",gap:.5},children:[r.jsx(wr,{fontSize:"small",sx:{color:"primary.main",fontSize:16}}),(Re=e==null?void 0:e.user)==null?void 0:Re.email]})]})]}),r.jsx(ur,{disablePadding:!0,sx:{mb:2,"& .MuiListItem-root":{px:0}},children:((we=e==null?void 0:e.user)==null?void 0:we.profile)&&r.jsxs(r.Fragment,{children:[((Ie=e==null?void 0:e.user)==null?void 0:Ie.profile.phone)&&r.jsxs(P,{disablePadding:!0,sx:{mb:2},children:[r.jsx(D,{sx:{minWidth:36,color:"primary.main"},children:r.jsx(Wr,{fontSize:"small"})}),r.jsx(_,{primary:(We=e==null?void 0:e.user)==null?void 0:We.profile.phone,primaryTypographyProps:{variant:"body2",fontWeight:500}})]}),((Me=e==null?void 0:e.user)==null?void 0:Me.profile.address)&&r.jsxs(P,{disablePadding:!0,sx:{mb:2},children:[r.jsx(D,{sx:{minWidth:36,color:"primary.main"},children:r.jsx(G,{fontSize:"small"})}),r.jsx(_,{primary:(Pe=e==null?void 0:e.user)==null?void 0:Pe.profile.address,primaryTypographyProps:{variant:"body2",fontWeight:500}})]}),((De=e==null?void 0:e.user)==null?void 0:De.profile.education)&&r.jsxs(P,{disablePadding:!0,sx:{mb:2},children:[r.jsx(D,{sx:{minWidth:36,color:"primary.main"},children:r.jsx(Mr,{fontSize:"small"})}),r.jsx(_,{primary:"Pendidikan",secondary:(_e=e==null?void 0:e.user)==null?void 0:_e.profile.education,primaryTypographyProps:{variant:"body2",fontWeight:500,color:"text.secondary",mb:.5},secondaryTypographyProps:{variant:"body2",fontWeight:500,color:"text.primary"}})]}),((ze=e==null?void 0:e.user)==null?void 0:ze.profile.skills)&&r.jsxs(P,{disablePadding:!0,sx:{mb:2},children:[r.jsx(D,{sx:{minWidth:36,color:"primary.main"},children:r.jsx(z,{fontSize:"small"})}),r.jsx(_,{primary:"Keahlian",secondary:r.jsx(s,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mt:.5},children:(Ae=e==null?void 0:e.user)==null?void 0:Ae.profile.skills.split(",").map((o,b)=>r.jsx(y,{label:o.trim(),size:"small",variant:"outlined",sx:{borderRadius:"0.5rem",fontSize:"0.75rem"}},b))}),primaryTypographyProps:{variant:"body2",fontWeight:500,color:"text.secondary"}})]}),e.user.profile.experience&&r.jsxs(P,{disablePadding:!0,sx:{mb:1.5},children:[r.jsx(D,{sx:{minWidth:36,color:"primary.main"},children:r.jsx(Ir,{fontSize:"small"})}),r.jsx(_,{primary:"Pengalaman",secondary:e.user.profile.experience,primaryTypographyProps:{variant:"body2",fontWeight:500,color:"text.secondary",mb:.5},secondaryTypographyProps:{variant:"body2",fontWeight:500,color:"text.primary"}})]})]})})]})]}),r.jsxs(g,{elevation:0,sx:{borderRadius:"0.75rem",border:"1px solid",borderColor:"divider",overflow:"hidden"},children:[r.jsxs(s,{sx:{bgcolor:n(a.palette.primary.main,.05),py:2,px:3,borderBottom:"1px solid",borderColor:"divider",display:"flex",alignItems:"center"},children:[r.jsx(z,{fontSize:"small",sx:{color:"primary.main",mr:1}}),r.jsx(l,{variant:"h6",sx:{fontWeight:700},className:"text-gray-800",children:"Detail Lowongan"})]}),r.jsxs(s,{sx:{p:3},children:[r.jsx(l,{variant:"h6",sx:{fontWeight:700,mb:1},className:"text-gray-800",children:e.job.title}),r.jsxs(l,{variant:"body2",color:"text.secondary",sx:{display:"flex",alignItems:"center",gap:.5,mb:2},children:[r.jsx(z,{fontSize:"small",sx:{fontSize:16}}),e.job.company.name,r.jsx(s,{component:"span",sx:{mx:.5},children:"•"}),r.jsx(G,{fontSize:"small",sx:{fontSize:16}}),e.job.location]}),r.jsxs(s,{sx:{mt:2,mb:2,display:"flex",flexWrap:"wrap",gap:1},children:[r.jsx(y,{label:e.job.job_type==="full_time"?"Full Time":e.job.job_type==="part_time"?"Part Time":e.job.job_type==="contract"?"Kontrak":e.job.job_type==="internship"?"Magang":e.job.job_type==="freelance"?"Freelance":e.job.job_type,size:"small",color:"primary",variant:"outlined",sx:{borderRadius:"0.75rem",fontWeight:500}}),e.job.category&&r.jsx(y,{label:e.job.category.name,size:"small",color:"primary",variant:"outlined",sx:{borderRadius:"0.75rem",fontWeight:500}}),e.job.is_salary_visible&&r.jsx(y,{label:`Rp${e.job.salary_min} - Rp${e.job.salary_max}`,size:"small",color:"success",variant:"outlined",sx:{borderRadius:"0.75rem",fontWeight:500}})]}),r.jsx(Ne,{sx:{my:2}}),r.jsx(s,{sx:{mb:4},children:r.jsxs(g,{elevation:0,sx:{p:2,display:"flex",flexDirection:"column",gap:2,bgcolor:n(a.palette.background.paper,.5),borderRadius:"0.75rem",border:"1px solid",borderColor:n(a.palette.divider,.2)},children:[r.jsxs(f,{direction:"row",spacing:1.5,alignItems:"flex-start",children:[r.jsx(s,{sx:{display:"flex",alignItems:"center",justifyContent:"center",bgcolor:n(a.palette.primary.main,.1),borderRadius:"0.75rem",p:1,mr:1,minWidth:36,minHeight:36},children:r.jsx(Ee,{sx:{color:"primary.main",fontSize:20}})}),r.jsxs(s,{children:[r.jsx(l,{variant:"body2",color:"text.secondary",fontWeight:"500",children:"Batas Pendaftaran"}),r.jsx(l,{variant:"body2",fontWeight:"600",children:A(e.job.submission_deadline,"short")})]})]}),r.jsxs(f,{direction:"row",spacing:1.5,alignItems:"flex-start",children:[r.jsx(s,{sx:{display:"flex",alignItems:"center",justifyContent:"center",bgcolor:n(a.palette.primary.main,.1),borderRadius:"0.75rem",p:1,mr:1,minWidth:36,minHeight:36},children:r.jsx(Fe,{sx:{color:"primary.main",fontSize:20}})}),r.jsxs(s,{children:[r.jsx(l,{variant:"body2",color:"text.secondary",fontWeight:"500",children:"Lowongan"}),r.jsx(l,{variant:"body2",fontWeight:"600",children:e.job.vacancies})]})]}),r.jsxs(f,{direction:"row",spacing:1.5,alignItems:"flex-start",children:[r.jsx(s,{sx:{display:"flex",alignItems:"center",justifyContent:"center",bgcolor:n(a.palette.primary.main,.1),borderRadius:"0.75rem",p:1,mr:1,minWidth:36,minHeight:36},children:r.jsx(z,{sx:{color:"primary.main",fontSize:20}})}),r.jsxs(s,{children:[r.jsx(l,{variant:"body2",color:"text.secondary",fontWeight:"500",children:"Level Pengalaman"}),r.jsx(l,{variant:"body2",fontWeight:"600",children:e.job.experience_level||"Tidak ditentukan"})]})]})]})}),r.jsx(s,{sx:{mt:3,mb:1},children:r.jsx(v,{fullWidth:!0,variant:"outlined",startIcon:r.jsx(z,{}),onClick:()=>p.visit(route("manager.jobs.show",e.job.id)),sx:{borderRadius:"0.75rem",py:1.25,fontWeight:600,"&:hover":{borderColor:"primary.main",backgroundColor:n(a.palette.primary.main,.05)},transition:"all 0.2s ease"},className:"transition-all duration-200",children:"Lihat Detail Lowongan"})})]})]}),r.jsxs(g,{elevation:0,sx:{borderRadius:"0.75rem",border:"1px solid",borderColor:"divider",overflow:"hidden"},children:[r.jsxs(s,{sx:{bgcolor:n(a.palette.primary.main,.05),py:2,px:3,borderBottom:"1px solid",borderColor:"divider",display:"flex",alignItems:"center"},children:[r.jsx(He,{fontSize:"small",sx:{color:"primary.main",mr:1}}),r.jsx(l,{variant:"h6",sx:{fontWeight:700},className:"text-gray-800",children:"Tindakan Cepat"})]}),r.jsx(s,{sx:{p:3},children:r.jsxs(f,{spacing:2,children:[r.jsx(v,{variant:"contained",color:"success",startIcon:r.jsx($e,{}),fullWidth:!0,onClick:()=>h(!0),sx:{borderRadius:"0.75rem",py:1.25,fontWeight:600,boxShadow:"none","&:hover":{boxShadow:"0 2px 8px 0 rgba(76, 175, 80, 0.15)",transform:"translateY(-2px)"},transition:"all 0.2s ease"},className:"transition-all duration-200",children:"Terima Lamaran"}),r.jsx(v,{variant:"outlined",color:"error",startIcon:r.jsx(Pr,{}),fullWidth:!0,onClick:()=>F(!0),sx:{borderRadius:"0.75rem",py:1.25,fontWeight:600,"&:hover":{borderColor:"error.main",backgroundColor:n(a.palette.error.main,.05)},transition:"all 0.2s ease"},className:"transition-all duration-200",children:"Tolak Lamaran"}),r.jsx(v,{variant:"outlined",color:"primary",startIcon:r.jsx(M,{}),fullWidth:!0,onClick:()=>p.visit(route("manager.events.create",{application_id:e.id})),sx:{borderRadius:"0.75rem",py:1.25,fontWeight:600,"&:hover":{borderColor:"primary.main",backgroundColor:n(a.palette.primary.main,.05)},transition:"all 0.2s ease"},className:"transition-all duration-200",children:"Jadwalkan Wawancara"})]})})]})]})})]}),r.jsx(N,{open:j,onClose:sr,title:"Ubah Status Lamaran",confirmButton:!0,cancelButton:!0,onConfirm:tr,maxWidth:"sm",PaperProps:{sx:{borderRadius:"0.75rem"}},children:r.jsxs(s,{sx:{p:1},children:[r.jsx(l,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Pilih status baru untuk lamaran ini. Status ini akan ditampilkan kepada kandidat di portal mereka."}),r.jsx(Be,{label:"Status",value:Q,onChange:rr,options:i.map(o=>({value:o.id,label:o.name})),fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:"0.75rem"}}})]})}),r.jsx(N,{open:U,onClose:ar,title:"Ubah Tahap Lamaran",confirmButton:!0,cancelButton:!0,onConfirm:Ze,maxWidth:"sm",PaperProps:{sx:{borderRadius:"0.75rem"}},children:r.jsxs(s,{sx:{p:1},children:[r.jsx(l,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Pilih tahap baru untuk lamaran ini. Perubahan tahap akan dicatat dalam linimasa lamaran."}),r.jsxs(f,{spacing:2,children:[r.jsx(Be,{label:"Tahap",value:Z,onChange:er,options:t.map(o=>({value:o.id,label:o.name})),fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:"0.75rem"}}}),r.jsx(J,{label:"Catatan (opsional)",value:oe,onChange:o=>K(o.target.value),fullWidth:!0,multiline:!0,rows:4,sx:{"& .MuiOutlinedInput-root":{borderRadius:"0.75rem"}},placeholder:"Tambahkan catatan mengenai perubahan tahap ini..."})]})]})}),r.jsx(N,{open:H,onClose:ir,title:"Tambah Catatan",confirmButton:!0,cancelButton:!0,onConfirm:Qe,maxWidth:"sm",PaperProps:{sx:{borderRadius:"0.75rem"}},children:r.jsxs(s,{sx:{p:1},children:[r.jsx(l,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Tambahkan catatan untuk lamaran ini. Catatan ini hanya dapat dilihat oleh tim rekrutmen."}),r.jsx(J,{label:"Catatan",value:ee,onChange:or,fullWidth:!0,multiline:!0,rows:4,sx:{"& .MuiOutlinedInput-root":{borderRadius:"0.75rem"}},placeholder:"Masukkan catatan tentang kandidat ini..."})]})}),r.jsx(N,{open:Je,onClose:()=>F(!1),title:"Tolak Lamaran",confirmButton:!0,confirmText:"Tolak Lamaran",confirmColor:"error",cancelButton:!0,onConfirm:Xe,maxWidth:"sm",PaperProps:{sx:{borderRadius:"0.75rem"}},children:r.jsxs(s,{sx:{p:1},children:[r.jsx(l,{variant:"body2",paragraph:!0,children:'Apakah Anda yakin ingin menolak lamaran ini? Ini akan memindahkan lamaran ke status "Ditolak".'}),r.jsxs(g,{elevation:0,sx:{p:2,mb:3,borderRadius:"0.75rem",bgcolor:n(a.palette.error.main,.05),border:"1px solid",borderColor:n(a.palette.error.main,.2)},children:[r.jsx(l,{variant:"body2",fontWeight:"medium",color:"error.main",gutterBottom:!0,children:"Peringatan: Tindakan ini tidak dapat dibatalkan."}),r.jsx(l,{variant:"body2",color:"text.secondary",children:"Kandidat akan menerima notifikasi bahwa lamaran mereka telah ditolak."})]}),r.jsx(J,{rows:4,value:te,onChange:o=>Ge(o.target.value),placeholder:"Alasan penolakan (opsional)",fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:"0.75rem"}}})]})})]})})})})]})};export{ho as default};

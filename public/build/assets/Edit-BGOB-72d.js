import{j as e,q as O,r as u,S as V,a as J,b as l,J as G,A as K,m}from"./app-BUVb_nAj.js";import{B as w,D as Q}from"./Button-DzGhUBn7.js";import{I as f}from"./Input-CZ4N0rVB.js";import{T as W}from"./TextArea-CO0sOTJt.js";import{F as x}from"./FormGroup-DX6tnawx.js";import{I as X,F as Y}from"./FileUpload-CwAWv9wr.js";import{C as Z}from"./Checkbox-DFrHN2i9.js";import{A as y}from"./Alert-W_CUoSxB.js";import{L as ee}from"./Layout-DnkF-NCm.js";import{c as te,u as ie,B as i,T as a,P as c}from"./Button-DFxjcZ8p.js";import{A as C,C as S}from"./Slide-DYtCGdXj.js";import{E as se}from"./Edit-D-W3BsdZ.js";import{A as re}from"./ArrowBack-Cgi6G0-j.js";import{B as g,T as le}from"./Work-CLEsMByH.js";import{C as _}from"./Category-CYeNYdY6.js";import{C as j}from"./CheckCircleOutline-y6eVAwYo.js";import{D as oe}from"./DoDisturbOn-ADLHS0oN.js";import{L as k}from"./Language-E5C48qP4.js";import{T as ae,a as I}from"./Tabs-CQDMEBQN.js";import{T as E}from"./Tune-DYTHHa2E.js";import{D as ne}from"./Description-bLLwqFxn.js";import{C as de}from"./CloudUpload-CD8KO2hp.js";import{E as xe}from"./Email-E4u4F7F-.js";import{P as he}from"./Phone-_DVlyzHf.js";import{L as ce}from"./LocationOn-CpujyWrU.js";import{I as L}from"./Info-CdM9Lqya.js";import{C as ue}from"./Cancel-CvQZ1HG8.js";import{S as me}from"./Save-JdvVwzrr.js";import"./InputLabel-DpN5m5Yk.js";import"./TextField-DdsD0Afg.js";import"./Select-Bh9V9k3o.js";import"./InputAdornment-CzgX0339.js";import"./VisibilityOff-BgFPuDcZ.js";import"./Visibility-clJeQAT9.js";import"./LinearProgress-3EBWbMR1.js";import"./Upload-M5XxF891.js";import"./Alert-j9c9aQEr.js";import"./Close-CafbgWA1.js";import"./Error-CSPDIC8t.js";import"./Check-4ptu1-hL.js";import"./Delete-DjrVMKuP.js";import"./PictureAsPdf-Yr8idwAW.js";import"./InsertDriveFile-BNg7U0hV.js";import"./FormControlLabel-DTCfN-Gd.js";import"./Checkbox-DZaxlRGh.js";import"./SwitchBase-BRw57M3-.js";import"./AlertTitle-CPDkbCwY.js";import"./AccessTime-DXhpyso9.js";import"./ArrowForward-Tz2ikYxH.js";import"./Close-B7UDIhaS.js";import"./Warning-BLg7sOqp.js";import"./CheckCircle-Dd-oaFV0.js";import"./Sidebar-DGzgELZX.js";import"./moment-C5S46NFB.js";import"./id-DNGKkZzB.js";import"./index-Dtg-WGcE.js";import"./Container-DEvTfuj0.js";import"./ChevronRight-FNylUib_.js";import"./Person-5k5xBlAT.js";import"./People-6TwBzk5z.js";import"./Event-DRCIx1GO.js";import"./Footer-DSErbOqA.js";import"./KeyboardArrowRight-By3nsvSL.js";const fe=te(e.jsx("path",{d:"M21 8V7l-3 2-3-2v1l3 2zm1-5H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2M8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3m6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1zm8-6h-8V6h8z"})),zt=({company:t={}})=>{const{auth:pe}=O().props,s=ie(),[P,b]=u.useState(!1),[R,T]=u.useState(""),[M,z]=u.useState("error"),[p,$]=u.useState(0),[D,A]=u.useState((t==null?void 0:t.logo)||null),{data:n,setData:d,post:U,processing:B,errors:o}=V({_method:"PUT",name:(t==null?void 0:t.name)||"",description:(t==null?void 0:t.description)||"",logo:null,website:(t==null?void 0:t.website)||"",address:(t==null?void 0:t.address)||"",phone:(t==null?void 0:t.phone)||"",email:(t==null?void 0:t.email)||"",industry:(t==null?void 0:t.industry)||"",is_active:(t==null?void 0:t.is_active)||!1}),F=r=>{r.preventDefault(),U(route("admin.companies.update",t==null?void 0:t.id),{onSuccess:()=>{T("Company updated successfully."),z("success"),b(!0)},onError:h=>{T("Please check the form for errors."),z("error"),b(!0),window.scrollTo(0,0)}})},H=r=>{const h=r.target.files[0];if(d("logo",h),h){const v=new FileReader;v.onloadend=()=>{A(v.result)},v.readAsDataURL(h)}},q=(r,h)=>{$(h)},N=()=>{d({_method:"PUT",name:(t==null?void 0:t.name)||"",description:(t==null?void 0:t.description)||"",logo:null,website:(t==null?void 0:t.website)||"",address:(t==null?void 0:t.address)||"",phone:(t==null?void 0:t.phone)||"",email:(t==null?void 0:t.email)||"",industry:(t==null?void 0:t.industry)||"",is_active:(t==null?void 0:t.is_active)||!1}),A((t==null?void 0:t.logo)||null)};return e.jsxs(ee,{children:[e.jsx(J,{title:`Edit Company: ${(t==null?void 0:t.name)||""}`}),e.jsxs(i,{sx:{mb:4,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(C,{sx:{width:56,height:56,bgcolor:l(s.palette.primary.main,.1),color:s.palette.primary.main},children:e.jsx(se,{fontSize:"large"})}),e.jsxs(i,{children:[e.jsx(a,{variant:"h4",component:"h1",fontWeight:700,children:"Edit Company"}),e.jsx(a,{variant:"body2",color:"text.secondary",children:"Update company information and status"})]})]}),e.jsx(w,{variant:"outlined",startIcon:e.jsx(re,{}),component:G,href:route("admin.companies.index"),children:"Back to Companies"})]}),e.jsx(K,{children:P&&e.jsx(m.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:e.jsx(y,{severity:M,onClose:()=>b(!1),sx:{mb:3},dense:!0,autoHideDuration:3e3,children:R})})}),e.jsx(c,{elevation:0,sx:{mb:3,p:3,borderRadius:3,boxShadow:"0 2px 10px rgba(0,0,0,0.04)",border:`1px solid ${l(s.palette.divider,.1)}`},children:e.jsxs(i,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{sm:"center"},gap:2},children:[e.jsx(C,{src:(t==null?void 0:t.logo)||null,alt:(t==null?void 0:t.name)||"Company",variant:"rounded",sx:{width:80,height:80,bgcolor:l(s.palette.primary.main,.1),boxShadow:`0 4px 8px ${l(s.palette.common.black,.1)}`},children:!(t!=null&&t.logo)&&e.jsx(g,{fontSize:"large",color:"primary"})}),e.jsxs(i,{sx:{flex:1},children:[e.jsx(a,{variant:"h5",fontWeight:600,children:(t==null?void 0:t.name)||"Company Name"}),e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:2,mt:1,flexWrap:"wrap"},children:[e.jsx(S,{label:(t==null?void 0:t.industry)||"No Industry",size:"small",color:"primary",variant:t!=null&&t.industry?"filled":"outlined",icon:e.jsx(_,{fontSize:"small"}),sx:{fontWeight:500,bgcolor:t!=null&&t.industry?l(s.palette.primary.main,.1):"transparent",color:t!=null&&t.industry?s.palette.primary.main:s.palette.text.disabled}}),e.jsx(S,{label:t!=null&&t.is_active?"Active":"Inactive",size:"small",color:t!=null&&t.is_active?"success":"default",variant:t!=null&&t.is_active?"filled":"outlined",icon:t!=null&&t.is_active?e.jsx(j,{fontSize:"small"}):e.jsx(oe,{fontSize:"small"}),sx:{fontWeight:500,bgcolor:t!=null&&t.is_active?l(s.palette.success.main,.1):"transparent",color:t!=null&&t.is_active?s.palette.success.dark:s.palette.text.disabled}}),(t==null?void 0:t.website)&&e.jsx(le,{title:"Visit Website",children:e.jsx(S,{icon:e.jsx(k,{fontSize:"small"}),label:"Website",size:"small",color:"info",variant:"outlined",component:"a",href:t.website.startsWith("http")?t.website:`https://${t.website}`,target:"_blank",rel:"noopener noreferrer",clickable:!0,sx:{fontWeight:500}})})]})]})]})}),e.jsxs(i,{component:"form",onSubmit:F,children:[e.jsxs(c,{elevation:0,sx:{borderRadius:3,boxShadow:"0 2px 10px rgba(0,0,0,0.04)",border:`1px solid ${l(s.palette.divider,.1)}`,overflow:"hidden",mb:3},children:[e.jsx(i,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(ae,{value:p,onChange:q,"aria-label":"company edit tabs",sx:{px:3,".MuiTabs-indicator":{height:3,borderTopLeftRadius:3,borderTopRightRadius:3},".MuiTab-root":{textTransform:"none",fontWeight:600,fontSize:"0.95rem",py:2,minHeight:48}},children:[e.jsx(I,{label:e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(g,{fontSize:"small"}),e.jsx("span",{children:"Company Information"})]})}),e.jsx(I,{label:e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(fe,{fontSize:"small"}),e.jsx("span",{children:"Contact Details"})]})}),e.jsx(I,{label:e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(E,{fontSize:"small"}),e.jsx("span",{children:"Settings"})]})})]})}),e.jsxs(i,{sx:{p:3},children:[p===0&&e.jsx(m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:e.jsxs(i,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:4},children:[e.jsx(i,{sx:{flex:2},children:e.jsxs(i,{sx:{display:"flex",flexDirection:"column",gap:3},children:[e.jsx(x,{label:"Company Name",required:!0,icon:e.jsx(g,{fontSize:"small",sx:{opacity:.7}}),marginBottom:"medium",children:e.jsx(f,{name:"name",value:n.name,onChange:r=>d("name",r.target.value),required:!0,error:o.name,helperText:o.name,fullWidth:!0,placeholder:"Enter company name"})}),e.jsx(x,{label:"Company Description",icon:e.jsx(ne,{fontSize:"small",sx:{opacity:.7}}),marginBottom:"medium",children:e.jsx(W,{name:"description",value:n.description,onChange:r=>d("description",r.target.value),error:o.description,helperText:o.description,rows:5,fullWidth:!0,placeholder:"Enter company description, mission, and other details..."})}),e.jsxs(i,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:3},children:[e.jsx(i,{sx:{flex:1},children:e.jsx(x,{label:"Company Website",icon:e.jsx(k,{fontSize:"small",sx:{opacity:.7}}),marginBottom:"medium",children:e.jsx(f,{name:"website",value:n.website,onChange:r=>d("website",r.target.value),error:o.website,helperText:o.website||"Include https:// for external links",fullWidth:!0,placeholder:"e.g., www.company.com"})})}),e.jsx(i,{sx:{flex:1},children:e.jsx(x,{label:"Industry",icon:e.jsx(_,{fontSize:"small",sx:{opacity:.7}}),marginBottom:"medium",children:e.jsx(f,{name:"industry",value:n.industry,onChange:r=>d("industry",r.target.value),error:o.industry,helperText:o.industry||"Specify the company's main industry",fullWidth:!0,placeholder:"e.g., Technology, Healthcare, Education"})})})]})]})}),e.jsx(i,{sx:{flex:1},children:e.jsxs(c,{elevation:0,sx:{p:3,height:"100%",borderRadius:2,border:`1px solid ${l(s.palette.divider,.1)}`,bgcolor:l(s.palette.background.paper,.5)},children:[e.jsxs(i,{sx:{mb:2},children:[e.jsxs(a,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(X,{fontSize:"small",color:"primary"}),"Company Logo"]}),e.jsx(a,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Upload a company logo or brand image. This will be displayed on the company profile and job listings."})]}),e.jsxs(i,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:2},children:[e.jsx(C,{src:D,alt:n.name||"Company Logo",variant:"rounded",sx:{width:150,height:150,mb:2,boxShadow:`0 4px 12px ${l(s.palette.common.black,.1)}`,bgcolor:l(s.palette.primary.main,.1)},children:!D&&e.jsx(g,{sx:{fontSize:60},color:"primary"})}),e.jsx(Y,{name:"logo",accept:"image/*",maxSize:2,onChange:H,error:o.logo,helperText:o.logo||"Upload new logo (max 2MB)",dragAndDrop:!0,showPreview:!0,inputProps:{startIcon:e.jsx(de,{}),children:"Upload Logo",variant:"outlined",color:"primary",size:"small",sx:{mt:1}}})]})]})})]})}),p===1&&e.jsx(m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:e.jsxs(i,{sx:{display:"flex",flexDirection:"column",gap:3},children:[e.jsxs(i,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:3},children:[e.jsx(i,{sx:{flex:1},children:e.jsx(x,{label:"Email Address",icon:e.jsx(xe,{fontSize:"small",sx:{opacity:.7}}),marginBottom:"medium",children:e.jsx(f,{name:"email",type:"email",value:n.email,onChange:r=>d("email",r.target.value),error:o.email,helperText:o.email||"Main contact email for the company",fullWidth:!0,placeholder:"company@example.com"})})}),e.jsx(i,{sx:{flex:1},children:e.jsx(x,{label:"Phone Number",icon:e.jsx(he,{fontSize:"small",sx:{opacity:.7}}),marginBottom:"medium",children:e.jsx(f,{name:"phone",value:n.phone,onChange:r=>d("phone",r.target.value),error:o.phone,helperText:o.phone||"Main contact phone for the company",fullWidth:!0,placeholder:"+1 (123) 456-7890"})})})]}),e.jsx(i,{children:e.jsx(x,{label:"Company Address",icon:e.jsx(ce,{fontSize:"small",sx:{opacity:.7}}),marginBottom:"medium",children:e.jsx(W,{name:"address",value:n.address,onChange:r=>d("address",r.target.value),error:o.address,helperText:o.address||"Physical address of the company headquarters or main office",rows:4,fullWidth:!0,placeholder:"Enter full company address"})})}),e.jsx(i,{children:e.jsxs(c,{elevation:0,sx:{p:3,borderRadius:2,bgcolor:l(s.palette.info.main,.05),border:`1px solid ${l(s.palette.info.main,.1)}`,display:"flex",gap:2},children:[e.jsx(L,{color:"info",sx:{mt:.5}}),e.jsxs(i,{children:[e.jsx(a,{variant:"subtitle2",fontWeight:600,color:"info.main",gutterBottom:!0,children:"Contact Information Privacy"}),e.jsx(a,{variant:"body2",color:"text.secondary",children:"The contact information provided here will be visible to job seekers on the company profile page. Make sure to use business contact details that can be made public."})]})]})})]})}),p===2&&e.jsx(m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:e.jsxs(i,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:3},children:[e.jsx(i,{sx:{flex:1},children:e.jsx(c,{elevation:0,sx:{p:3,borderRadius:2,border:`1px solid ${l(s.palette.divider,.1)}`,height:"100%"},children:e.jsxs(x,{label:"Company Status",icon:e.jsx(E,{fontSize:"small",sx:{opacity:.7}}),marginBottom:"medium",children:[e.jsx(i,{sx:{mb:2},children:e.jsx(Z,{label:"Active Company",name:"is_active",checked:n.is_active,onChange:r=>d("is_active",r.target.checked),switchControl:!0,color:"success"})}),e.jsx(i,{sx:{p:2,bgcolor:n.is_active?l(s.palette.success.main,.05):l(s.palette.error.main,.05),borderRadius:2,border:`1px solid ${n.is_active?l(s.palette.success.main,.1):l(s.palette.error.main,.1)}`},children:n.is_active?e.jsxs(a,{variant:"body2",color:"text.secondary",children:[e.jsx("strong",{children:"Active status:"})," This company can post jobs and will be visible to candidates."]}):e.jsxs(a,{variant:"body2",color:"text.secondary",children:[e.jsx("strong",{children:"Inactive status:"})," This company cannot post jobs and will not be visible to candidates."]})})]})})}),e.jsx(i,{sx:{flex:1},children:e.jsxs(c,{elevation:0,sx:{p:3,borderRadius:2,border:`1px solid ${l(s.palette.divider,.1)}`,height:"100%",display:"flex",flexDirection:"column"},children:[e.jsxs(a,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(L,{fontSize:"small",color:"primary"}),"About Company Settings"]}),e.jsx(a,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Managing company settings allows you to control the visibility and functionality of the company profile in the job portal."}),e.jsxs(i,{sx:{mt:2},children:[e.jsxs(a,{variant:"body2",sx:{display:"flex",alignItems:"center",gap:.5,mb:1},children:[e.jsx(j,{fontSize:"small",color:"success"}),"Active companies can post new job listings"]}),e.jsxs(a,{variant:"body2",sx:{display:"flex",alignItems:"center",gap:.5,mb:1},children:[e.jsx(j,{fontSize:"small",color:"success"}),"Active companies are visible in search results"]}),e.jsxs(a,{variant:"body2",sx:{display:"flex",alignItems:"center",gap:.5,mb:1},children:[e.jsx(j,{fontSize:"small",color:"success"}),"Active companies can receive applications"]})]}),e.jsx(Q,{sx:{my:2}}),e.jsx(i,{sx:{mt:"auto"},children:e.jsxs(a,{variant:"caption",color:"text.secondary",children:["Last updated: ",new Date((t==null?void 0:t.updated_at)||Date.now()).toLocaleDateString()]})})]})})]})})]})]}),e.jsxs(i,{sx:{display:"flex",justifyContent:"flex-end",gap:2,mb:4},children:[e.jsx(w,{type:"button",variant:"outlined",color:"error",startIcon:e.jsx(ue,{}),onClick:N,disabled:B,children:"Reset Changes"}),e.jsx(m.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx(w,{type:"submit",variant:"contained",color:"primary",startIcon:e.jsx(me,{}),loading:B,size:"large",sx:{px:3},children:"Save Changes"})})]})]})]})};export{zt as default};

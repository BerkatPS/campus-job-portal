import{q as Y,r as c,j as e,J as R,f as o,b as Z}from"./app-BUVb_nAj.js";import{C as d}from"./Card-vSg9PuMO.js";import{I as tt,B as a,D as b,L as et}from"./Button-DzGhUBn7.js";import{M as y}from"./Modal-B2mKmmvX.js";import{T as J}from"./TextArea-CO0sOTJt.js";import{B as i,T as s,P as st}from"./Button-DFxjcZ8p.js";import{K as rt}from"./KeyboardArrowLeft-CAm5v7jB.js";import{S as O}from"./Send-C49l985x.js";import{E as p}from"./Edit-D-W3BsdZ.js";import{G as l}from"./Grid-CUDx21Kg.js";import{C as m,A as P}from"./Slide-DYtCGdXj.js";import{C as it}from"./CalendarMonth-DeiYDfzL.js";import{P as u}from"./Person-5k5xBlAT.js";import{E as U}from"./Event-DRCIx1GO.js";import{L as at}from"./LocationOn-CpujyWrU.js";import{V}from"./VideoCall-Cb63ckiV.js";import{B as N}from"./BusinessCenter-CsY4Qukq.js";import{C as ot}from"./CheckCircle-Dd-oaFV0.js";import{C as nt}from"./CancelOutlined-Dclprzkl.js";import{D as lt}from"./Delete-DjrVMKuP.js";import"./Card-D_rkxkaC.js";import"./MoreVert-PY4ZbxeC.js";import"./CardHeader-D023TrKm.js";import"./CardContent-DTmJK9ga.js";import"./DialogContent-D4sYn80t.js";import"./DialogTitle-DUJu7qVS.js";import"./Close-B7UDIhaS.js";import"./DialogContentText-B8PLj8LQ.js";import"./InputLabel-DpN5m5Yk.js";import"./TextField-DdsD0Afg.js";import"./Select-Bh9V9k3o.js";import"./InputAdornment-CzgX0339.js";const Ft=()=>{var C,v,w,E,I,W,S,_,D,k,B,A,M,L,T;const{event:t={},flash:ct={}}=Y().props,[F,h]=c.useState(!1),[G,j]=c.useState(!1),[K,f]=c.useState(!1),[dt,mt]=c.useState(!1),[x,g]=c.useState(""),q=()=>{o.post(route("manager.events.update-status-post",t==null?void 0:t.id),{status:"completed",notes:x},{preserveScroll:!0,onSuccess:()=>j(!1)})},$=()=>{o.post(route("manager.events.update-status-post",t==null?void 0:t.id),{status:"cancelled",notes:x},{preserveScroll:!0,onSuccess:()=>h(!1)})},H=()=>{o.delete(route("manager.events.destroy",t==null?void 0:t.id),{onSuccess:()=>f(!1)})},Q=()=>{o.post(route("manager.events.send-reminder",t==null?void 0:t.id),{},{preserveScroll:!0})};return e.jsxs(i,{children:[e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(R,{href:route("manager.events.index"),children:e.jsx(tt,{sx:{mr:2},children:e.jsx(rt,{})})}),e.jsxs(i,{children:[e.jsx(s,{variant:"h5",fontWeight:"600",children:(t==null?void 0:t.title)||"Event Details"}),e.jsxs(s,{variant:"body2",color:"text.secondary",children:[t!=null&&t.type?t.type.charAt(0).toUpperCase()+t.type.slice(1):"Event"," · ",t!=null&&t.start_time?new Date(t.start_time).toLocaleDateString():"-"]})]})]}),e.jsx(i,{sx:{display:"flex",gap:2},children:(t==null?void 0:t.status)==="scheduled"&&e.jsxs(e.Fragment,{children:[e.jsx(a,{variant:"outlined",startIcon:e.jsx(O,{}),onClick:Q,children:"Send Reminder"}),e.jsx(a,{variant:"contained",startIcon:e.jsx(p,{}),onClick:()=>o.visit(route("manager.events.edit",t.id)),children:"Edit Event"})]})})]}),e.jsxs(l,{container:!0,spacing:3,children:[e.jsxs(l,{item:!0,xs:12,md:8,children:[e.jsxs(d,{variant:"outlined",title:"Event Details",icon:e.jsx(U,{}),sx:{mb:3},children:[e.jsx(i,{sx:{mb:3},children:e.jsx(m,{label:(t==null?void 0:t.status)||"Status Unknown",size:"medium",color:(t==null?void 0:t.status)==="scheduled"?"primary":(t==null?void 0:t.status)==="completed"?"success":(t==null?void 0:t.status)==="cancelled"?"error":"default",sx:{fontWeight:500,borderRadius:2}})}),(t==null?void 0:t.description)&&e.jsxs(i,{sx:{mb:3},children:[e.jsx(s,{variant:"subtitle1",fontWeight:"600",gutterBottom:!0,children:"Description"}),e.jsx(s,{variant:"body2",paragraph:!0,children:t.description})]}),e.jsx(b,{sx:{my:3}}),e.jsxs(l,{container:!0,spacing:3,children:[e.jsxs(l,{item:!0,xs:12,md:6,children:[e.jsx(s,{variant:"subtitle1",fontWeight:"600",gutterBottom:!0,children:"Date & Time"}),e.jsxs(i,{sx:{display:"flex",alignItems:"flex-start",mb:2},children:[e.jsx(it,{sx:{color:"primary.main",mr:1.5}}),e.jsxs(i,{children:[e.jsx(s,{variant:"body2",fontWeight:"500",children:t!=null&&t.start_time?new Date(t.start_time).toLocaleDateString():"-"}),e.jsxs(s,{variant:"body2",color:"text.secondary",children:[t!=null&&t.start_time?new Date(t.start_time).toLocaleTimeString():"-"," - ",t!=null&&t.end_time?new Date(t.end_time).toLocaleTimeString():"-"]})]})]})]}),e.jsxs(l,{item:!0,xs:12,md:6,children:[e.jsx(s,{variant:"subtitle1",fontWeight:"600",gutterBottom:!0,children:"Event Type"}),e.jsx(i,{sx:{display:"flex",alignItems:"center"},children:e.jsx(m,{icon:t!=null&&t.type&&t.type==="interview"?e.jsx(u,{fontSize:"small"}):e.jsx(U,{fontSize:"small"}),label:t!=null&&t.type?t.type.charAt(0).toUpperCase()+t.type.slice(1):"Event",size:"medium",sx:{bgcolor:t!=null&&t.type&&t.type==="interview"?"primary.main":"secondary.main",color:"white",fontWeight:500}})})]})]}),e.jsx(b,{sx:{my:3}}),(t==null?void 0:t.location)&&e.jsxs(i,{sx:{mb:3},children:[e.jsx(s,{variant:"subtitle1",fontWeight:"600",gutterBottom:!0,children:"Location"}),e.jsxs(i,{sx:{display:"flex",alignItems:"flex-start"},children:[e.jsx(at,{sx:{color:"primary.main",mr:1.5}}),e.jsx(s,{variant:"body2",children:t.location})]})]}),(t==null?void 0:t.meeting_link)&&e.jsxs(i,{sx:{mb:3},children:[e.jsx(s,{variant:"subtitle1",fontWeight:"600",gutterBottom:!0,children:"Meeting Link"}),e.jsxs(i,{sx:{display:"flex",alignItems:"flex-start"},children:[e.jsx(V,{sx:{color:"primary.main",mr:1.5}}),e.jsxs(i,{children:[e.jsx(R,{href:t.meeting_link,target:"_blank",children:e.jsx(a,{variant:"outlined",size:"small",startIcon:e.jsx(V,{}),children:"Join Meeting"})}),e.jsx(s,{variant:"caption",display:"block",sx:{mt:1},children:t.meeting_link})]})]})]}),e.jsx(b,{sx:{my:3}}),e.jsx(s,{variant:"subtitle1",fontWeight:"600",gutterBottom:!0,children:"Attendees"}),t!=null&&t.attendees&&t.attendees.length>0?e.jsx(i,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:t.attendees.map((r,n)=>e.jsx(m,{avatar:e.jsx(P,{children:e.jsx(u,{fontSize:"small"})}),label:r,size:"medium",variant:"outlined"},n))}):e.jsx(s,{variant:"body2",color:"text.secondary",children:"No specific attendees listed"})]}),(t==null?void 0:t.notes)&&t.notes.length>0&&e.jsx(d,{variant:"outlined",title:"Event Notes",icon:e.jsx(p,{}),sx:{mb:3},children:e.jsx(et,{sx:{p:0},children:t.notes.map((r,n)=>{var z;return e.jsxs(st,{variant:"outlined",sx:{p:2,mb:2,borderRadius:2,bgcolor:X=>Z(X.palette.primary.main,.03)},children:[e.jsx(s,{variant:"body2",sx:{whiteSpace:"pre-line"},children:r==null?void 0:r.content}),e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[e.jsxs(s,{variant:"caption",color:"text.secondary",children:["Added by ",((z=r==null?void 0:r.user)==null?void 0:z.name)||"User"]}),e.jsx(s,{variant:"caption",color:"text.secondary",children:r!=null&&r.created_at?new Date(r.created_at).toLocaleString():"-"})]})]},n)})})})]}),e.jsxs(l,{item:!0,xs:12,md:4,children:[(t==null?void 0:t.job_application)&&e.jsxs(d,{variant:"outlined",title:"Candidate Information",icon:e.jsx(u,{}),sx:{mb:3},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(P,{src:((v=(C=t.job_application)==null?void 0:C.user)==null?void 0:v.avatar)||"/images/avatars/default.png",sx:{width:56,height:56,mr:2}}),e.jsxs(i,{children:[e.jsx(s,{variant:"h6",fontWeight:"600",children:((E=(w=t.job_application)==null?void 0:w.user)==null?void 0:E.name)||"Candidate"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:((W=(I=t.job_application)==null?void 0:I.user)==null?void 0:W.email)||"-"})]})]}),e.jsx(a,{variant:"outlined",fullWidth:!0,startIcon:e.jsx(u,{}),onClick:()=>{var r;return o.visit(route("manager.applications.show",(r=t.job_application)==null?void 0:r.id))},sx:{mb:2},children:"View Application"}),e.jsx(a,{variant:"outlined",fullWidth:!0,startIcon:e.jsx(O,{}),onClick:()=>{var r,n;return window.open(`mailto:${(n=(r=t.job_application)==null?void 0:r.user)==null?void 0:n.email}`)},children:"Email Candidate"}),((D=(_=(S=t.job_application)==null?void 0:S.user)==null?void 0:_.profile)==null?void 0:D.phone)&&e.jsxs(i,{sx:{mt:3},children:[e.jsx(s,{variant:"subtitle2",gutterBottom:!0,children:"Phone"}),e.jsx(s,{variant:"body2",children:t.job_application.user.profile.phone})]})]}),(t==null?void 0:t.job)&&e.jsxs(d,{variant:"outlined",title:"Job Position",icon:e.jsx(N,{}),sx:{mb:3},children:[e.jsx(s,{variant:"h6",fontWeight:"600",children:((k=t.job)==null?void 0:k.title)||"Job Title"}),e.jsxs(s,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:[((A=(B=t.job)==null?void 0:B.company)==null?void 0:A.name)||"Company"," · ",((M=t.job)==null?void 0:M.location)||"Location"]}),e.jsxs(i,{sx:{mt:2,mb:2,display:"flex",flexWrap:"wrap",gap:1},children:[((L=t.job)==null?void 0:L.job_type)&&e.jsx(m,{label:t.job.job_type,size:"small",color:"primary",variant:"outlined"}),((T=t.job)==null?void 0:T.category)&&e.jsx(m,{label:t.job.category.name,size:"small",color:"primary",variant:"outlined"})]}),e.jsx(a,{variant:"outlined",fullWidth:!0,startIcon:e.jsx(N,{}),onClick:()=>{var r;return o.visit(route("manager.jobs.show",(r=t.job)==null?void 0:r.id))},sx:{mt:2},children:"View Job Details"})]}),e.jsx(d,{variant:"outlined",title:"Actions",icon:e.jsx(p,{}),children:e.jsxs(i,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(t==null?void 0:t.status)==="scheduled"&&e.jsxs(e.Fragment,{children:[e.jsx(a,{variant:"contained",color:"success",startIcon:e.jsx(ot,{}),fullWidth:!0,onClick:()=>j(!0),children:"Mark as Completed"}),e.jsx(a,{variant:"outlined",color:"error",startIcon:e.jsx(nt,{}),fullWidth:!0,onClick:()=>h(!0),children:"Cancel Event"})]}),e.jsx(a,{variant:"outlined",startIcon:e.jsx(p,{}),fullWidth:!0,onClick:()=>o.visit(route("manager.events.edit",t==null?void 0:t.id)),disabled:(t==null?void 0:t.status)==="cancelled",children:"Edit Event"}),e.jsx(a,{variant:"outlined",color:"error",startIcon:e.jsx(lt,{}),fullWidth:!0,onClick:()=>f(!0),children:"Delete Event"})]})})]})]}),e.jsxs(y,{open:G,onClose:()=>j(!1),title:"Mark Event as Completed",confirmButton:!0,confirmText:"Mark as Completed",confirmColor:"success",cancelButton:!0,onConfirm:q,maxWidth:"sm",children:[e.jsx(s,{variant:"body2",paragraph:!0,children:"Are you sure you want to mark this event as completed?"}),e.jsx(J,{rows:4,value:x,onChange:r=>g(r.target.value),placeholder:"Add notes about the event outcome (optional)",fullWidth:!0})]}),e.jsxs(y,{open:F,onClose:()=>h(!1),title:"Cancel Event",confirmButton:!0,confirmText:"Cancel Event",confirmColor:"error",cancelButton:!0,onConfirm:$,maxWidth:"sm",children:[e.jsx(s,{variant:"body2",paragraph:!0,children:"Are you sure you want to cancel this event? All attendees will be notified."}),e.jsx(J,{rows:4,value:x,onChange:r=>g(r.target.value),placeholder:"Add a reason for cancellation (optional)",fullWidth:!0})]}),e.jsx(y,{open:K,onClose:()=>f(!1),title:"Delete Event",confirmButton:!0,confirmText:"Delete Event",confirmColor:"error",cancelButton:!0,onConfirm:H,maxWidth:"sm",children:e.jsx(s,{variant:"body2",paragraph:!0,children:"Are you sure you want to delete this event? This action cannot be undone."})})]})};export{Ft as default};

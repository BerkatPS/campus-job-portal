import{r as h,S as L,j as e,a as F,m as f,b as t,J as A}from"./app-BUVb_nAj.js";import{L as E}from"./Layout-DnkF-NCm.js";import{u as G,B as l,a as C,T as d,P as I,C as z}from"./Button-DFxjcZ8p.js";import{C as U}from"./Container-DEvTfuj0.js";import{A as J}from"./ArrowBack-Cgi6G0-j.js";import{A as N}from"./Alert-j9c9aQEr.js";import{A as $}from"./Slide-DYtCGdXj.js";import{B as K,M as Y}from"./Work-CLEsMByH.js";import{I as w,D as q}from"./Button-DzGhUBn7.js";import{P as H}from"./PhotoCamera-DMFcExI6.js";import{D as Q}from"./Delete-DjrVMKuP.js";import{S as O}from"./Stack-DUsTNRwi.js";import{T as u}from"./TextField-DdsD0Afg.js";import{S as V}from"./Save-JdvVwzrr.js";import"./Sidebar-DGzgELZX.js";import"./moment-C5S46NFB.js";import"./id-DNGKkZzB.js";import"./index-Dtg-WGcE.js";import"./CheckCircle-Dd-oaFV0.js";import"./ChevronRight-FNylUib_.js";import"./Person-5k5xBlAT.js";import"./Info-CdM9Lqya.js";import"./People-6TwBzk5z.js";import"./Event-DRCIx1GO.js";import"./Footer-DSErbOqA.js";import"./Close-CafbgWA1.js";import"./Select-Bh9V9k3o.js";import"./InputLabel-DpN5m5Yk.js";const Oe=({company:p,industries:P})=>{const r=G(),[c,y]=h.useState(p.logo),[v,b]=h.useState(0),[m,g]=h.useState(!1),x=h.useRef(null),{data:i,setData:s,errors:a,post:M,processing:j,recentlySuccessful:S,reset:k}=L({name:p.name||"",description:p.description||"",industry:p.industry||"",website:p.website||"",phone:p.phone||"",email:p.email||"",address:p.address||"",logo:null}),R=o=>{o.preventDefault(),g(!0);const n=new FormData;n.append("name",i.name),n.append("description",i.description),n.append("industry",i.industry),n.append("website",i.website),n.append("phone",i.phone),n.append("email",i.email),n.append("address",i.address),i.logo&&n.append("logo",i.logo),M(route("manager.company-profile.update"),{data:n,preserveScroll:!0,forceFormData:!0,onProgress:B=>{b(B.percentage)},onSuccess:()=>{k("logo"),g(!1),b(0)},onError:()=>{g(!1),b(0)}})},W=o=>{const n=o.target.files[0];if(n){if(!["image/jpeg","image/png","image/jpg","image/gif"].includes(n.type)){alert("Please upload a valid image file (JPG, JPEG, PNG, GIF)");return}if(n.size>2*1024*1024){alert("File size should be less than 2MB");return}s("logo",n),y(URL.createObjectURL(n))}},T=()=>{x.current.click()},D=()=>{y(null),s("logo",null),x.current&&(x.current.value="")};return e.jsxs(E,{children:[e.jsx(F,{title:"Edit Profil Perusahaan"}),e.jsx(U,{maxWidth:"lg",children:e.jsxs(l,{sx:{py:4},children:[e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxs(l,{sx:{display:"flex",mb:4,alignItems:"center",flexWrap:"wrap",gap:2},children:[e.jsx(C,{component:A,href:route("manager.company-profile.index"),startIcon:e.jsx(J,{}),variant:"outlined",sx:{borderRadius:"10px",px:2,mr:2,boxShadow:"0 2px 8px rgba(0,0,0,0.05)",borderColor:t(r.palette.primary.main,.3),"&:hover":{borderColor:r.palette.primary.main,backgroundColor:t(r.palette.primary.main,.05)}},children:"Kembali"}),e.jsx(d,{variant:"h4",component:"h1",fontWeight:"bold",color:"primary.main",sx:{background:`linear-gradient(45deg, ${r.palette.primary.main} 30%, ${r.palette.primary.light} 90%)`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Edit Profil Perusahaan"})]}),S&&e.jsx(N,{severity:"success",sx:{mb:3,borderRadius:"10px",boxShadow:"0 4px 12px rgba(0,0,0,0.05)"},children:"Profil perusahaan berhasil diperbarui"})]}),e.jsxs(l,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:3},children:[e.jsx(l,{sx:{width:{xs:"100%",md:"30%"},order:{xs:1,md:1}},children:e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e.jsxs(I,{elevation:0,sx:{p:3,borderRadius:"1.25rem",border:"1px solid",borderColor:t(r.palette.primary.main,.1),height:"100%",display:"flex",flexDirection:"column",alignItems:"center",boxShadow:"0 8px 24px rgba(0,0,0,0.05)",transition:"transform 0.2s ease, box-shadow 0.2s ease","&:hover":{boxShadow:"0 12px 28px rgba(0,0,0,0.08)"}},children:[e.jsx(d,{variant:"h6",fontWeight:"bold",sx:{mb:3,alignSelf:"flex-start",color:r.palette.primary.main,position:"relative","&:after":{content:'""',position:"absolute",bottom:"-8px",left:0,width:"40px",height:"3px",background:r.palette.primary.main,borderRadius:"10px"}},children:"Logo Perusahaan"}),e.jsxs(l,{sx:{position:"relative",mb:3,width:180,height:180},children:[e.jsx($,{src:c,alt:i.name,variant:"rounded",sx:{width:180,height:180,mb:2,bgcolor:t(r.palette.primary.main,.1),color:r.palette.primary.main,fontSize:"3rem",borderRadius:"1rem",boxShadow:"0 8px 20px rgba(0,0,0,0.1)",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.03)"}},children:!c&&e.jsx(K,{sx:{fontSize:"4rem"}})}),m&&e.jsxs(l,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:t("#000",.5),borderRadius:"1rem",zIndex:2},children:[e.jsx(z,{variant:"determinate",value:v,size:60,sx:{color:"white"}}),e.jsx(d,{variant:"body2",component:"div",sx:{position:"absolute",color:"white",fontWeight:"bold"},children:`${Math.round(v)}%`})]}),e.jsx("input",{id:"logo-upload",type:"file",accept:"image/png, image/jpeg, image/jpg, image/gif",hidden:!0,ref:x,onChange:W}),e.jsxs(l,{sx:{position:"absolute",bottom:0,right:0,display:"flex",gap:1},children:[e.jsx(w,{onClick:T,sx:{bgcolor:r.palette.primary.main,color:"white",boxShadow:"0 4px 12px rgba(0,0,0,0.15)","&:hover":{bgcolor:r.palette.primary.dark},transition:"all 0.2s ease"},disabled:m,children:e.jsx(H,{})}),c&&e.jsx(w,{onClick:D,sx:{bgcolor:r.palette.error.main,color:"white",boxShadow:"0 4px 12px rgba(0,0,0,0.15)","&:hover":{bgcolor:r.palette.error.dark},transition:"all 0.2s ease"},disabled:m,children:e.jsx(Q,{})})]})]}),e.jsx(d,{variant:"body2",color:"text.secondary",sx:{mb:2,textAlign:"center",px:2,py:1,bgcolor:t(r.palette.primary.main,.05),borderRadius:"8px"},children:"Unggah logo dengan ukuran maksimal 2MB. Format yang didukung: JPG, PNG, GIF."}),a.logo&&e.jsx(d,{variant:"body2",color:"error",sx:{mt:1,fontWeight:"medium"},children:a.logo})]})})}),e.jsx(l,{sx:{width:{xs:"100%",md:"70%"},order:{xs:2,md:2}},children:e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:e.jsx("form",{onSubmit:R,children:e.jsxs(I,{elevation:0,sx:{borderRadius:"1.25rem",border:"1px solid",borderColor:t(r.palette.primary.main,.1),mb:4,overflow:"hidden",boxShadow:"0 8px 24px rgba(0,0,0,0.05)",transition:"transform 0.2s ease, box-shadow 0.2s ease","&:hover":{boxShadow:"0 12px 28px rgba(0,0,0,0.08)"}},children:[e.jsxs(l,{sx:{p:{xs:3,md:4}},children:[e.jsx(d,{variant:"h6",component:"h2",fontWeight:"bold",sx:{mb:3,color:r.palette.primary.main,position:"relative","&:after":{content:'""',position:"absolute",bottom:"-8px",left:0,width:"40px",height:"3px",background:r.palette.primary.main,borderRadius:"10px"}},children:"Informasi Perusahaan"}),e.jsxs(O,{spacing:3,children:[e.jsx(u,{label:"Nama Perusahaan",fullWidth:!0,value:i.name,onChange:o=>s("name",o.target.value),error:!!a.name,helperText:a.name,InputProps:{sx:{borderRadius:"10px","& .MuiOutlinedInput-notchedOutline":{borderColor:t(r.palette.primary.main,.2)},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:t(r.palette.primary.main,.5)},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:r.palette.primary.main}}}}),e.jsx(u,{select:!0,label:"Industri",fullWidth:!0,value:i.industry,onChange:o=>s("industry",o.target.value),error:!!a.industry,helperText:a.industry,InputProps:{sx:{borderRadius:"10px","& .MuiOutlinedInput-notchedOutline":{borderColor:t(r.palette.primary.main,.2)},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:t(r.palette.primary.main,.5)},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:r.palette.primary.main}}},children:P.map(o=>e.jsx(Y,{value:o.id,children:o.name},o.id))}),e.jsx(u,{label:"Deskripsi Perusahaan",fullWidth:!0,multiline:!0,rows:4,value:i.description,onChange:o=>s("description",o.target.value),error:!!a.description,helperText:a.description,InputProps:{sx:{borderRadius:"10px","& .MuiOutlinedInput-notchedOutline":{borderColor:t(r.palette.primary.main,.2)},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:t(r.palette.primary.main,.5)},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:r.palette.primary.main}}}})]}),e.jsx(q,{sx:{my:4,borderColor:t(r.palette.primary.main,.1)}}),e.jsx(d,{variant:"h6",component:"h2",fontWeight:"bold",sx:{mb:3,color:r.palette.primary.main,position:"relative","&:after":{content:'""',position:"absolute",bottom:"-8px",left:0,width:"40px",height:"3px",background:r.palette.primary.main,borderRadius:"10px"}},children:"Kontak & Lokasi"}),e.jsxs(O,{spacing:3,children:[e.jsxs(l,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2},children:[e.jsx(u,{label:"Email",fullWidth:!0,type:"email",value:i.email,onChange:o=>s("email",o.target.value),error:!!a.email,helperText:a.email,InputProps:{sx:{borderRadius:"10px","& .MuiOutlinedInput-notchedOutline":{borderColor:t(r.palette.primary.main,.2)},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:t(r.palette.primary.main,.5)},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:r.palette.primary.main}}}}),e.jsx(u,{label:"Telepon",fullWidth:!0,value:i.phone,onChange:o=>s("phone",o.target.value),error:!!a.phone,helperText:a.phone,InputProps:{sx:{borderRadius:"10px","& .MuiOutlinedInput-notchedOutline":{borderColor:t(r.palette.primary.main,.2)},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:t(r.palette.primary.main,.5)},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:r.palette.primary.main}}}})]}),e.jsx(u,{label:"Website",fullWidth:!0,value:i.website,onChange:o=>s("website",o.target.value),error:!!a.website,helperText:a.website,InputProps:{sx:{borderRadius:"10px","& .MuiOutlinedInput-notchedOutline":{borderColor:t(r.palette.primary.main,.2)},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:t(r.palette.primary.main,.5)},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:r.palette.primary.main}}}}),e.jsx(u,{label:"Alamat Lengkap",fullWidth:!0,multiline:!0,rows:3,value:i.address,onChange:o=>s("address",o.target.value),error:!!a.address,helperText:a.address,InputProps:{sx:{borderRadius:"10px","& .MuiOutlinedInput-notchedOutline":{borderColor:t(r.palette.primary.main,.2)},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:t(r.palette.primary.main,.5)},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:r.palette.primary.main}}}})]})]}),e.jsx(l,{sx:{p:{xs:3,md:4},bgcolor:t(r.palette.primary.main,.03),borderTop:"1px solid",borderColor:t(r.palette.primary.main,.1),display:"flex",justifyContent:"flex-end"},children:e.jsx(C,{type:"submit",variant:"contained",color:"primary",startIcon:e.jsx(V,{}),disabled:j||m,sx:{borderRadius:"10px",px:3,py:1.2,boxShadow:"0 4px 12px rgba(0,0,0,0.15)",transition:"all 0.2s ease","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 16px rgba(0,0,0,0.2)"}},children:j?"Menyimpan...":"Simpan Perubahan"})})]})})})})]})]})})]})};export{Oe as default};

import{q as le,r as c,S as de,j as e,a as ce,b as n,J as m,f as xe}from"./app-BUVb_nAj.js";import{h as E}from"./moment-C5S46NFB.js";import{L as pe}from"./Layout-DnkF-NCm.js";import{u as me,B as o,T as l,a as j,P as F}from"./Button-DFxjcZ8p.js";import{A as H}from"./Add-Dwuu4lJj.js";import{C as S}from"./Card-D_rkxkaC.js";import{C as w}from"./CardContent-DTmJK9ga.js";import{B as C,W as I,S as he,M as d,T as k,a as D,b as T}from"./Work-CLEsMByH.js";import{E as K}from"./Edit-D-W3BsdZ.js";import{T as R}from"./TextField-DdsD0Afg.js";import{I as ue}from"./InputAdornment-CzgX0339.js";import{F as ge}from"./FilterAlt-D2Yj-2Tu.js";import{I as W,M as fe,D as je}from"./Button-DzGhUBn7.js";import{R as ye}from"./Sidebar-DGzgELZX.js";import{T as be}from"./Tune-DYTHHa2E.js";import{T as ve,a as Se,b as we,c as z,d as i,e as Ce}from"./TableRow-BgPH6iWY.js";import{L as Ie}from"./LocationOn-CpujyWrU.js";import{C as V}from"./Slide-DYtCGdXj.js";import{C as ke}from"./CalendarMonth-DeiYDfzL.js";import{P as De}from"./Person-5k5xBlAT.js";import{M as Te}from"./MoreVert-PY4ZbxeC.js";import{P as Re,a as We}from"./Pagination-BCSyKNly.js";import{V as ze}from"./Visibility-clJeQAT9.js";import{D as Pe}from"./Delete-DjrVMKuP.js";import{D as Ae,a as Me,b as Le}from"./DialogContent-D4sYn80t.js";import{D as Be}from"./DialogTitle-DUJu7qVS.js";import{D as Ye}from"./DialogContentText-B8PLj8LQ.js";import"./Footer-DSErbOqA.js";import"./Container-DEvTfuj0.js";import"./index-Dtg-WGcE.js";import"./Select-Bh9V9k3o.js";import"./InputLabel-DpN5m5Yk.js";import"./id-DNGKkZzB.js";import"./CheckCircle-Dd-oaFV0.js";import"./ChevronRight-FNylUib_.js";import"./Info-CdM9Lqya.js";import"./People-6TwBzk5z.js";import"./Event-DRCIx1GO.js";import"./LastPage-B2IJYsVY.js";const Oe=(a,s="DD MMM YYYY")=>{if(!a)return"";try{const h=E(a,[E.ISO_8601,"YYYY-MM-DD"]);return h.isValid()?h.format(s):""}catch(h){return console.error("Error formatting date:",h),""}};function Rr({jobs:a,filters:s}){var B,Y,O,J,_;const{auth:h}=le().props,t=me(),[Je,_e]=c.useState((a==null?void 0:a.current_page)||1),[Ee,Fe]=c.useState(10),[u,q]=c.useState(null),[N,y]=c.useState(!1),[He,$]=c.useState(!1),[P,A]=c.useState(null),[x,G]=c.useState(null),{data:g,setData:b,get:M,processing:Q,errors:L}=de({search:(s==null?void 0:s.search)||"",status:(s==null?void 0:s.status)||"",category:(s==null?void 0:s.category)||"",location:(s==null?void 0:s.location)||""}),U=r=>{r.preventDefault(),M(route("manager.jobs.index",g))},X=r=>{q(r),y(!0)},Z=()=>{u&&xe.delete(route("manager.jobs.destroy",u.id),{onSuccess:()=>{y(!1)}})},ee=(r,p)=>{A(r.currentTarget),G(p)},v=()=>{A(null)},f=r=>r.status==="active"||r.is_active===!0&&(!r.status||r.status==="")?"active":r.status==="draft"?"draft":r.status==="closed"||r.status===void 0&&r.is_active===!1?"closed":r.is_active?"active":"closed",re=r=>{switch(f(r)){case"active":return"success";case"draft":return"warning";case"closed":return"error";default:return"default"}},te=r=>{switch(f(r)){case"active":return"Aktif";case"draft":return"Draft";case"closed":return"Ditutup";default:return"Tidak Diketahui"}},ae=(a==null?void 0:a.total)||0,oe=((B=a==null?void 0:a.data)==null?void 0:B.filter(r=>f(r)==="active").length)||0,ne=((Y=a==null?void 0:a.data)==null?void 0:Y.filter(r=>f(r)==="draft").length)||0,se=((O=a==null?void 0:a.data)==null?void 0:O.filter(r=>f(r)==="closed").length)||0;return e.jsxs(pe,{children:[e.jsx(ce,{title:"Daftar Lowongan Pekerjaan"}),e.jsxs(o,{sx:{background:t.palette.mode==="dark"?n(t.palette.primary.dark,.05):n(t.palette.primary.light,.05),py:4,borderRadius:"0.75rem",px:3,mb:4,boxShadow:"none",border:"1px solid",borderColor:"divider"},children:[e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsxs(o,{children:[e.jsx(l,{variant:"h5",fontWeight:"600",gutterBottom:!0,children:"Daftar Lowongan Pekerjaan"}),e.jsx(l,{variant:"body2",color:"text.secondary",children:"Kelola semua lowongan pekerjaan dari perusahaan Anda"})]}),e.jsx(j,{variant:"contained",startIcon:e.jsx(H,{}),component:m,href:route("manager.jobs.create"),sx:{borderRadius:"0.75rem",boxShadow:"0 4px 12px rgba(15, 118, 110, 0.2)"},children:"Tambah Lowongan"})]}),e.jsxs(o,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(4, 1fr)"},gap:2,mt:1},children:[e.jsx(S,{sx:{borderRadius:"0.75rem",border:"1px solid",borderColor:"divider",boxShadow:"none",overflow:"hidden",transition:"all 0.15s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.03)"}},children:e.jsxs(w,{sx:{p:2.5},children:[e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(l,{color:"text.secondary",variant:"body2",fontWeight:"500",children:"Total Lowongan"}),e.jsx(o,{sx:{p:1,borderRadius:"8px",bgcolor:n(t.palette.primary.main,.08)},children:e.jsx(C,{fontSize:"small",color:"primary"})})]}),e.jsx(l,{variant:"h4",sx:{mt:1,fontWeight:"600",color:t.palette.text.primary},children:ae})]})}),e.jsx(S,{sx:{borderRadius:"0.75rem",border:"1px solid",borderColor:"divider",boxShadow:"none",overflow:"hidden",transition:"all 0.15s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.03)"}},children:e.jsxs(w,{sx:{p:2.5},children:[e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(l,{color:"text.secondary",variant:"body2",fontWeight:"500",children:"Lowongan Aktif"}),e.jsx(o,{sx:{p:1,borderRadius:"8px",bgcolor:n(t.palette.success.main,.08)},children:e.jsx(I,{fontSize:"small",color:"success"})})]}),e.jsx(l,{variant:"h4",sx:{mt:1,fontWeight:"600",color:t.palette.text.primary},children:oe})]})}),e.jsx(S,{sx:{borderRadius:"0.75rem",border:"1px solid",borderColor:"divider",boxShadow:"none",overflow:"hidden",transition:"all 0.15s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.03)"}},children:e.jsxs(w,{sx:{p:2.5},children:[e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(l,{color:"text.secondary",variant:"body2",fontWeight:"500",children:"Draft"}),e.jsx(o,{sx:{p:1,borderRadius:"8px",bgcolor:n(t.palette.warning.main,.08)},children:e.jsx(K,{fontSize:"small",color:"warning"})})]}),e.jsx(l,{variant:"h4",sx:{mt:1,fontWeight:"600",color:t.palette.text.primary},children:ne})]})}),e.jsx(S,{sx:{borderRadius:"0.75rem",border:"1px solid",borderColor:"divider",boxShadow:"none",overflow:"hidden",transition:"all 0.15s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.03)"}},children:e.jsxs(w,{sx:{p:2.5},children:[e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(l,{color:"text.secondary",variant:"body2",fontWeight:"500",children:"Ditutup"}),e.jsx(o,{sx:{p:1,borderRadius:"8px",bgcolor:n(t.palette.error.main,.08)},children:e.jsx(C,{fontSize:"small",color:"error"})})]}),e.jsx(l,{variant:"h4",sx:{mt:1,fontWeight:"600",color:t.palette.text.primary},children:se})]})})]})]}),e.jsxs(F,{component:"form",elevation:0,onSubmit:U,sx:{p:2,mb:3,borderRadius:"0.75rem",display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"stretch",md:"center"},gap:2,border:"1px solid",borderColor:"divider",boxShadow:"none"},children:[e.jsxs(o,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr",md:"3fr 1fr 1fr"},gap:2,width:"100%"},children:[e.jsx(R,{fullWidth:!0,placeholder:"Cari lowongan...",variant:"outlined",value:g.search,onChange:r=>b("search",r.target.value),size:"small",InputProps:{startAdornment:e.jsx(ue,{position:"start",children:e.jsx(he,{fontSize:"small"})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:"0.75rem"}}}),e.jsxs(R,{select:!0,fullWidth:!0,variant:"outlined",label:"Status",value:g.status,onChange:r=>b("status",r.target.value),size:"small",sx:{"& .MuiOutlinedInput-root":{borderRadius:"0.75rem"}},children:[e.jsx(d,{value:"",children:"Semua Status"}),e.jsx(d,{value:"active",children:"Aktif"}),e.jsx(d,{value:"draft",children:"Draft"}),e.jsx(d,{value:"closed",children:"Ditutup"})]}),e.jsxs(R,{select:!0,fullWidth:!0,variant:"outlined",label:"Kategori",value:g.category,onChange:r=>b("category",r.target.value),size:"small",sx:{"& .MuiOutlinedInput-root":{borderRadius:"0.75rem"}},children:[e.jsx(d,{value:"",children:"Semua Kategori"}),(J=s.categories)==null?void 0:J.map(r=>e.jsx(d,{value:r.id,children:r.name},r.id))]})]}),e.jsxs(o,{sx:{display:"flex",gap:1,alignSelf:{xs:"flex-end",md:"center"}},children:[e.jsx(k,{title:"Apply Filter",children:e.jsx(j,{variant:"contained",color:"primary",type:"submit",disabled:Q,sx:{borderRadius:"0.75rem",minWidth:"36px",width:"36px",height:"36px",padding:0},children:e.jsx(ge,{fontSize:"small"})})}),e.jsx(k,{title:"Reset Filter",children:e.jsx(W,{color:"primary",onClick:()=>{b({search:"",status:"",category:"",location:""}),M(route("manager.jobs.index"))},sx:{bgcolor:n(t.palette.primary.main,.04),"&:hover":{bgcolor:n(t.palette.primary.main,.08)}},children:e.jsx(ye,{fontSize:"small"})})}),e.jsx(k,{title:"Advanced Filter",children:e.jsx(W,{color:"primary",onClick:()=>$(!0),sx:{bgcolor:n(t.palette.primary.main,.04),"&:hover":{bgcolor:n(t.palette.primary.main,.08)}},children:e.jsx(be,{fontSize:"small"})})})]})]}),L.search&&e.jsx(o,{sx:{mb:3},children:e.jsx(Alert,{severity:"error",sx:{borderRadius:"0.75rem"},children:L.search})}),e.jsxs(F,{elevation:0,sx:{overflow:"hidden",borderRadius:"0.75rem",border:"1px solid",borderColor:"divider",boxShadow:"none",mb:3},children:[e.jsx(ve,{children:e.jsxs(Se,{sx:{minWidth:650},"aria-label":"tabel lowongan pekerjaan",children:[e.jsx(we,{children:e.jsxs(z,{sx:{bgcolor:t.palette.mode==="dark"?n(t.palette.background.paper,.5):n(t.palette.grey[50],1)},children:[e.jsx(i,{sx:{fontWeight:600},children:"Judul Pekerjaan"}),e.jsx(i,{sx:{fontWeight:600},children:"Perusahaan"}),e.jsx(i,{sx:{fontWeight:600},children:"Lokasi"}),e.jsx(i,{sx:{fontWeight:600},children:"Status"}),e.jsx(i,{sx:{fontWeight:600},children:"Tanggal Posting"}),e.jsx(i,{sx:{fontWeight:600},children:"Pelamar"}),e.jsx(i,{align:"center",sx:{fontWeight:600},children:"Aksi"})]})}),e.jsx(Ce,{children:((_=a==null?void 0:a.data)==null?void 0:_.length)>0?a.data.map(r=>{var p;return e.jsxs(z,{hover:!0,sx:{"&:hover":{bgcolor:n(t.palette.primary.main,.04)}},children:[e.jsx(i,{children:e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(I,{fontSize:"small",color:"primary"}),e.jsx(m,{href:route("manager.jobs.show",r.id),className:"text-blue-600 hover:underline",style:{fontWeight:500},children:r.title})]})}),e.jsx(i,{children:e.jsxs(o,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(C,{fontSize:"small",sx:{mr:1,color:t.palette.text.secondary}}),(p=r.company)==null?void 0:p.name]})}),e.jsx(i,{children:e.jsxs(o,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(Ie,{fontSize:"small",sx:{mr:1,color:t.palette.text.secondary}}),r.location]})}),e.jsx(i,{children:e.jsx(V,{label:te(r),color:re(r),size:"small",sx:{minWidth:80,borderRadius:"6px",fontWeight:"500","& .MuiChip-label":{px:1}}})}),e.jsx(i,{children:e.jsxs(o,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(ke,{fontSize:"small",sx:{mr:1,color:t.palette.text.secondary}}),Oe(r.created_at)]})}),e.jsx(i,{children:e.jsx(o,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(V,{icon:e.jsx(De,{fontSize:"small"}),label:r.applications_count,size:"small",sx:{fontWeight:500,borderRadius:"6px",bgcolor:n(t.palette.primary.main,.08),color:t.palette.primary.main}})})}),e.jsx(i,{align:"center",children:e.jsx(W,{onClick:ie=>ee(ie,r),size:"small",sx:{color:t.palette.primary.main,"&:hover":{bgcolor:n(t.palette.primary.main,.1)}},children:e.jsx(Te,{fontSize:"small"})})})]},r.id)}):e.jsx(z,{children:e.jsx(i,{colSpan:7,align:"center",sx:{py:4},children:e.jsxs(o,{sx:{textAlign:"center"},children:[e.jsx(I,{sx:{fontSize:60,color:n(t.palette.text.secondary,.2),mb:2}}),e.jsx(l,{variant:"h6",gutterBottom:!0,children:"Tidak ada data lowongan pekerjaan"}),e.jsx(l,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Belum ada lowongan pekerjaan yang tersedia. Tambahkan lowongan baru untuk mulai merekrut kandidat."}),e.jsx(j,{variant:"contained",startIcon:e.jsx(H,{}),component:m,href:route("manager.jobs.create"),sx:{borderRadius:"0.75rem",mt:1},children:"Tambah Lowongan Baru"})]})})})})]})}),(a==null?void 0:a.last_page)>1&&e.jsx(o,{sx:{mt:3,mb:3,display:"flex",justifyContent:"center",borderTop:`1px solid ${t.palette.divider}`,pt:3},children:e.jsx(Re,{count:a.last_page,page:a.current_page,color:"primary",shape:"rounded",variant:"outlined",renderItem:r=>e.jsx(We,{component:m,href:route("manager.jobs.index",{...g,page:r.page}),...r,sx:{borderRadius:"8px",fontWeight:r.selected?600:400}})})})]}),e.jsxs(fe,{anchorEl:P,open:!!P,onClose:v,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},PaperProps:{elevation:2,sx:{borderRadius:"12px",minWidth:200,overflow:"hidden",mt:1,"& .MuiMenuItem-root":{px:2,py:1.5}}},children:[e.jsxs(d,{component:m,href:x?route("manager.jobs.show",x.id):"#",onClick:v,children:[e.jsx(D,{children:e.jsx(ze,{fontSize:"small",color:"primary"})}),e.jsx(T,{primary:"Lihat Detail"})]}),e.jsxs(d,{component:m,href:x?route("manager.jobs.edit",x.id):"#",onClick:v,children:[e.jsx(D,{children:e.jsx(K,{fontSize:"small",color:"info"})}),e.jsx(T,{primary:"Edit Lowongan"})]}),e.jsx(je,{}),e.jsxs(d,{onClick:()=>{x&&X(x),v()},sx:{color:"error.main"},children:[e.jsx(D,{children:e.jsx(Pe,{fontSize:"small",color:"error"})}),e.jsx(T,{primary:"Hapus Lowongan"})]})]}),e.jsxs(Ae,{open:N,onClose:()=>y(!1),PaperProps:{sx:{borderRadius:"16px",padding:1}},children:[e.jsx(Be,{children:"Konfirmasi Hapus"}),e.jsx(Me,{children:e.jsxs(Ye,{children:['Apakah Anda yakin ingin menghapus lowongan "',u==null?void 0:u.title,'"? Tindakan ini tidak dapat dibatalkan.']})}),e.jsxs(Le,{sx:{pb:2,px:3},children:[e.jsx(j,{onClick:()=>y(!1),variant:"outlined",sx:{borderRadius:"10px"},children:"Batal"}),e.jsx(j,{onClick:Z,color:"error",variant:"contained",sx:{borderRadius:"10px"},children:"Hapus"})]})]})]})}export{Rr as default};

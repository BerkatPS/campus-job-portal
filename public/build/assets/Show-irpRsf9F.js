import{j as r,r as R,S as D,a as X,b as i,J as m}from"./app-DbtvrzCH.js";import{L as Z}from"./Layout-nP23ILEi.js";import{c as Y,u as V,B as e,T as s,a as t,P as u,C as g}from"./Button-B_2tu0cn.js";import{u as rr}from"./index-BJHsQb-H.js";import{C as er}from"./Container-CHMV_DAY.js";import{A as k}from"./Alert-D22fyny9.js";import{C as ar}from"./Check-DS_0GrJd.js";import{E as or}from"./Error-D1IMUwky.js";import{C as W,A}from"./Slide-DsAvN5qg.js";import{A as _}from"./ArrowBack-BlJGXhv6.js";import{E as sr}from"./Edit-LT1RMSQh.js";import{D as z}from"./Delete-DKhiqqSP.js";import{D as v}from"./Button-CgCKgwRd.js";import{D as P}from"./Download-Cg4lzqIY.js";import{I as L}from"./Info-j9m1PK-Q.js";import{C as T}from"./CheckCircle-nvk-SVVX.js";import{S as F}from"./Star-C0Yn4_6R.js";import{C as ir}from"./Card-DBrS13VS.js";import{C as tr}from"./CardHeader-iJjJx4bi.js";import{C as nr}from"./CardContent-BDcyNa-E.js";import{D as B,a as E,b as H}from"./DialogContent-CpDcnQgJ.js";import{D as M}from"./DialogTitle-CnVKeRzh.js";import{D as lr}from"./DialogContentText-BbIC-bWf.js";import{F as dr}from"./InsertDriveFile-DWL1oYxZ.js";import{A as xr}from"./Article-duC-trlL.js";import{P as cr}from"./PictureAsPdf-D2_5a5_Z.js";import{W as pr}from"./Warning-CYk4HSbS.js";import{f as w}from"./formatDistanceToNow-Bl6WKXxM.js";import{i as y}from"./id-GFPdi1w9.js";import"./Sidebar-sw6YawgY.js";import"./moment-C5S46NFB.js";import"./id-DNGKkZzB.js";import"./Work-bK6ZZ-Qp.js";import"./ChevronRight-Bjx9uoMx.js";import"./Person-C1OGobf6.js";import"./People-KxvvNdCJ.js";import"./Event-JhFTkm8A.js";import"./Footer-BBk2Lp_N.js";import"./Close-Dpj-0MLQ.js";import"./constructNow-z21Lzbrf.js";import"./toDate-DQ4lCuA9.js";import"./en-US-DjmIwZ1X.js";import"./endOfDay-CxCfia3b.js";import"./endOfMonth-CEPzkpce.js";const c=Y(r.jsx("path",{d:"M7.5 5.6 10 7 8.6 4.5 10 2 7.5 3.4 5 2l1.4 2.5L5 7zm12 9.8L17 14l1.4 2.5L17 19l2.5-1.4L22 19l-1.4-2.5L22 14zM22 2l-2.5 1.4L17 2l1.4 2.5L17 7l2.5-1.4L22 7l-1.4-2.5zm-7.63 5.29a.996.996 0 0 0-1.41 0L1.29 18.96c-.39.39-.39 1.02 0 1.41l2.34 2.34c.39.39 1.02.39 1.41 0L16.7 11.05c.39-.39.39-1.02 0-1.41zm-1.03 5.49-2.12-2.12 2.44-2.44 2.12 2.12z"})),hr=Y(r.jsx("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H15v-8h5V8zm-1 7V3.5L18.5 9zm4 12.66V16h5.66v2h-2.24l2.95 2.95-1.41 1.41L19 19.41v2.24h-2z"})),se=({auth:J,resumeVersion:a,enhancements:l,flash:p})=>{const[U,h]=R.useState(!1),[$,d]=R.useState(!1),G=V(),n=rr(G.breakpoints.down("sm")),{delete:K,processing:f}=D(),{post:N,processing:j}=D(),O=()=>{K(route("candidate.resume-enhancer.destroy",a.id),{onSuccess:()=>h(!1)})},Q=()=>{N(route("candidate.resume-enhancer.enhance",a.id),{onSuccess:()=>d(!1)})},C=()=>{a.file_path&&window.open(`/storage/${a.file_path}`,"_blank")},b=o=>{if(!o)return"";const x=o.split("/").pop();if(!x)return"";if(x.endsWith(".docx"))return"docx";if(x.endsWith(".doc"))return"doc";const I=x.split(".");return I.length>1?I.pop().toLowerCase():""},S=o=>{switch(b(o)){case"pdf":return r.jsx(cr,{fontSize:"inherit",color:"error"});case"doc":case"docx":return r.jsx(xr,{fontSize:"inherit",color:"info"});default:return r.jsx(dr,{fontSize:"inherit",color:"action"})}},q=o=>{switch(o){case"completed":return r.jsx(T,{});case"processing":return r.jsx(g,{size:16});case"failed":return r.jsx(pr,{});default:return r.jsx(L,{})}};return r.jsxs(Z,{user:J.user,children:[r.jsx(X,{title:`Resume: ${a.version_name}`}),r.jsxs(er,{maxWidth:"lg",sx:{py:4},children:[p.success&&r.jsx(k,{severity:"success",icon:r.jsx(ar,{sx:{color:"#14b8a6"}}),sx:{mb:3,borderRadius:"0.75rem",boxShadow:1,bgcolor:i("#14b8a6",.1),"& .MuiAlert-message":{color:"text.primary"}},children:p.success}),p.error&&r.jsx(k,{severity:"error",icon:r.jsx(or,{}),sx:{mb:3,borderRadius:"0.75rem",boxShadow:1},children:p.error}),r.jsxs(e,{sx:{display:"flex",flexDirection:n?"column":"row",justifyContent:"space-between",alignItems:n?"flex-start":"center",mb:4,gap:2,p:3,borderRadius:"0.75rem",background:"linear-gradient(145deg, #f0fdfa 0%, #ffffff 100%)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.05)"},children:[r.jsxs(e,{sx:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:1.5},children:[r.jsx(s,{variant:"h4",component:"h1",fontWeight:"bold",sx:{background:"linear-gradient(90deg, #14b8a6 0%, #0d9488 100%)",backgroundClip:"text",textFillColor:"transparent",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:a.version_name}),a.is_current&&r.jsx(W,{label:"Resume Aktif",sx:{fontWeight:"medium",bgcolor:"#14b8a6",color:"white",borderRadius:"0.5rem",boxShadow:"0 2px 4px rgba(20, 184, 166, 0.3)"},size:"small"})]}),r.jsxs(e,{sx:{display:"flex",flexDirection:n?"column":"row",gap:1,width:n?"100%":"auto"},children:[r.jsx(t,{component:m,href:route("candidate.resume-enhancer.index"),startIcon:r.jsx(_,{}),variant:"outlined",fullWidth:n,sx:{borderRadius:"0.75rem",borderColor:"#14b8a6",color:"#14b8a6","&:hover":{borderColor:"#0d9488",backgroundColor:i("#14b8a6",.04)},transition:"all 0.2s ease-in-out"},children:"Kembali"}),r.jsx(t,{component:m,href:route("candidate.resume-enhancer.edit",a.id),startIcon:r.jsx(sr,{}),variant:"outlined",fullWidth:n,sx:{borderRadius:"0.75rem",borderColor:"#14b8a6",color:"#14b8a6","&:hover":{borderColor:"#0d9488",backgroundColor:i("#14b8a6",.04)},transition:"all 0.2s ease-in-out"},children:"Edit"}),r.jsx(t,{onClick:()=>h(!0),startIcon:r.jsx(z,{}),variant:"outlined",color:"error",fullWidth:n,sx:{borderRadius:"0.75rem",transition:"all 0.2s ease-in-out","&:hover":{backgroundColor:i("#ef4444",.04)}},children:"Hapus"})]})]}),r.jsxs(e,{sx:{display:"flex",flexDirection:n?"column":"row",gap:3},children:[r.jsx(e,{sx:{width:n?"100%":"66%",display:"flex",flexDirection:"column",gap:3},children:r.jsxs(u,{sx:{p:0,borderRadius:"0.75rem",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.08)",overflow:"hidden",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out","&:hover":{boxShadow:"0 6px 24px rgba(0, 0, 0, 0.12)",transform:"translateY(-2px)"}},children:[r.jsx(e,{sx:{height:"8px",width:"100%",background:"linear-gradient(90deg, #14b8a6 0%, #0f766e 100%)"}}),r.jsxs(e,{sx:{p:3},children:[r.jsxs(e,{sx:{display:"flex",flexDirection:n?"column":"row",justifyContent:"space-between",alignItems:n?"flex-start":"center",mb:2,gap:2},children:[r.jsxs(e,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[r.jsx(hr,{sx:{color:"#14b8a6"}}),r.jsx(s,{variant:"h5",component:"h2",fontWeight:"medium",color:"#14b8a6",children:"Isi Resume"})]}),r.jsx(t,{onClick:()=>d(!0),startIcon:r.jsx(c,{}),variant:"contained",sx:{borderRadius:"0.75rem",px:2,bgcolor:"#14b8a6",boxShadow:"0 4px 14px rgba(20, 184, 166, 0.3)",transition:"all 0.2s","&:hover":{bgcolor:"#0f766e",boxShadow:"0 6px 20px rgba(20, 184, 166, 0.4)",transform:"translateY(-2px)"}},children:"Tingkatkan dengan AI"})]}),r.jsx(v,{sx:{mb:3}}),r.jsx(e,{sx:{whiteSpace:"pre-wrap",p:3,borderRadius:"0.75rem",bgcolor:i("#14b8a6",.05),border:"1px solid",borderColor:i("#14b8a6",.2),minHeight:"400px",overflow:"auto",fontFamily:"inherit",fontSize:"0.95rem",lineHeight:1.6,transition:"all 0.2s","&:hover":{bgcolor:i("#14b8a6",.08),borderColor:i("#14b8a6",.3)}},children:a.content}),a.file_path&&r.jsx(e,{sx:{mt:3},children:r.jsx(t,{startIcon:S(a.file_path),endIcon:r.jsx(P,{}),variant:"outlined",onClick:C,sx:{borderRadius:"0.75rem",borderColor:"#14b8a6",color:"#14b8a6",borderWidth:"1px",transition:"all 0.2s ease-in-out","&:hover":{borderColor:"#0d9488",backgroundColor:i("#14b8a6",.04)}},children:"Unduh File Resume"})})]})]})}),r.jsxs(e,{sx:{width:n?"100%":"34%",display:"flex",flexDirection:"column",gap:3},children:[r.jsxs(u,{sx:{p:3,borderRadius:2,boxShadow:2},children:[r.jsxs(e,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[r.jsx(L,{color:"primary"}),r.jsx(s,{variant:"h5",component:"h2",fontWeight:"medium",children:"Detail Resume"})]}),r.jsx(v,{sx:{mb:2}}),r.jsxs(e,{sx:{mb:3},children:[r.jsx(s,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Dibuat"}),r.jsx(s,{variant:"body1",children:w(new Date(a.created_at),{addSuffix:!0,locale:y})})]}),r.jsxs(e,{sx:{mb:3},children:[r.jsx(s,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Terakhir Diperbarui"}),r.jsx(s,{variant:"body1",children:w(new Date(a.updated_at),{addSuffix:!0,locale:y})})]}),a.file_path&&r.jsxs(e,{sx:{mb:3},children:[r.jsx(s,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"File Terlampir"}),r.jsxs(e,{sx:{display:"flex",alignItems:"center",mt:1,p:2,borderRadius:2,bgcolor:"rgba(0, 0, 0, 0.02)",border:"1px solid",borderColor:"divider"},children:[r.jsx(A,{sx:{bgcolor:b(a.file_path)==="pdf"?"transparent":["doc","docx"].includes(b(a.file_path))?"primary.light":"grey.300",mr:2},children:S(a.file_path)}),r.jsxs(e,{children:[r.jsx(s,{variant:"body2",fontWeight:"medium",sx:{wordBreak:"break-all"},children:a.file_path.split("/").pop()}),r.jsx(s,{variant:"caption",color:"text.secondary",children:b(a.file_path).toUpperCase()})]})]}),r.jsx(t,{variant:"text",startIcon:r.jsx(P,{}),onClick:C,fullWidth:!0,sx:{mt:1,borderRadius:2},children:"Unduh File"})]}),a.is_current?r.jsxs(e,{sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText",borderRadius:2,display:"flex",alignItems:"center",gap:1},children:[r.jsx(T,{color:"inherit",fontSize:"small"}),r.jsx(s,{variant:"body2",children:"Resume ini saat ini aktif digunakan di profil Anda."})]}):r.jsx(t,{component:m,href:route("candidate.resume-enhancer.set-as-current",a.id),variant:"outlined",color:"primary",fullWidth:!0,startIcon:r.jsx(F,{}),sx:{borderRadius:2},children:"Jadikan Resume Aktif"})]}),l&&l.length>0&&r.jsxs(u,{sx:{p:0,borderRadius:"0.75rem",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.08)",overflow:"hidden",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out","&:hover":{boxShadow:"0 6px 24px rgba(0, 0, 0, 0.12)",transform:"translateY(-2px)"}},children:[r.jsx(e,{sx:{height:"8px",width:"100%",background:"linear-gradient(90deg, #14b8a6 0%, #0f766e 100%)"}}),r.jsxs(e,{sx:{p:3},children:[r.jsxs(e,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:2},children:[r.jsx(c,{sx:{color:"#14b8a6"}}),r.jsx(s,{variant:"h5",component:"h2",fontWeight:"medium",color:"#14b8a6",children:"Riwayat Peningkatan"})]}),r.jsx(v,{sx:{mb:2}}),l.map(o=>r.jsxs(ir,{sx:{mb:2,borderRadius:"0.75rem",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.05)",border:"1px solid",borderColor:i("#14b8a6",.2),transition:"all 0.3s ease","&:hover":{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",transform:"translateY(-2px)"}},children:[r.jsx(tr,{avatar:r.jsx(A,{sx:{bgcolor:i(o.status==="completed"?"#14b8a6":o.status==="processing"?"#f59e0b":"#ef4444",.2),color:o.status==="completed"?"#0f766e":o.status==="processing"?"#b45309":"#b91c1c"},children:q(o.status)}),title:r.jsxs(e,{sx:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:.5},children:[r.jsx(s,{variant:"subtitle1",fontWeight:"medium",children:"Peningkatan Resume"}),o.score&&o.status==="completed"&&r.jsx(W,{icon:r.jsx(F,{fontSize:"small"}),label:`Skor: ${o.score}/10`,size:"small",sx:{bgcolor:i("#14b8a6",.1),color:"#0f766e",fontWeight:"medium",borderRadius:"0.5rem"}})]}),subheader:r.jsx(s,{variant:"body2",color:"text.secondary",children:o.processed_at?w(new Date(o.processed_at),{addSuffix:!0,locale:y}):"Sedang diproses"})}),r.jsx(nr,{children:o.status==="processing"?r.jsxs(e,{sx:{display:"flex",alignItems:"center",p:2,borderRadius:"0.75rem",bgcolor:i("#f59e0b",.1),color:"#b45309"},children:[r.jsx(g,{size:20,sx:{mr:2,color:"inherit"}}),r.jsx(s,{variant:"body2",fontWeight:"medium",children:"Sedang menganalisis resume Anda..."})]}):o.status==="completed"?r.jsx(t,{component:m,href:route("candidate.resume-enhancer.enhancement",o.id),variant:"contained",fullWidth:!0,sx:{borderRadius:"0.75rem",bgcolor:"#14b8a6",boxShadow:"0 4px 14px rgba(20, 184, 166, 0.3)",transition:"all 0.2s","&:hover":{bgcolor:"#0f766e",boxShadow:"0 6px 20px rgba(20, 184, 166, 0.4)",transform:"translateY(-2px)"}},endIcon:r.jsx(_,{sx:{transform:"rotate(180deg)"}}),children:"Lihat Hasil Analisis"}):r.jsxs(k,{severity:"error",variant:"filled",sx:{borderRadius:"0.75rem"},children:["Gagal memproses: ",o.overall_feedback||"Terjadi kesalahan pada sistem"]})})]},o.id))]})]}),(!l||l.length===0)&&r.jsx(u,{sx:{p:0,borderRadius:"0.75rem",overflow:"hidden",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.08)"},children:r.jsxs(e,{sx:{background:"linear-gradient(135deg, #14b8a6 0%, #0f766e 100%)",p:3,color:"white"},children:[r.jsxs(e,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:2},children:[r.jsx(c,{sx:{color:"white"}}),r.jsx(s,{variant:"h6",fontWeight:"bold",children:"Tingkatkan Resume Anda"})]}),r.jsx(s,{variant:"body2",paragraph:!0,children:"Anda belum pernah meningkatkan resume ini. Gunakan fitur AI untuk mendapatkan saran peningkatan yang dapat membantu Anda mendapatkan pekerjaan."}),r.jsx(t,{onClick:()=>d(!0),variant:"contained",sx:{bgcolor:"white",color:"#14b8a6",borderRadius:"0.75rem",boxShadow:"0 4px 14px rgba(255, 255, 255, 0.3)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.9)",boxShadow:"0 6px 20px rgba(255, 255, 255, 0.4)",transform:"translateY(-2px)"},transition:"all 0.2s"},fullWidth:!0,children:"Mulai Peningkatan"})]})})]})]})]}),r.jsxs(B,{open:U,onClose:()=>h(!1),PaperProps:{sx:{borderRadius:"0.75rem",p:1,boxShadow:"0 10px 35px rgba(0, 0, 0, 0.15)"}},children:[r.jsx(M,{children:r.jsxs(e,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[r.jsx(z,{color:"error"}),r.jsx(s,{variant:"h6",fontWeight:"bold",children:"Hapus Resume?"})]})}),r.jsx(E,{children:r.jsxs(lr,{children:['Apakah Anda yakin ingin menghapus resume "',a.version_name,'"? Tindakan ini tidak dapat dibatalkan.']})}),r.jsxs(H,{sx:{p:2},children:[r.jsx(t,{onClick:()=>h(!1),variant:"outlined",sx:{borderRadius:"0.75rem",borderColor:"rgba(0, 0, 0, 0.12)",color:"text.primary","&:hover":{borderColor:"rgba(0, 0, 0, 0.2)",backgroundColor:"rgba(0, 0, 0, 0.04)"},transition:"all 0.2s ease-in-out"},children:"Batal"}),r.jsx(t,{onClick:O,color:"error",variant:"contained",disabled:f,startIcon:f&&r.jsx(g,{size:20,color:"inherit"}),sx:{borderRadius:"0.75rem",boxShadow:"0 4px 14px rgba(239, 68, 68, 0.3)","&:hover":{boxShadow:"0 6px 20px rgba(239, 68, 68, 0.4)"},transition:"all 0.2s ease-in-out"},children:f?"Menghapus...":"Hapus"})]})]}),r.jsxs(B,{open:$,onClose:()=>d(!1),PaperProps:{sx:{borderRadius:"0.75rem",p:1,boxShadow:"0 10px 35px rgba(0, 0, 0, 0.15)"}},children:[r.jsx(M,{children:r.jsxs(e,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[r.jsx(c,{sx:{color:"#14b8a6"}}),r.jsx(s,{variant:"h6",fontWeight:"bold",color:"#14b8a6",children:"Tingkatkan Resume dengan AI?"})]})}),r.jsx(E,{children:r.jsxs(e,{sx:{mb:2},children:[r.jsx(s,{variant:"body1",paragraph:!0,children:"AI akan menganalisis resume Anda dan memberikan saran peningkatan untuk meningkatkan peluang mendapatkan pekerjaan. Proses ini mungkin membutuhkan waktu beberapa saat."}),r.jsx(s,{variant:"body2",fontWeight:"medium",color:"text.secondary",children:"Anda akan mendapatkan:"}),r.jsxs(e,{component:"ul",sx:{pl:"1.5rem",mt:"0.5rem","& li":{mb:"0.5rem",color:"text.primary"}},children:[r.jsx("li",{children:"Saran perbaikan untuk kata-kata kunci yang hilang"}),r.jsx("li",{children:"Rekomendasi format dan struktur"}),r.jsx("li",{children:"Pendeteksian ketrampilan yang perlu ditambahkan"}),r.jsx("li",{children:"Skor kualitas resume Anda"})]})]})}),r.jsxs(H,{sx:{p:2},children:[r.jsx(t,{onClick:()=>d(!1),variant:"outlined",sx:{borderRadius:"0.75rem",borderColor:"#14b8a6",color:"#14b8a6","&:hover":{borderColor:"#0d9488",backgroundColor:i("#14b8a6",.04)},transition:"all 0.2s ease-in-out"},children:"Batal"}),r.jsx(t,{onClick:Q,variant:"contained",disabled:j,startIcon:j?r.jsx(g,{size:20,color:"inherit"}):r.jsx(c,{}),sx:{borderRadius:"0.75rem",bgcolor:"#14b8a6",boxShadow:"0 4px 14px rgba(20, 184, 166, 0.3)","&:hover":{bgcolor:"#0f766e",boxShadow:"0 6px 20px rgba(20, 184, 166, 0.4)"},transition:"all 0.2s ease-in-out"},children:j?"Memproses...":"Mulai Analisis"})]})]})]})};export{se as default};

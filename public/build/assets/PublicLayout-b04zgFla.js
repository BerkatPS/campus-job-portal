import{r as n,j as e,q as G,S as U,M as V,J as l,m as b,b as X}from"./app-DbtvrzCH.js";import{F as Z}from"./Footer-BBk2Lp_N.js";import{B as d,I as j,D as $,L as ee}from"./Button-CgCKgwRd.js";import{B as R}from"./Badge-D46szsdn.js";import{D as re}from"./Dropdown-BRdAFtyH.js";import{S as oe}from"./SearchBar-CuK-1Vse.js";import{M as te}from"./Modal-B-OjsfG3.js";import{S as se}from"./Spinner-3KcxgD8W.js";import{c as ne,u as ae,B as s,T as p,P as ie}from"./Button-B_2tu0cn.js";import{u as le}from"./index-BJHsQb-H.js";import{H as ce}from"./Home-wgIOuhD3.js";import{W as de,F as xe,B,A as ue,e as pe,T as he,D as M,f as D,g as ge,h as me,L as fe,a as be,b as je}from"./Work-bK6ZZ-Qp.js";import{C as ye}from"./Container-CHMV_DAY.js";import{A as H,S as ve}from"./Slide-DsAvN5qg.js";import{K as Se}from"./KeyboardArrowDown-D2-MAAcg.js";import{L as O}from"./Login-d_1S4TJU.js";import{P as z}from"./PersonAdd-KJOVN6_v.js";import{C as we}from"./Close-BbHhCS19.js";import{S as P}from"./Stack-CsubfPvX.js";function Ie(a,r){const{disableHysteresis:o=!1,threshold:c=100,target:i}=r,x=a.current;return i&&(a.current=i.pageYOffset!==void 0?i.pageYOffset:i.scrollTop),!o&&x!==void 0&&a.current<x?!1:a.current>c}const Ce=typeof window<"u"?window:null;function Le(a={}){const{getTrigger:r=Ie,target:o=Ce,...c}=a,i=n.useRef(),[x,g]=n.useState(()=>r(i,c));return n.useEffect(()=>{if(o===null)return g(!1);const m=()=>{g(r(i,{target:o,...c}))};return m(),o.addEventListener("scroll",m,{passive:!0}),()=>{o.removeEventListener("scroll",m,{passive:!0})}},[o,r,JSON.stringify(c)]),x}const ke=ne(e.jsx("path",{d:"M22 3H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2M8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3m6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1zm3.85-4h1.64L21 16l-1.99 1.99c-1.31-.98-2.28-2.38-2.73-3.99-.18-.64-.28-1.31-.28-2s.1-1.36.28-2c.45-1.62 1.42-3.01 2.73-3.99L21 8l-1.51 2h-1.64c-.22.63-.35 1.3-.35 2s.13 1.37.35 2"}));function We(a){const{children:r}=a,o=Le();return e.jsx(ve,{appear:!1,direction:"down",in:!o,children:r})}const Ve=({children:a})=>{var I,C,L,k,W;const{auth:r}=G().props,o=ae(),c=le(o.breakpoints.down("sm")),{post:i}=U(),[x,g]=n.useState(!1),[m,E]=n.useState(null),[h,N]=n.useState(!1),[Te,F]=n.useState(""),[Ae,_]=n.useState(0),[q,J]=n.useState(!1),[K,y]=n.useState(!1);n.useEffect(()=>{r!=null&&r.user&&_(3);const t=()=>{const u=window.scrollY>20;u!==h&&N(u)},T=new IntersectionObserver(u=>{u.forEach(A=>{A.isIntersecting&&F(A.target.id)})},{threshold:.5});return document.querySelectorAll("section[id]").forEach(u=>{T.observe(u)}),window.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",t),T.disconnect()}},[h,r]);const Y=t=>{E(t.currentTarget)},f=()=>{g(!x)},Q=t=>{y(!0),setTimeout(()=>{y(!1)},1e3)},v=()=>{i(route("logout"))},S=[{text:"Beranda",route:"public.home",icon:e.jsx(ce,{})},{text:"Lowongan",route:"public.jobs.index",icon:e.jsx(de,{})},...((I=r==null?void 0:r.user)==null?void 0:I.role_id)===3||((C=r==null?void 0:r.user)==null?void 0:C.role)===1?[{text:"Forum",route:"public.forum.index",icon:e.jsx(xe,{}),badge:((L=r==null?void 0:r.user)==null?void 0:L.role)==="candidate"?"New":null}]:[],{text:"Perusahaan",route:"public.companies.index",icon:e.jsx(B,{})},{text:"Kontak",route:"public.contact",icon:e.jsx(ke,{})}],w=()=>r.user?r.user.role_id===1?"admin.dashboard":r.user.role_id===2?"manager.dashboard":"candidate.dashboard":"login";return e.jsx(V,{children:e.jsxs(s,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[e.jsx(We,{children:e.jsx(ue,{position:"fixed",color:"default",elevation:0,sx:{background:h?"rgba(255, 255, 255, 0.95)":"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",borderBottom:h?"1px solid rgba(0, 0, 0, 0.05)":"none",transition:"all 0.3s ease-in-out",color:o.palette.text.primary,boxShadow:h?"0 4px 20px rgba(0, 0, 0, 0.04)":"none"},children:e.jsx(ye,{maxWidth:"xl",children:e.jsxs(pe,{sx:{minHeight:{xs:"4rem",md:"4.5rem"},p:{xs:1,sm:2}},children:[e.jsxs(l,{href:route("public.home"),className:"flex items-center mr-6",children:[e.jsx(s,{sx:{backgroundImage:"url('images/stia.png')",backgroundSize:"cover",display:{xs:"none",sm:"flex"},alignItems:"center",justifyContent:"center",bgcolor:"rgba(0, 0, 0, 0.04)",color:o.palette.text.primary,p:1.5,borderRadius:2,mr:1.5}}),e.jsxs(p,{variant:"h6",component:"div",sx:{fontWeight:600,letterSpacing:"-0.5px",display:{xs:"none",sm:"block"},color:o.palette.text.primary},children:["STIA Bayu Angga",e.jsx(s,{component:"span",sx:{opacity:.7},children:" Loker"})]})]}),e.jsx(s,{sx:{display:{xs:"none",md:"flex"},gap:1,mx:"auto"},children:S.map(t=>e.jsx(b.div,{whileHover:{y:-1},transition:{type:"spring",stiffness:300},children:e.jsx(l,{href:route(t.route),children:e.jsxs(d,{variant:"text",sx:{px:2,py:1,borderRadius:"10px",color:route().current(t.route)?o.palette.text.primary:o.palette.text.secondary,bgcolor:route().current(t.route)?"rgba(0, 0, 0, 0.04)":"transparent",fontWeight:route().current(t.route)?500:400,"&:hover":{bgcolor:"rgba(0, 0, 0, 0.04)"}},startIcon:e.jsx(s,{sx:{color:route().current(t.route)?o.palette.text.primary:o.palette.text.secondary,opacity:route().current(t.route)?1:.7},children:t.icon}),children:[t.text,t.badge&&e.jsx(R,{labe:t.badge,color:"error",size:"small",sx:{ml:1}})]})})},t.text))}),e.jsxs(s,{sx:{ml:"auto",display:"flex",alignItems:"center",gap:1},children:[r.user?e.jsxs(e.Fragment,{children:[e.jsx(he,{title:"Notifikasi",children:e.jsx(j,{sx:{color:o.palette.text.secondary,borderRadius:"10px","&:hover":{bgcolor:"rgba(0, 0, 0, 0.04)"}}})}),e.jsx(s,{children:e.jsx(re,{buttonType:"icon",position:"bottom-right",trigger:e.jsxs(d,{onClick:Y,variant:"text",sx:{borderRadius:"10px",px:{xs:1,sm:2},py:1,color:o.palette.text.primary,"&:hover":{bgcolor:"rgba(0, 0, 0, 0.04)"}},endIcon:!c&&e.jsx(Se,{sx:{color:o.palette.text.secondary}}),children:[e.jsx(H,{src:r.user.profile_photo||void 0,alt:r.user.name,sx:{width:32,height:32,mr:{xs:0,sm:1},bgcolor:"rgba(0, 0, 0, 0.08)"},children:(k=r.user.name)==null?void 0:k.charAt(0)}),e.jsx(s,{component:"span",sx:{fontWeight:500,display:{xs:"none",sm:"inline"},maxWidth:"120px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:r.user.name})]}),items:[{label:r.user.name,disabled:!0,fontWeight:"bold"},{label:r.user.email,disabled:!0,color:"text.secondary"},{divider:!0},{label:"Dashboard",icon:e.jsx(M,{fontSize:"small"}),onClick:()=>{window.location.href=route(w())}},{divider:!0},{label:"Logout",icon:e.jsx(D,{fontSize:"small"}),onClick:v}]})})]}):e.jsxs(s,{sx:{display:"flex",gap:1},children:[e.jsx(b.div,{whileHover:{scale:1.02},children:e.jsx(l,{href:route("login"),children:e.jsx(d,{variant:"text",sx:{display:{xs:"none",sm:"inline-flex"},borderRadius:"10px",px:2,py:1,color:o.palette.text.primary,bgcolor:"transparent","&:hover":{bgcolor:"rgba(0, 0, 0, 0.04)"}},startIcon:e.jsx(O,{}),children:"Login"})})}),e.jsx(b.div,{whileHover:{scale:1.02},children:e.jsx(l,{href:route("register"),children:e.jsx(d,{variant:"contained",sx:{borderRadius:"10px",px:{xs:2,sm:3},py:1,bgcolor:"rgba(0, 0, 0, 0.8)",color:"#fff","&:hover":{bgcolor:"rgba(0, 0, 0, 0.7)"}},startIcon:e.jsx(z,{}),children:c?"":"Register"})})})]}),e.jsx(s,{sx:{display:{xs:"flex",md:"none"}},children:e.jsx(j,{"aria-label":"menu",onClick:f,sx:{color:o.palette.text.primary,borderRadius:"10px","&:hover":{bgcolor:"rgba(0, 0, 0, 0.04)"}},children:e.jsx(ge,{})})})]})]})})})}),e.jsx(te,{open:q,onClose:()=>J(!1),title:"Cari",maxWidth:"md",fullWidth:!0,children:e.jsxs(s,{sx:{p:2},children:[e.jsx(oe,{onSearch:Q,placeholder:"Cari lowongan, perusahaan, atau lokasi...",fullWidth:!0}),K&&e.jsx(s,{sx:{display:"flex",justifyContent:"center",my:2},children:e.jsx(se,{size:40})})]})}),e.jsx(me,{anchor:"right",open:x,onClose:f,sx:{"& .MuiDrawer-paper":{width:"85%",maxWidth:"360px"}},children:e.jsxs(b.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},children:[e.jsxs(s,{sx:{p:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(s,{sx:{backgroundImage:"url('images/stia.png')",backgroundSize:"cover",display:{xs:"none",sm:"flex"},alignItems:"center",justifyContent:"center",bgcolor:"rgba(0, 0, 0, 0.04)",color:o.palette.text.primary,p:1,borderRadius:1.5,mr:1.5},children:e.jsx(B,{fontSize:"small"})}),e.jsx(p,{variant:"subtitle1",sx:{fontWeight:600},children:"STIA Bayu Angga"})]}),e.jsx(j,{onClick:f,edge:"end",sx:{color:o.palette.text.secondary,borderRadius:"10px","&:hover":{bgcolor:"rgba(0, 0, 0, 0.04)"}},children:e.jsx(we,{})})]}),e.jsx($,{sx:{opacity:.6}}),r.user&&e.jsx(s,{sx:{p:3},children:e.jsxs(ie,{elevation:0,sx:{p:2.5,bgcolor:"rgba(0, 0, 0, 0.02)",borderRadius:3,border:"1px solid rgba(0, 0, 0, 0.05)"},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(H,{src:r.user.profile_photo||void 0,alt:r.user.name,sx:{width:44,height:44,bgcolor:"rgba(0, 0, 0, 0.08)"},children:(W=r.user.name)==null?void 0:W.charAt(0)}),e.jsxs(s,{sx:{flex:1,overflow:"hidden"},children:[e.jsx(p,{variant:"subtitle1",sx:{fontWeight:600,lineHeight:1.3},children:r.user.name}),e.jsx(p,{variant:"body2",color:"text.secondary",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:r.user.email})]})]}),e.jsxs(P,{direction:"row",spacing:1.5,sx:{mt:2.5},children:[e.jsx(l,{href:route(w()),className:"flex-1",children:e.jsx(d,{variant:"outlined",fullWidth:!0,sx:{borderRadius:"10px",py:1,borderColor:"rgba(0, 0, 0, 0.2)",color:o.palette.text.primary,"&:hover":{borderColor:"rgba(0, 0, 0, 0.3)",bgcolor:"rgba(0, 0, 0, 0.02)"}},startIcon:e.jsx(M,{fontSize:"small"}),children:"Dashboard"})}),e.jsx(l,{href:"#",onClick:v,className:"flex-1",children:e.jsx(d,{variant:"outlined",fullWidth:!0,sx:{borderRadius:"10px",py:1,borderColor:"rgba(0, 0, 0, 0.12)",color:o.palette.error.main,"&:hover":{borderColor:o.palette.error.main,bgcolor:X(o.palette.error.main,.04)}},startIcon:e.jsx(D,{fontSize:"small"}),children:"Logout"})})]})]})}),e.jsx(ee,{sx:{px:2,py:1},children:S.map(t=>e.jsx(l,{href:route(t.route),children:e.jsxs(fe,{button:!0,onClick:f,sx:{borderRadius:"10px",mb:.75,bgcolor:route().current(t.route)?"rgba(0, 0, 0, 0.04)":"transparent","&:hover":{bgcolor:"rgba(0, 0, 0, 0.02)"}},children:[e.jsx(be,{sx:{minWidth:40,color:route().current(t.route)?o.palette.text.primary:o.palette.text.secondary,opacity:route().current(t.route)?1:.7},children:t.icon}),e.jsx(je,{primary:e.jsxs(s,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(p,{variant:"body1",sx:{fontWeight:route().current(t.route)?500:400,color:route().current(t.route)?o.palette.text.primary:o.palette.text.secondary},children:t.text}),t.badge&&e.jsx(R,{label:t.badge,color:"error",size:"small",sx:{ml:1}})]})})]})},t.route))}),!r.user&&e.jsxs(s,{sx:{p:3,mt:1},children:[e.jsx(p,{variant:"subtitle2",sx:{fontWeight:500,mb:2.5,color:o.palette.text.secondary,px:1},children:"Bergabung dengan STIA Bayu Angga Loker"}),e.jsxs(P,{spacing:1.5,children:[e.jsx(l,{href:route("register"),className:"w-full",children:e.jsx(d,{variant:"contained",fullWidth:!0,sx:{borderRadius:"10px",py:1.5,bgcolor:"rgba(0, 0, 0, 0.8)",color:"#fff","&:hover":{bgcolor:"rgba(0, 0, 0, 0.7)"}},startIcon:e.jsx(z,{}),children:"Daftar Akun Baru"})}),e.jsx(l,{href:route("login"),className:"w-full",children:e.jsx(d,{variant:"outlined",fullWidth:!0,sx:{borderRadius:"10px",py:1.5,borderColor:"rgba(0, 0, 0, 0.2)",color:o.palette.text.primary,"&:hover":{borderColor:"rgba(0, 0, 0, 0.3)",bgcolor:"rgba(0, 0, 0, 0.02)"}},startIcon:e.jsx(O,{}),children:"Login"})})]})]})]})}),e.jsx(s,{sx:{flex:"1 0 auto",pt:{xs:"4rem",md:"4.5rem"},bgcolor:"background.default"},children:a}),e.jsx(Z,{})]})})};export{Ve as P};
